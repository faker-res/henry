<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>
    <title>Reward API</title>
</head>
<body>

<h3>GET REWARD LIST (获取奖励活动列表)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <p></p>
    <button data-api-name="getRewardList">Get Reward List</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET REWARD TASK (获取玩家奖励任务)</h3>
<div class="test-container">
    <div>
        <label>Player ID
            <input name="playerId">
        </label>
    </div>
    <p></p>
    <button data-api-name="getRewardTask">Get Player Reward Task</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>REQUEST CONSUMPTION REBATE (申请结算消费返点)</h3>
<div class="test-container">
    <div>
        <label>Player ID
            <input name="playerId">
        </label>
    </div>
    <p></p>
    <button data-api-name="requestConsumeRebate">Request</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>IS VALID FOR FIRST TIME TOP UP REWARD (是否符合首冲奖励条件)</h3>
<div class="test-container">
    <div>
        <label>Player ID
            <input name="playerId">
        </label>
    </div>
    <p></p>
    <button data-api-name="isValidForFirstTopUpReward">Check</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>CREATE FIRST TIME TOP UP REWARD PROPOSAL (创建首冲奖励提案)</h3>
<div class="test-container">
    <div>
        <label>Player ID
            <input name="playerId">
        </label>
    </div>
    <div>
        <label>Top Up Record ID
            <input name="topUpRecordId">
        </label>
    </div>
    <div>
        <label>Reward Code
            <input name="code">
        </label>
    </div>
    <p></p>
    <button data-api-name="createFirstTopUpRewardProposal">Create</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>APPLY GAME PROVIDER (申请游戏提供商奖励)</h3>
<div class="test-container">
    <div>
        <label>Player ID
            <input name="playerId">
        </label>
    </div>
    <div>
        <label>Event Object ID
            <input name="eventId">
        </label>
    </div>
    <div>
        <label>Amount
            <input name="amount">
        </label>
    </div>
    <p></p>
    <button data-api-name="applyProviderReward">Apply</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET PLAYER REWARD LIST (获取玩家奖励活动申请列表)</h3>
<div class="test-container">
    <div>
        <label>Reward Type
            <input name="rewardType">
        </label>
    </div>
    <div>
        <label>Start Time
            <input name="startTime" type="datetime-local">
        </label>
    </div>
    <div>
        <label>End Time
            <input name="endTime" type="datetime-local">
        </label>
    </div>
    <div>
        <label>Start Index
            <input name="startIndex" type="number">
        </label>
    </div>
    <div>
        <label>Request Count (max results)
            <input name="requestCount" type="number">
        </label>
    </div>
    <div>
        <label>
            Available types:</p>
            全勤: "FullAttendance",</p>
            玩家消费返点: "PlayerConsumptionReturn",</p>
            玩家首冲: "FirstTopUp",</p>
            游戏提供商奖励: "GameProviderReward",</p>
            转账奖励: "PlatformTransactionReward"</p>
        </label>
    </div>
    <p></p>
    <button data-api-name="getPlayerRewardList">Get Player Reward List</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET CONSUMPTION REBATE AMOUNT (获取消费返点额度)</h3>
<div class="test-container">
    <button data-api-name="getConsumeRebateAmount">Get</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Apply Reward Event (申请奖励活动)</h3>
<div class="test-container">
    <div>
        1 FirstTopUp
        2 Provider
        3 ConsumeRebate
        4 TopUpReturn
        5 ConsumptionIncentive
        break;
    </div>
    <div>
        <label>*Code
            <input name="code">
        </label>
    </div>
    <div>
        <label>requestId
            <input name="requestId">
        </label>
    </div>
    <div>
        <label>topUpRecordId
            <input name="topUpRecordId">
        </label>
    </div>
    <div>
        <label>(reward) code
            <input name="code">
        </label>
    </div>
    <div>
        <label>amount
            <input name="amount">
        </label>
    </div>
    <div>
        <label>referralName
            <input name="referralName">
        </label>
    </div>

    <p></p>
    <button data-api-name="applyRewardEvent">Apply</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET REFERRAL LIST (获取推荐玩家列表)</h3>
<div class="test-container">
    <div>
        <label>status
            <input name="status">
        </label>
    </div>
    <button data-api-name="getPlayerReferralList">Get</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET PLAYER CONSECUTIVE LOGIN DAY (获取玩家登陆累计天数)</h3>
<div class="test-container">
    <div>
        <label>Code
            <input name="code">
        </label>
    </div>
    <button data-api-name="getConsecutiveLoginRewardDay">Get</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET TOP UP PROMOTION LIST  (获取在线充值优惠)</h3>
<div class="test-container">
    <div>
        <label>Client Type
            <input name="clientType">
        </label>
    </div>
    <p></p>
    <button data-api-name="getTopUpPromoList">Get Top Up Promotion List</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET PROMO CODE (获取优惠代码)</h3>
<div class="test-container">
  <div>1 AVAILABLE 2 ACCEPTED 3 EXPIRED</div>
    <div>
        <label>Player ID
            <input name="playerId">
        </label>
    </div>
    <div>
      <label>Platform ID
        <input name="platformId">
      </label>
    </div>
    <div>
      <label>Status
        <input name="status">
      </label>
    </div>
    <p></p>
    <button data-api-name="getPromoCode">Get Promo Code</button>
    <div>
        <textarea></textarea>
    </div>
</div>
<h3>APPLY PROMO CODE (申请优惠代码)</h3>
<div class="test-container">
    <div>
      <label>PromoCode
        <input name="promoCode">
      </label>
    </div>
    <p></p>
    <button data-api-name="applyPromoCode">Apply Promo Code</button>
    <div>
        <textarea></textarea>
    </div>
</div>
<h3>GET LIMITED OFFERS (获取秒杀礼包)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>Status
            <input name="status">
        </label>
    </div>
    <p></p>
    <button data-api-name="getLimitedOffers">Get Limited Offers</button>
    <div>
        <textarea></textarea>
    </div>
</div>
<h3>APPLY LIMITED OFFERS (申请秒杀礼包)</h3>
<div class="test-container">
    <div>
        <label>limitedOfferObjId
            <input name="limitedOfferObjId">
        </label>
    </div>
    <p></p>
    <button data-api-name="applyLimitedOffers">Apply Limited Offers</button>
    <div>
        <textarea></textarea>
    </div>
</div>
<h3>GET LIMITED OFFERS BONUS LIST ()</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <p></p>
    <button data-api-name="getLimitedOfferBonus">GET</button>
    <div>
        <textarea></textarea>
    </div>
</div>
<h3>SET LIMITED OFFER SHOW INFO ()</h3>
<div class="test-container">
    <div>
        <label>showInfo
            <input name="showInfo">
        </label>
    </div>
    <p></p>
    <button data-api-name="setLimitedOfferShowInfo">GET</button>
    <div>
        <textarea></textarea>
    </div>
</div>
<h3>SET showInfo State()</h3>
<div class="test-container">
    <div>
        <label>Player ID
            <input name="playerId">
        </label>
    </div>
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>showInfo State
            <input name="showInfoState">
        </label>
    </div>
    <p></p>
    <button data-api-name="setBonusShowInfo">SET</button>
    <div>
        <textarea></textarea>
    </div>

<script>
    require(['services/client/ClientServices', 'common/WebSocketClient', 'common/TestHelper', 'testAPI/clientAPITest/ClientRewardAPITest', 'testAPI/clientAPITest/ClientPlayerAPITest', 'testAPI/clientAPITest/ClientConnectionAPITest'],
        function (ClientServices, WebSocketClient, TestHelper, ClientRewardAPITest, ClientPlayerAPITest, ClientConnectionAPITest) {
            var Client = function (url) {

                WebSocketClient.call(this, url);

                var RewardService = new ClientServices.RewardService();
                this.addService(RewardService);

                var playerService = new ClientServices.PlayerService();
                this.addService(playerService);

                var conService = new ClientServices.ConnectionService();
                this.addService(conService);
            };

            var proto = Client.prototype = Object.create(WebSocketClient.prototype);
            proto.constructor = Client;

            var client = new Client(TestHelper.websocketURL);
            client.connect();

            client.addEventListener("open", function () {
                var RewardService = client.getService("reward");
                var clientRewardAPITest = new ClientRewardAPITest(RewardService);

                var connectionService = client.getService("connection");
                var connAPITest = new ClientConnectionAPITest(connectionService);

                connAPITest.setLang(function (data) {
                    console.log('setlang data.....', data);
                });

                TestHelper.loginCookiePlayer(client, ClientPlayerAPITest);

                TestHelper.setAPIName('ClientServices.reward');
                TestHelper.attachListeners(clientRewardAPITest);
            });

            TestHelper.addReconnectOnCloseListener(client);
        }
    );


</script>
</body>
</html>
</body>
</html>
