<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>Test Platform API</title>
</head>
<body>

<h3>GET Platform Details (获取平台信息)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <p></p>
    <button data-api-name="getPlatformDetails">Get Platform Details</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET Platform Announcements (获取平台公告)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>Reach (optional)
            <select name="reach">
                <!-- These values can be obtained from the enum in platformAnnouncement.js -->
                <option value="">----</option>
                <option value="all">all</option>
                <option value="players">players</option>
                <option value="conditional">conditional</option>
                <option value="partner">partner</option>
            </select>
        </label>
    </div>
    <p></p>
    <button data-api-name="getPlatformAnnouncements">Get Platform Announcements</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET Platform Configuration (获取平台设置)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>Device type
            <input name="device">
        </label>
    </div>
    <p></p>
    <button data-api-name="getConfig">Get platform configuration</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>GET Live Stream Info (获取JBL 直播讯息)</h3>
<div class="test-container">

    <p></p>
    <button data-api-name="getLiveStream">Get platform configuration</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Search Platform Consumption (获取平台消费记录)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>Count
            <input name="requestCount">
        </label>
    </div>
    <div>
        <label>isRanking
            <select name="isRanking">
                <option value="true">true</option>
                <option value="false">false</option>
            </select>
        </label>
    </div>
    <p></p>
    <button data-api-name="searchConsumptionRecord">Search</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Click Count</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>Device
            <input name="device">
        </label>
    </div>
    <div>
        <label>Page Name
            <input name="pageName">
        </label>
    </div>
    <div>
        <label>Domain
            <input name="domain">
        </label>
    </div>
    <div>
        <label>Button Name
            <input name="buttonName">
        </label>
    </div>
    <div>
        <p><small>* Set only either one of the below options to TRUE </small></p>
        <p><small>* 只能将以下任一的选项设置为 TRUE</small></p>
    </div>
    <div>
        <label>registerClickApp
            <select name="registerClickApp">
                <option value="false" selected>False</option>
                <option value="true">True</option>
            </select>
        </label>
    </div>
    <div>
        <label>registerClickWeb
            <select name="registerClickWeb">
                <option value="false" selected>False</option>
                <option value="true">True</option>
            </select>
        </label>
    </div>
    <div>
        <label>registerClickH5
            <select name="registerClickH5">
                <option value="false" selected>False</option>
                <option value="true">True</option>
            </select>
        </label>
    </div>
    <p></p>
    <button data-api-name="clickCount">Add</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>电销系统开户(Create Player From Tel)</h3>
<div class="test-container">
    <div>
        <label>Player Account
            <input name="playerAccount">
        </label>
    </div>
    <div>
        <label>Real Name
            <input name="realName">
        </label>
    </div>
    <div>
        <label>Password
            <input name="password">
        </label>
    </div>
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>Phone Number
            <input name="phoneNumber">
        </label>
    </div>
    <div>
        <label>Player Type
            <input name="playerType">
        </label>
    </div>
    <div>
        <label>QQ
            <input name="qq">
        </label>
    </div>
    <div>
        <label>Wechat
            <input name="wechat">
        </label>
    </div>
    <div>
        <label>Email
            <input name="email">
        </label>
    </div>
    <div>
        <label>Gender
            <input name="gender">
        </label>
    </div>
    <div>
        <label>Date of birth
            <input name="DOB">
        </label>
    </div>
    <div>
        <label>Tel Sales Name
            <input name="telSalesName">
        </label>
    </div>
    <div>
        <label>Promotion Method
            <input name="promoMethod">
        </label>
    </div>
    <div>
        <label>Fame
            <input name="fame">
        </label>
    </div>
    <div>
        <label id="deviceType">Device Type
            <input type=text name="deviceType">
        </label>
    </div>
    <div>
        <label id="subPlatformId">Sub PlatformId
            <input type=text name="subPlatformId">
        </label>
    </div>
    <p></p>
    <button data-api-name="createPlayerFromTel">Add</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>EXTRACT USER FROM FPMS (玩家资料导出)</h3>
<div class="test-container">
    <div>
        <label>proposalId
            <input name="proposalId">
        </label>
    </div>

    <p></p>
    <button data-api-name="extractUserFromFpms">Get</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Get Platform Setting (获取平台设置)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <p></p>
    <button data-api-name="getPlatformSetting">Get Platform Setting</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Get QR CODE (获取QR CODE)</h3>
<div class="test-container">
    <div>
        <label>Target Url
            <input name="targetUrl">
        </label>
    </div>
    <p></p>
    <button data-api-name="turnUrlToQr">Get QR Code</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Get Template Setting (获取模板设置)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>url
            <input name="url">
        </label>
    </div>
    <p></p>
    <button data-api-name="getTemplateSetting">Get Template Setting</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Add IP Domain Log</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <div>
        <label>domain
            <input name="domain">
        </label>
    </div>
    <div>
        <label>Source URL
            <input name="sourceUrl">
        </label>
    </div>
    <div>
        <label>Partner Id
            <input name="partnerId">
        </label>
    </div>
    <p></p>
    <button data-api-name="addIpDomainLog">Add</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Check IP is IDC</h3>
<div class="test-container">
    <div>
        <label>IP Address
            <input name="ipAddress">
        </label>
    </div>
    <p></p>
    <button data-api-name="getIDCIpDetail">Check</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Get Locked Lobby Config (获取平台锁大厅配置)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId">
        </label>
    </div>
    <p></p>
    <button data-api-name="getLockedLobbyConfig">Get</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Save FrontEnd Data (前端保存数据接口)</h3>
<div class="test-container">
    <div>
    <label>Platform ID
        <input name="platformId" type="number">
    </label>
    </div>
    <div>
        <label>Token
            <input name="token" type="text">
        </label>
    </div>
    <div>
        <label>Page
            <input name="page" type="number">
        </label>
    </div>
    <div>
        <label>Data
            <input name="data" type="text">
        </label>
    </div>
    <p></p>
    <button data-api-name="saveFrontEndData">Save</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Get Frontend Data (前端获取数据接口)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId" type="number">
        </label>
    </div>
    <div>
        <label>Page
            <input name="page" type="number">
        </label>
    </div>
    <p></p>
    <button data-api-name="getFrontEndData">Get</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>sendFileFTP (文件上传ftp)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId" type="number">
        </label>
    </div>
    <div>
        <label>token
            <input name="token">
        </label>
    </div>
    <div>
        <label>fileName
            <input name="fileName">
        </label>
    </div>
    <p></p>
    <button data-api-name="sendFileFTP">send</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>Get Frontend Configuration (获取前端設置数据接口)</h3>
<div class="test-container">
    <div>
        <label>Platform ID
            <input name="platformId" type="number">
        </label>
    </div>
    <div>
        <label> Code
            <input name="code" type="text">
        </label>
    </div>
    <div>
        <label> Client Type
            <input name="clientType" type="number">
        </label>
    </div>
    <p></p>
    <button data-api-name="getFrontEndConfig">Get</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<script>
    require(['services/client/ClientServices', 'common/WebSocketClient', 'common/TestHelper', 'testAPI/clientAPITest/ClientPlatformAPITest','testAPI/clientAPITest/ClientConnectionAPITest'],
            function (ClientServices, WebSocketClient, TestHelper, ClientPlatformAPITest, ClientConnectionAPITest) {
                var Client = function (url) {

                    WebSocketClient.call(this, url);

                    var platformService = new ClientServices.PlatformService();
                    this.addService(platformService);

                    var conService = new ClientServices.ConnectionService();
                    this.addService(conService);
                };

                var proto = Client.prototype = Object.create(WebSocketClient.prototype);
                proto.constructor = Client;

                var client = new Client(TestHelper.websocketURL);
                client.connect();

                client.addEventListener("open", function () {
                    var platformService = client.getService("platform");
                    var clientPlatformAPITest = new ClientPlatformAPITest(platformService);

                    var connectionService = client.getService("connection");
                    var connAPITest = new ClientConnectionAPITest(connectionService);

                    connAPITest.setLang(function (data) {
                        console.log('setlang data.....', data);
                    });

                    TestHelper.setAPIName('ClientServices.platform');
                    TestHelper.attachListeners(clientPlatformAPITest);

                });

                TestHelper.addReconnectOnCloseListener(client);
            }
    );


</script>
</body>
</html>