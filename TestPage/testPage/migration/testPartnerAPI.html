<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>
    <title>Test Payment Proposal Update</title>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>-->
    <!--<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>-->
    <!--<script src="common/require.js" data-main="testProposalAPI"></script>-->
</head>
<body>
<h3>Create Partner(添加推广渠道)</h3>
<div class="test-container">
    <div>
        <label>partnerName
            <input name="partnerName">
        </label>
    </div>
    <div>
        <label>password
            <input name="password">
        </label>
    </div>
    <div>
        <label>email
            <input name="email">
        </label>
    </div>
    <div>
        <label>realName
            <input name="realName">
        </label>
    </div>
    <div>
        <label>phoneNumber
            <input name="phoneNumber">
        </label>
    </div>
    <div>
        <label>platform name
            <input name="platform">
        </label>
    </div>
    <div>
        <label>partnerLevel value
            <input name="partnerLevel" type="number">
        </label>(0/1/2/3/4/5)
    </div>
    <div>
        <label>registrationTime
            <input name="registrationTime" type="date">
        </label>
    </div>
    <div>
        <label>lastAccessTime
            <input name="lastAccessTime" type="date">
        </label>
    </div>
    <div>
        <label>credits
            <input name="credits">
        </label>
    </div>
    <div>
        <label>totalReferrals
            <input name="totalReferrals">
        </label>
    </div>
    <div>
        <label>bankAccountName
            <input name="bankAccountName">
        </label>
    </div>
    <div>
        <label>bankAccount
            <input name="bankAccount">
        </label>
    </div>
    <div>
        <label>bankName
            <input name="bankName">
        </label>
    </div>
    <div>
        <label>bankAccountType
            <input name="bankAccountType">
        </label>
    </div>
    <div>
        <label>bankAccountCity
            <input name="bankAccountCity">
        </label>
    </div>
    <div>
        <label>bankAddress
            <input name="bankAddress">
        </label>
    </div>

    <div>
        <label>internetBanking
            <input name="internetBanking">
        </label>
    </div>
    <div>
        <label>parent
            <input name="parent">
        </label>
    </div>
    <p>
        <button data-api-name="create">Create Partner</button>
    <div>
        <textarea></textarea>
    </div>
</div>

<h3>create Partner Login Record(添加推广渠道登录记录)</h3> 
<div class="test-container"> 
    <div> 
        <label>Partner Name 
            <input name="partnerName"> 
        </label> 
    </div>
     
    <div> 
        <label>platform Id 
            <input name="platform"> 
        </label> 
    </div>
     
    <div> 
        <label>loginTime 
            <input name="loginTime" type="date"> 
        </label> 
    </div>
     
    <div> 
        <label>loginIP 
            <input name="loginIP"> 
        </label> 
    </div>
     
    <div> 
        <label>clientType
              <input name="clientType"> 
        </label> 
    </div>
     
    <div> 
        <label>logoutTime
              <input name="logoutTime" type="date"> 
        </label> 
    </div>
     
    <div> 
        <label>country
              <input name="country"> 
        </label> 
    </div>
     
    <div> 
        <label>city
              <input name="city"> 
        </label> 
    </div>
     
    <div> 
        <label>province
              <input name="province"> 
        </label> 
    </div>
     
    <div> 
        <label>longitude
              <input name="longitude"> 
        </label> 
    </div>
     
    <div> 
        <label>latitude
              <input name="latitude"> 
        </label> 
    </div>
     
    <div> 
        <label>userAgent
              <input name="userAgent"> 
        </label> 
    </div>
     
    <div> 
        <button id="createPartnerLoginRecord" data-api-name="createPartnerLoginRecord">Create</button>
    </div>
     
    <div>  <textarea></textarea> </div>
     
</div>

<h3>Update Partner(更新玩家)</h3>
<div class="test-container">
    <div>
        <label>partnerName
            <input name="partnerName">
        </label>
    </div>
    <div>
        <label>platform Id
            <input name="platform">
        </label>
    </div>
    <div>
        <label>updateData
            <input name="updateData">
        </label>
    </div>
    <div>
        <button data-api-name="updatePartner">Update</button>
    </div>
    <div>
        <textarea></textarea>
    </div>
</div>

<script>
    require(['services/migration/MigrationServices', 'common/WebSocketClient', 'common/TestHelper', 'testAPI/migrationAPITest/PartnerAPITest', 'testAPI/migrationAPITest/ConnectionAPITest'],
            function (MigrationServices, WebSocketClient, TestHelper, PartnerAPITest, connectionAPITest) {
                var Client = function (url) {

                    WebSocketClient.call(this, url);

                    var connectionService = new MigrationServices.ConnectionService();
                    this.addService(connectionService);

                    var partnerService = new MigrationServices.PartnerService();
                    this.addService(partnerService);
                };

                var proto = Client.prototype = Object.create(WebSocketClient.prototype);
                proto.constructor = Client;

                $(document).ready(function () {

                    var client = new Client("ws://" + TestHelper.wsMigration + ":9680");

                    client.connect();

                    client.addEventListener("open", function () {

//                        var connectionService = client.getService("connection");
//                        console.log("connectionService....", connectionService);
//                        var connAPITest = new connectionAPITest(connectionService);

                        var partnerService = client.getService("partner");
                        var partnerAPITest = new PartnerAPITest(partnerService);

                        //todo::enable login later
//                        connAPITest.login(function (data) {
//                            console.log('login data.....', data);
//                        }, {
//                            name: "testApiUser",
//                            password: "123"
//                        });

                        TestHelper.setAPIName('MigrationServices.partner');
                        TestHelper.attachListeners(partnerAPITest);

                    });

                    TestHelper.addReconnectOnCloseListener(client);
                });
            }
    );

</script>
</body>
</html>