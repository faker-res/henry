#reportRightTable.panel.panel-danger.widthto100.inline-block
    .panel-heading
        .pull-left(style='margin-top: -5px;')
            a.fa.fa-chevron-circle-left.contractIcon(ng-show='!vm.hideLeftPanel', ng-click='vm.setPanel(true)')
            a.fa.fa-chevron-circle-right.contractIcon(ng-show='vm.hideLeftPanel', ng-click='vm.setPanel(false)')
        label {{vm.showPageName | translate}}
        span(ng-if='vm.currentRewardCode').margin-left-5 ({{"REWARD_CODE" | translate}} : {{vm.currentRewardCode}})
    .panel-body
        div(ng-if='vm.showPageName=="TOPUP_REPORT"')
            #topUpReportQuery.block-query.col-md-12.well
                //div
                    label &nbsp;
                    button.btn.btn-primary(ng-click='vm.resetTopupRecord()') {{'Reset' | translate}}
                .search-filters-item
                    label.control-label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.form-control.merchantNoList.spicker(ng-model='vm.queryTopup.platformList', bsp, multiple, data-actions-box='true' ng-change="vm.getTopupReportMerchantFilterDetails()", ng-options='v._id as v.name$ for v in vm.platformList')
                .search-filters-item
                    label {{'PLAYER_NAME' | translate}}
                    input.form-control(type='text', ng-model='vm.queryTopup.playerName')
                .search-filters-item
                    label {{'topupType' | translate}}
                    select.form-control(ng-change='vm.filterMerchant()',ng-model='vm.queryTopup.mainTopupType', required)
                        option(value='') {{"any" | translate}}
                        option(ng-repeat='(i,v) in vm.topUpTypeList', value='{{v}}') {{i | translate}}
                .search-filters-item
                    label {{'DEVICE' | translate}} ({{"Old" | translate}})
                    select.form-control.merchantNoList(ng-options='i as v|translate for (i,v) in vm.topUpReportInputDevice' ng-change='vm.filterMerchant()',ng-model='vm.queryTopup.userAgent', required, multiple, static-bsp, data-actions-box='true')
                .search-filters-item
                    label {{"Login Device"|translate}}
                    select.spiker.form-control(ng-model='vm.queryTopup.loginDevice' ng-init='$last && vm.endLoadMultipleSelect()', bsp, multiple, data-actions-box='true', ng-options='i as v | translate for (i,v) in vm.propsosalDeviceList')
                .search-filters-item
                    label {{'Online Topup Type' | translate}}
                    select.form-control.merchantNoList(ng-change='vm.filterMerchant()', ng-model='vm.queryTopup.topupType', multiple, static-bsp, data-actions-box='true')
                        option(ng-repeat='(i,v) in merchantTopupTypeJson', value='{{i}}') {{ v | translate}}({{v}})
                .search-filters-item
                    label {{'3rd Party Platform' | translate}}
                    select.form-control.merchantNoList(ng-change='vm.filterMerchant()', ng-model='vm.queryTopup.merchantGroup',ng-options='mer as mer.name for mer in vm.merchantGroupCloneList', multiple, bsp, data-actions-box='true')
                
                .search-filters-item
                    label {{'DEPOSIT_METHOD' | translate}}
                    select.form-control.merchantNoList(ng-model='vm.queryTopup.depositMethod', multiple, static-bsp, data-actions-box='true')
                        option(value='1') 网银转账(OnlineTransfer)
                        option(value='2') 自动取款机(ATM)
                        option(value='3') 银行柜台(Counter)
                        option(value='4') 支付宝转帐(AliPay Transfer)
                        option(value='5') 微信转帐(WeChatPay Transfer)
                        option(value='6') 云闪付(CloudFlashPay)
                        option(value='7') 云闪付转账(CloudFlashPay Transfer)
                        //option(value='5') 支付宝(AliPay)


                .search-filters-item
                    label 收款银行类别
                    select.form-control.merchantNoList(ng-change='vm.filterMerchant()', ng-model='vm.queryTopup.bankTypeId', ng-options='i as v | translate for (i,v) in vm.allBankTypeList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{'Business Acc/ Bank Acc' | translate}}
                    select.form-control.merchantNoList(ng-change='vm.groupByIfAliPayLine()', ng-model='vm.queryTopup.merchantNoData', ng-options='a as a.name group by a.merchantTypeName for a in vm.merchantCloneList' , multiple, bsp, static-bsp, alipay-line-group, data-actions-box='true')
                        //option(value='') {{'any' | translate}}
                        //option(ng-repeat='(i,v) in vm.merchantNoList' ,ng-init='$last && vm.initMultiSelect()', value='{{v.merchantNo}}') {{v.name}}
                        //option()
                .search-filters-item
                    label {{'STATUS' | translate}}
                    select.form-control.merchantNoList(ng-model='vm.queryTopup.status', ng-options='v as v | translate for (i,v) in vm.proposalStatusList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label.control-label {{'Start date' | translate}}
                    .startTime
                .search-filters-item
                    label.control-label {{'End date' | translate}}
                    .endTime
                .search-filters-item
                    label {{"Proposal No"|translate}}
                    input#topupReportQueryProposalId.noGrey.form-control(ng-model="vm.queryTopup.proposalId", ng-change='vm.hideOtherConditions("#topUpReportQuery",vm.queryTopup.proposalId,".noGrey")')
                .text-right.widthto100
                    label &nbsp;
                    button.btn.btn-success.btn-space(ng-click='vm.searchTopupRecord(true)') {{'SEARCH' | translate}}
                    button.btn.btn-warning.btn-space(ng-click='vm.loadPage(vm.showPageName)') {{'Reset' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchTopupRecord(true, true)') {{'EXPORT_EXCEL' | translate}}
                    span#topupTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.queryTopup.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}} / {{"Total" | translate}} {{vm.queryTopup.totalPlayer}} {{"PLAYERS_IN_TOTAL" | translate}}
            table#topupTable.common-table.display.widthto100
            #topupTablePage
            table#topupExcelTable.common-table.display(style="min-width:100% ;overflow: scroll; display; none !important")
        div(ng-if='vm.showPageName=="PROPOSAL_REPORT"')
            #proposalReportQuery.block-query.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.form-control.spicker(ng-model='vm.proposalQuery.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{"REGISTRATION_AGENT"|translate}} {{"Old" | translate}}
                    select.form-control(ng-model="vm.proposalQuery.inputDevice")
                        option(value=-1)
                        option(value='') {{'all'|translate}}
                        option(value=0) {{'Backstage'|translate}}
                        option(value=1) {{'Web Player'|translate}}
                        option(value=2) {{'Web Agent'|translate}}
                        option(value=3) {{'HTML5 Player'|translate}}
                        option(value=4) {{'HTML5 Agent'|translate}}
                        option(value=5) {{'APP Player'|translate}}
                        option(value=6) {{'APP Agent'|translate}}
                .search-filters-item
                    label {{"Login Device"|translate}}
                    select.spiker.form-control(ng-model='vm.proposalQuery.loginDevice' ng-init='$last && vm.endLoadMultipleSelect()', bsp, multiple, data-actions-box='true', ng-options='i as v | translate for (i,v) in vm.propsosalDeviceList')
                .search-filters-item
                    label {{"Proposal Type"|translate}}
                    select.form-control#selectProposalType(multiple="multiple", ng-options='i._id as i.name | translate group by vm.getProposalTypeOptionValue(i) | translate for (k,i) in ( vm.allProposalType | unique: "name" ) track by i.name', ng-model='abc')

                    //select.form-control(ng-model='vm.proposalQuery.proposalTypeId', style='max-width:300px', required)
                        option(value='all') {{"all" | translate}}
                        option(ng-repeat='(i,v) in vm.allProposalType', value='{{v._id}}', ng-selected='vm.selectedProposalType==v._id') {{v.name | translate}}

                .search-filters-item
                    label {{"CUSTOMIZED_PROMO_NAME"|translate}}
                    select.form-control#selectRewardType(multiple="multiple", ng-options='i._id as i.name for (k,i) in ( vm.rewardList | unique: "name" ) track by i.name', ng-model='bbc')
                .search-filters-item
                    label {{"PROMO_CODE_NAME"|translate}}
                    select.form-control#selectPromoType(multiple="multiple", ng-options='i._id as i.name for (k,i) in ( vm.promoTypeList | unique: "name" ) track by i.name', ng-model='cbc')

                .search-filters-item
                    label {{"Proposal Status"|translate}}
                    select.form-control(ng-model='vm.proposalQuery.status', required)
                        option(value='all') {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.proposalStatusList', value='{{v}}', ng-selected='vm.proposalQuery.status==v._id') {{v | translate}}
                .search-filters-item
                    label {{"RELATED_ACCOUNT" | translate}}
                    input.form-control(ng-model='vm.proposalQuery.relatedAccount' type='text')
                .search-filters-item
                    label {{"REMARK" | translate}}
                    input.form-control(ng-model='vm.proposalQuery.remark' type='text')
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .search-filters-item
                    label {{"Proposal No"|translate}}
                    input#proposalReportQueryProposalId.noGrey.form-control(type="text", ng-model="vm.proposalQuery.proposalId", ng-change='vm.hideOtherConditions("#proposalReportQuery",vm.proposalQuery.proposalId,".noGrey")')
                .text-right.widthto100
                    label &nbsp;
                    button.btn.btn-success.btn-space(ng-click='vm.searchProposalRecord(true)') {{'SEARCH' | translate}}
                    button.btn.btn-warning.btn-space(ng-click='vm.loadPage(vm.showPageName, null, null, null, true)') {{'Reset' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchProposalRecord(true, true)') {{'EXPORT_EXCEL' | translate}}
                    span#proposalTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.proposalQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}} / {{"Total" | translate}} {{vm.proposalQuery.totalPlayer}} {{"PLAYERS_IN_TOTAL" | translate}}
            table.common-table#proposalTable.display(style="width:100%;overflow: scroll;max-height:700px")
            #proposalTablePage
            table.common-table#proposalExcelTable.display(style="width:100%;overflow: scroll;max-height:700px")
         div(ng-if='vm.showPageName=="FINANCIAL_POINTS_REPORT"')
            #financialPointsReportQuery.block-query.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.form-control.spicker(ng-model='vm.financialQuery.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{"FINANCIAL_POINTS_TYPE"|translate}}
                    select.form-control#selectFinancialPointsType(multiple="multiple", ng-model='bbca')
                        option(ng-repeat='(i,v) in vm.financialPointsType', value='{{v}}') {{i | translate}}
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    label &nbsp;
                    button.btn.btn-success.btn-space(ng-click='vm.searchFinancialPointsRecord(true)') {{'SEARCH' | translate}}
                    button.btn.btn-warning.btn-space(ng-click='vm.loadPage(vm.showPageName)') {{'Reset' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchFinancialPointsRecord(true, true)') {{'EXPORT_EXCEL' | translate}}
                    span#financialPointsTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.financialQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#financialPointsTable.display(style="width:100%;overflow: scroll;max-height:700px")
            #financialPointsTablePage
            table.common-table#financialPointsExcelTable.display(style="width:100%;overflow: scroll;max-height:700px")

        div(ng-if='vm.showPageName=="CONSUMPTION_MODE_REPORT"')
            #consumptionModeReportQuery.block-query.col-md-12.well
                .search-filters-item
                    label.control-label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.spicker.form-control(ng-model='vm.consumptionModeQuery.platformList', bsp, multiple, data-actions-box='true' ng-change="vm.dynamicPlatform()", ng-options='v._id as v.name$ for v in vm.platformList')
                .search-filters-item
                    label {{"Game Type"|translate}}
                    select.form-control(ng-model="vm.consumptionModeQuery.gameProvider" ng-change="vm.dynamicGameType()")
                        option(ng-repeat="(i,v) in vm.allGameProviders" value="{{v}}") {{v.name}}

                .search-filters-item
                    label {{"GAME_TYPE"|translate}}
                    select.form-control(ng-model="vm.consumptionModeQuery.gameType" ng-change="vm.dynamicBetType()")
                        option(ng-repeat="(i,v) in vm.providerGameType" value="{{v}}") {{v.gameType}}
                .search-filters-item
                    label {{"betType"|translate}}
                    select.form-control#selectBetType(multiple="multiple", ng-model='cbc')
                        option(ng-repeat="(i,v) in vm.gameBetType track by $index" value="{{v}}") {{v}}
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    label &nbsp;
                    button.btn.btn-success.btn-space(ng-click='vm.searchConsumptionModeRecord(true)') {{'SEARCH' | translate}}
                    button.btn.btn-warning.btn-space(ng-click='vm.loadPage(vm.showPageName)') {{'Reset' | translate}}
                    span#consumptionModeTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.consumptionModeQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#consumptionModeTable.display(style="width:100%;overflow: scroll;max-height:700px")
            #consumptionModeTablePage

        div(ng-if='vm.showPageName=="PROVIDER_REPORT"')
            //提供商报表
            #operationReportQuery.block-query.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.queryOperation.platformId' ng-change='vm.getPlatformProvider(vm.queryOperation.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{"Provider"|translate}}
                    select.form-control(ng-model='vm.queryOperation.providerId', required)
                        option(value="all") {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.allProviders', value='{{v._id}}') {{v.name || translate}}

                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    label &nbsp;
                    button.btn.btn-success.btn-space(ng-click='vm.searchOperationRecord()') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.exportToExcel("operationTable", "PROVIDER_REPORT")') {{'EXPORT_EXCEL' | translate}}
                    span#operationTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.operationReportLoadingStatus}}
            .clearfix
            label {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table#operationTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
            table.common-table.simple-table#operationSummaryTable.collapse(style='margin-top:10px;font-size:12px')
                thead
                    tr
                        th {{'TOTAL_PLAYER' | translate}}
                        th {{'TOTAL_CONSUMPTION' | translate}}
                        th {{'VALID_CONSUMPTION' | translate}}
                        th {{'TIMES_CONSUMED' | translate}}
                        th {{'PLAYER PROFIT AMOUNT' | translate}}
                        th {{'COMPANY_PROFIT_POINT' | translate}}
                tbody
                    tr
                        td {{vm.operationSummaryData.total_player}}
                        td {{vm.operationSummaryData.total_amount | number : 2}}
                        td {{vm.operationSummaryData.validAmount | number : 2}}
                        td {{vm.operationSummaryData.total_consumption}}
                        td {{vm.operationSummaryData.bonusAmount | number : 2}}
                        td {{(vm.operationSummaryData.bonusAmount/vm.operationSummaryData.validAmount*100 || 0) * -1 | number : 2 }}%

        div(ng-if='vm.showPageName=="PLAYER_EXPENSE_REPORT"')
            #playerExpenseReportQuery.block-query.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.playerExpenseQuery.platformId' ng-change='vm.getPlatformProvider(vm.playerExpenseQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{"Player ID"|translate}}
                    input.form-control(type="text", ng-model="vm.playerExpenseQuery.playerId")
                .search-filters-item
                    label {{"Player Name"|translate}}
                    input.form-control(type="text", ng-model="vm.playerExpenseQuery.playerName")
                .search-filters-item
                    label {{"Provider"|translate}}
                    select.form-control(ng-model='vm.playerExpenseQuery.providerId', required)
                        option(value='all') {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.allProviders', value='{{v._id}}', ng-selected='vm.playerExpenseQuery.providerId==v._id') {{v.name || translate}}
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    label &nbsp;
                    button.btn.btn-success.btn-space(ng-click='vm.searchProviderPlayerRecord(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchProviderPlayerRecord(true,true)') {{'EXPORT_EXCEL' | translate}}
                    span#playerExpenseTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.operationReportLoadingStatus}}
            .clearfix
            label {{"Total" | translate}} {{vm.playerExpenseQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#playerExpenseTable.display(style="width:100% ;overflow-x: scroll")
            #playerExpenseTablePage
            table.common-table#playerExpenseExcelTable.display(style="width:100% ;overflow-x: scroll")

        div(ng-if='vm.showPageName=="PLAYER_REPORT"')
            .col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.playerQuery.platformId' ng-change='vm.reportOnPlatformChange(vm.playerQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{"LOGIN_DEVICE"|translate}}
                    select.spicker.form-control(ng-model='vm.playerQuery.loginDevice', bsp, multiple, data-actions-box='true', ng-options='v as i | translate for (i,v) in vm.constPlayerDevice')
                .search-filters-item
                    label {{"CREDIBILITY"|translate}}
                    select.form-control#selectCredibilityRemarks(multiple="multiple", ng-options='remark._id as remark.name | translate for remark in vm.filterCredibilityRemarks', ng-model="vm.playerQuery.credibilityRemarks")

                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.playerQuery.valueScoreOperator === "range")}')
                    label {{"PlayerValue" | translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.playerQuery.valueScoreOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.playerScoreValue" )
                        div.symbol(ng-if="vm.playerQuery.valueScoreOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.playerScoreValueTwo" ng-if="vm.playerQuery.valueScoreOperator === 'range'")
                .search-filters-item
                    label {{'LEVEL' | translate}}
                    select.form-control(ng-model="vm.playerQuery.level", ng-options='a as b.name for (a,b) in vm.playerLvlData')
                        option(value='') {{'any' | translate}}
                .search-filters-item
                    label {{"Provider"|translate}}
                    select.form-control(ng-model='vm.playerQuery.providerId', style='max-width:300px', required)
                        option(value='') {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.allProviders', value='{{v._id}}') {{v.name || translate}}
                .search-filters-item
                    label {{'Start date' | translate}}
                        //a.fa.fa-times.text-danger.close(ng-click='vm.clearDatePicker("#regDateTimePicker")')
                        .startTime
                    #startingDateTimePicker
                .search-filters-item
                    label {{'End date' | translate}}
                        //a.fa.fa-times.text-danger.close(ng-click='vm.clearDatePicker("#regEndDateTimePicker")')
                        .endTime
                    #endingEndDateTimePicker
                .search-filters-item
                    label {{'Player Name' | translate}}
                    input.form-control(ng-model="vm.playerQuery.name")
                .search-filters-item
                    label {{"csPromoteWay"|translate}}
                    select.spicker.form-control(ng-model='vm.playerQuery.csPromoteWay', multiple, data-actions-box='true')
                        option(value="") {{"N/A" | translate}}
                        option(ng-repeat='(i,v) in vm.allPromoteWay', value='{{v.name}}' ng-init='$last && vm.endLoadMultipleSelect()') {{v.name}}
                .search-filters-item
                    label {{"REGISTRATION_DEPARTMENT"|translate}}
                    select.spicker.form-control(ng-model='vm.playerQuery.departments', bsp, multiple, data-actions-box='true' ng-change="vm.setQueryRole(vm.playerQuery)", ng-options='dp._id as dp.departmentName | translate for dp in vm.queryDepartments')
                .search-filters-item
                    label {{"REGISTRATION_ROLE"|translate}}
                    select.spicker.form-control(ng-model='vm.playerQuery.roles', bsp, multiple, data-actions-box='true' ng-change="vm.setQueryAdmins(vm.playerQuery)", ng-options='dp._id as dp.roleName | translate for dp in vm.queryRoles')
                .search-filters-item
                    label {{"REGISTRATION_ADMIN"|translate}}
                    select.spicker.form-control(ng-model='vm.playerQuery.admins', bsp, multiple, data-actions-box='true', ng-options='dp.adminName === "N/A" ? dp._id : dp.adminName as dp.adminName | translate for dp in vm.queryAdmins | unique: "_id"')
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.playerQuery.consumptionTimesOperator === "range")}')
                    label {{"Consumption Times"|translate}}
                     div
                        select.threeBoxes.form-control(ng-model="vm.playerQuery.consumptionTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.consumptionTimesValue")
                        div.symbol(ng-if="vm.playerQuery.consumptionTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.consumptionTimesValueTwo" ng-if="vm.playerQuery.consumptionTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.playerQuery.profitAmountOperator === "range")}')
                    label {{"PLAYER_PROFIT_AMOUNT"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.playerQuery.profitAmountOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.profitAmountValue")
                        div.symbol(ng-if="vm.playerQuery.profitAmountOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.profitAmountValueTwo"  ng-if="vm.playerQuery.profitAmountOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.playerQuery.topUpTimesOperator === "range")}')
                    label {{"TOP_UP_TIMES"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.playerQuery.topUpTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.topUpTimesValue")
                        div.symbol(ng-if="vm.playerQuery.topUpTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.topUpTimesValueTwo" ng-if="vm.playerQuery.topUpTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.playerQuery.bonusTimesOperator === "range")}')
                    label {{"BonusTime"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.playerQuery.bonusTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.bonusTimesValue")
                        div.symbol(ng-if="vm.playerQuery.bonusTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.bonusTimesValueTwo" ng-if="vm.playerQuery.bonusTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.playerQuery.topUpAmountOperator === "range")}')
                    label {{"TOTAL_TOP_UP"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.playerQuery.topUpAmountOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.topUpAmountValue" )
                        div.symbol(ng-if="vm.playerQuery.topUpAmountOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerQuery.topUpAmountValueTwo" ng-if="vm.playerQuery.topUpAmountOperator === 'range'")
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchPlayerReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchPlayerReport(true, true)') {{'EXPORT_EXCEL' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.reCalculatePlayerReportSummary()') {{'RECALCULATE' | translate}}
                    span#loadingPlayerReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.playerQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#playerReportTable.display(style="width:100% ;overflow-x: scroll")
            #playerReportTablePage
            table.common-table#playerReportExcelTable.display(style="width:100% ;overflow-x: scroll")


        div(ng-if='vm.showPageName=="DEVICE_REPORT"')
            .col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.deviceQuery.platformId' ng-change='vm.reportOnPlatformChange(vm.deviceQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{'LEVEL' | translate}}
                    select.form-control(ng-model="vm.deviceQuery.level", ng-options='a as b.name for (a,b) in vm.playerLvlData')
                        option(value='') {{'any' | translate}}
                .search-filters-item
                    label {{"Provider"|translate}}
                    select.form-control(ng-model='vm.deviceQuery.providerId', style='max-width:300px', required)
                        option(value='') {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.allProviders', value='{{v._id}}') {{v.name || translate}}
                .search-filters-item
                    label {{'Start date' | translate}}
                        .startTime
                    #deviceStartingDateTimePicker
                .search-filters-item
                    label {{'End date' | translate}}
                        .endTime
                    #deviceEndingEndDateTimePicker
                .search-filters-item
                    label {{'Player Name' | translate}}
                    input.form-control(ng-model="vm.deviceQuery.name")
                .search-filters-item
                    label {{"csPromoteWay"|translate}}
                    select.spicker.form-control(ng-model='vm.deviceQuery.csPromoteWay', multiple, data-actions-box='true')
                        option(value="") {{"N/A" | translate}}
                        option(ng-repeat='(i,v) in vm.allPromoteWay', value='{{v.name}}' ng-init='$last && vm.endLoadMultipleSelect()') {{v.name}}
                .search-filters-item
                    label {{"Login Device"|translate}}
                    select.spiker.form-control(ng-model='vm.deviceQuery.loginDevice' ng-init='$last && vm.endLoadMultipleSelect()', bsp, multiple, data-actions-box='true', ng-options='i as v | translate for (i,v) in vm.loginDeviceList')
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.deviceQuery.consumptionTimesOperator === "range")}')
                    label {{"Consumption Times"|translate}}
                        div
                            select.threeBoxes.form-control(ng-model="vm.deviceQuery.consumptionTimesOperator")
                                option(value='>=') {{'>='}}
                                option(value='=') {{'='}}
                                option(value='<=') {{'<='}}
                                option(value='range') {{'range'|translate}}
                            input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.consumptionTimesValue")
                            div.symbol(ng-if="vm.deviceQuery.consumptionTimesOperator === 'range'") ~
                            input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.consumptionTimesValueTwo" ng-if="vm.deviceQuery.consumptionTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.deviceQuery.profitAmountOperator === "range")}')
                    label {{"PLAYER_PROFIT_AMOUNT"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.deviceQuery.profitAmountOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.profitAmountValue")
                        div.symbol(ng-if="vm.deviceQuery.profitAmountOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.profitAmountValueTwo"  ng-if="vm.deviceQuery.profitAmountOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.deviceQuery.topUpTimesOperator === "range")}')
                    label {{"TOP_UP_TIMES"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.deviceQuery.topUpTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.topUpTimesValue")
                        div.symbol(ng-if="vm.deviceQuery.topUpTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.topUpTimesValueTwo" ng-if="vm.deviceQuery.topUpTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.deviceQuery.bonusTimesOperator === "range")}')
                    label {{"BonusTime"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.deviceQuery.bonusTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.bonusTimesValue")
                        div.symbol(ng-if="vm.deviceQuery.bonusTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.bonusTimesValueTwo" ng-if="vm.deviceQuery.bonusTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.deviceQuery.topUpAmountOperator === "range")}')
                    label {{"TOTAL_TOP_UP"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.deviceQuery.topUpAmountOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.topUpAmountValue" )
                        div.symbol(ng-if="vm.deviceQuery.topUpAmountOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.deviceQuery.topUpAmountValueTwo" ng-if="vm.deviceQuery.topUpAmountOperator === 'range'")
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchDeviceReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchDeviceReport(true, true)') {{'EXPORT_EXCEL' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.reCalculateDeviceReportSummary()') {{'RECALCULATE' | translate}}
                    span#loadingDeviceReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.deviceQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#deviceReportTable.display(style="width:100% ;overflow-x: scroll")
            #deviceReportTablePage
            table.common-table#deviceReportExcelTable.display(style="width:100% ;overflow-x: scroll")

        div(ng-if='vm.showPageName=="PLAYER_DEPOSIT_ANALYSIS_REPORT"')
            .col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.depositAnalysisQuery.platformId' ng-change='vm.reportOnPlatformChange(vm.depositAnalysisQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{'Player Name' | translate}}
                    input.form-control(ng-model="vm.depositAnalysisQuery.name")
                .search-filters-item
                    label {{"CREDIBILITY"|translate}}
                    select.form-control#selectCredibilityRemarksDepositAnalysis(multiple="multiple", ng-options='remark._id as remark.name | translate for remark in vm.filterCredibilityRemarks', ng-model="vm.depositAnalysisQuery.credibilityRemarks")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.depositAnalysisQuery.valueScoreOperator === "range")}')
                    label {{"PlayerValue" | translate}}
                     div
                        select.threeBoxes.form-control(ng-model="vm.depositAnalysisQuery.valueScoreOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.depositAnalysisQuery.playerScoreValue" )
                        div.symbol(ng-if="vm.depositAnalysisQuery.valueScoreOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.depositAnalysisQuery.playerScoreValueTwo"  ng-if="vm.depositAnalysisQuery.valueScoreOperator === 'range'")
                .search-filters-item
                    label {{'LEVEL' | translate}}
                    select.form-control(ng-model="vm.depositAnalysisQuery.level", ng-options='a as b.name for (a,b) in vm.playerLvlData')
                        option(value='') {{'any' | translate}}
                .search-filters-item
                    label {{"Provider" | translate}}
                    select.form-control(ng-model='vm.depositAnalysisQuery.providerId', required)
                        option(value='') {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.allProviders', value='{{v._id}}') {{v.name | translate}}
                .search-filters-item
                    label {{'Start date' | translate}}
                        .startTime
                    #startingDateTimePickerDepositAnalysis
                .search-filters-item
                    label {{'End date' | translate}}
                        .endTime
                    #endingEndDateTimePickerDepositAnalysis
                .search-filters-item
                    label {{'DAILY_TOTAL_DEPOSIT' | translate}}
                    input.form-control(type="number" ng-model="vm.depositAnalysisQuery.dailyTotalDeposit")
                .search-filters-item
                    label {{'NUMBER_OF_DAYS' | translate}}
                    input.form-control(type="number" ng-model="vm.depositAnalysisQuery.numberOfDays")
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchPlayerDepositAnalysisReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.exportToExcel('playerDepositAnalysisExcelReportTable', 'PLAYER_DEPOSIT_ANALYSIS_REPORT');") {{'EXPORT_EXCEL' | translate}}
                    span#loadingPlayerDepositAnalysisReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            //label {{"Total" | translate}} {{vm.depositAnalysisQuery.totalCount}} {{"records" | translate}}
            //table.common-table#playerDepositAnalysisReportTable.display(style="width:100% ;overflow-x: scroll")
            #playerDepositAnalysisReportTablePage

            div(ng-if="vm.playerDepositAnalysis.length === 0")
                .text-center {{ 'No data available in table' | translate }}
            div(ng-repeat="pda in vm.playerDepositAnalysis track by $index" ng-if="vm.playerDepositAnalysis.length > 0")
                table.simple-table(id="playerDepositAnalysisExcelReportTable{{$index}}" style='width:auto; min-width:99.9%;')
                    thead
                        tr
                            th(colspan=9) {{'FULFIL' | translate}} {{pda.day | translate}}/{{vm.playerDepositAnalysisDays| translate}} {{'DAYS' | translate}}
                            th(colspan=3) {{'Total' | translate}}
                            th {{'ACTION_BUTTON' | translate}}
                        tr
                            th {{'ORDER' | translate}}
                            th {{'PRODUCT_NAME' | translate}}
                            th {{'PLAYERNAME' | translate}}
                            th {{'realName' | translate}}
                            th {{'PlayerValue' | translate}}
                            th {{'CREDIBILITY' | translate}}
                            th {{'LEVEL' | translate}}
                            th {{'LOBBY' | translate}}
                            th {{'LAST_ACCESS_TIME' | translate}}
                            th {{'DEPOSIT_TOPUP' | translate}}
                            th {{'DEPOSIT_BONUS' | translate}}
                            th {{'DEPOSIT_TOPUP_BONUS' | translate}}
                            th {{'DETAILS' | translate}}
                    tbody
                        tr(ng-repeat='playerData in pda.playerData track by $index')
                            td {{$index+1}}
                            td {{playerData.platform$}}
                            td(ng-class='playerData.isDepositTracked ? "yellow-background" : ""')
                                a(data-toggle="modal", data-target='#modalPlayerDepositTrackingGroupModifyTable', ng-click="vm.selectedDepositTrackingGroupPlayerId = playerData._id; vm.modifyDepositTrackingGroupResult = ''; vm.addPlayerToDepositTrackingReport(playerData._id)") {{playerData.name}}
                            td {{playerData.realName}}
                            td {{playerData.valueScore}}
                            td {{playerData.credibility$}}
                            td {{playerData.playerLevel$}}
                            td {{playerData.provider$}}
                            td {{playerData.lastAccessTime$}}
                            td {{playerData.topUpAmount$}}
                            td {{playerData.bonusAmount$}}
                            td {{playerData.totalPlayerDepositAmount$}}
                            td
                                a(data-toggle="modal", data-target='#modalPlayerDepositAnalysisDetailsTable', ng-click="vm.getPlayerDepositAnalysisDetails(playerData._id)") {{'DETAILS' | translate}}
                    br
                br

        div(ng-if='vm.showPageName=="PLAYER_DEPOSIT_TRACKING_REPORT"')
            #depositTrackingReport.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.depositTrackingQuery.platformId' ng-change='vm.reportOnPlatformChange(vm.depositTrackingQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{'Player Name' | translate}}
                    input.form-control.span.input-sm(ng-model="vm.depositTrackingQuery.name")
                .search-filters-item
                    label {{"CREDIBILITY"|translate}}
                    select.form-control#selectCredibilityRemarksDepositTracking(multiple="multiple", ng-options='remark._id as remark.name | translate for remark in vm.filterCredibilityRemarks', ng-model="vm.depositTrackingQuery.credibilityRemarks")
                .search-filters-item
                    label {{"TRACKING_GROUP"|translate}}
                    select.form-control#selectTrackingGroupDepositTracking(multiple="multiple", ng-options='group._id as group.name | translate for group in vm.filterDepositTrackingGroup', ng-model="vm.depositTrackingQuery.depositTrackingGroup")
                .search-filters-item
                    label {{"LAST_ACCESS_TIME_START" | translate}}
                    .loginStartTime
                .search-filters-item
                    label {{"LAST_ACCESS_TIME_END" | translate}}
                    .loginEndTime
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchPlayerDepositTrackingReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-primary.btn-space(data-toggle="modal", data-target='#modalPlayerDepositTrackingGroupTable' ng-click='vm.initDepositTrackingGroup()') {{'EDIT_TRACKING_GROUP' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.exportToExcel('playerDepositTrackingTable', 'PLAYER_DEPOSIT_TRACKING_REPORT')") {{'EXPORT_EXCEL' | translate}}
                    span#loadingPlayerDepositTrackingReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            //label {{"Total" | translate}} {{vm.depositTrackingQuery.totalCount}} {{"records" | translate}}
            //table.common-table#playerDepositTrackingReportTable.display(style="width:100% ;overflow-x: scroll")
            #playerDepositTrackingReportTablePage

            .text-center
                table.simple-table#playerDepositTrackingTable.widthto100
                    thead
                        tr
                            th {{'ORDER' | translate}}
                            th {{'PRODUCT_NAME' | translate}}
                            th {{'TRACKING_GROUP' | translate}}
                            th {{'PLAYERNAME' | translate}}
                            th {{'realName' | translate}}
                            th {{'PlayerValue' | translate}}
                            th {{'CREDIBILITY' | translate}}
                            th {{'LEVEL' | translate}}
                            th {{'LOBBY' | translate}}
                            th {{'LAST_ACCESS_TIME' | translate}}
                            th {{'NO_DEPOSIT' | translate}}
                            th {{'NO_WITHDRAWAL' | translate}}
                            th {{'NO_CONSUMPTION' | translate}}
                            th {{'DEPOSIT_TOPUP' | translate}}
                            th {{'DEPOSIT_BONUS' | translate}}
                            th {{'DEPOSIT_TOPUP_BONUS' | translate}}
                            th {{'DEPOSIT_VALID_CONSUMPTION' | translate}}
                            th.headerTooltip {{'T1' | translate}}
                                span.tooltiptext {{'PROMO_CODE_TYPE_1' | translate}}
                            th.headerTooltip {{'T2' | translate}}
                                span.tooltiptext {{'PROMO_CODE_TYPE_2' | translate}}
                            th.headerTooltip {{'T3' | translate}}
                                span.tooltiptext {{'PROMO_CODE_TYPE_3' | translate}}
                            th {{'MONTHLY_TOTAL_DEPOSIT_AMOUNT' | translate}}
                            th {{'ACTION_BUTTON' | translate}}
                    tbody
                        tr(ng-repeat="playerData in vm.playerDepositTracking track by $index" ng-if="vm.playerDepositTracking.length > 0")
                            td {{$index+1}}
                            td {{playerData.platform$}}
                            td
                                a(data-toggle="modal", data-target='#modalPlayerDepositTrackingGroupModifyTable', ng-click="vm.selectedDepositTrackingGroupPlayerId = playerData._id; vm.modifyDepositTrackingGroupResult = '';") {{playerData.depositTrackingGroupName}}
                            td {{playerData.name}}
                            td {{playerData.realName}}
                            td {{playerData.valueScore}}
                            td {{playerData.credibility$}}
                            td {{playerData.playerLevel$}}
                            td {{playerData.provider$}}
                            td {{playerData.lastAccessTime$}}
                            td {{playerData.noDeposit}}
                            td {{playerData.noWithdrawal}}
                            td {{playerData.noConsumption}}
                            td {{playerData.topUpAmount$}}
                            td {{playerData.bonusAmount$}}
                            td {{playerData.totalPlayerDepositAmount$}}
                            td {{playerData.validConsumptionAmount$}}
                            td {{playerData.promoCodeType1Accepted || 0}}/{{playerData.promoCodeType1Total || 0}}
                            td {{playerData.promoCodeType2Accepted || 0}}/{{playerData.promoCodeType2Total || 0}}
                            td {{playerData.promoCodeType3Accepted || 0}}/{{playerData.promoCodeType3Total || 0}}
                            td
                                a(data-toggle="modal", data-target='#modalPlayerDepositTrackingMonthlyDetailsTable', ng-click="vm.getPlayerDepositTrackingMonthlyDetails(playerData._id)") {{'DETAILS' | translate}}
                            td
                                a.text-danger(ng-click="vm.removePlayerFromDepositTrackingReport(playerData._id)") {{'DELETE' | translate}}
                    br
                br

        div(ng-if='vm.showPageName=="NEWACCOUNT_REPORT"')
            #newPlayerReportQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.newPlayerQuery.platformId' ng-change='vm.reportOnPlatformChange(vm.newPlayerQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .search-filters-item
                    label {{"REGISTRATION_DEVICE" | translate}}
                    select.form-control.spicker(ng-model='vm.newPlayerQuery.registrationDevice', ng-options='i as v | translate for (i,v) in vm.registrationDeviceList', multiple, bsp, data-actions-box='true')
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchNewPlayerRecord(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.exportToExcel('newAccountTable', 'NEWACCOUNT_REPORT')") {{'EXPORT_EXCEL' | translate}}
                    span *搜寻在该时段开户玩家的总记录
            //.row.text-center
            //    .col-md-2
            //        label.block {{"Total Players" | translate}}
            //        label.block.text-danger {{vm.newPlayerQuery.totalPlayerCount || 0}}
            //    .col-md-2
            //        label.block {{"Player with Top-ups" | translate}}
            //        label.block.text-danger {{vm.newPlayerQuery.totalTopupPlayerCount || 0}}
            //    .col-md-2
            //        label.block {{"Player with Top-ups Multiple Times" | translate}}
            //        label.block.text-danger {{vm.newPlayerQuery.totalTopupMultipleTimesPlayerCount || 0}}
            //    .col-md-2
            //        label.block {{"Player with Domain" | translate}}
            //        label.block.text-danger {{vm.newPlayerQuery.totalDomainPlayerCount || 0}}
            //    .col-md-2
            //        label.block {{"Player with Partner" | translate}}
            //        label.block.text-danger {{vm.newPlayerQuery.totalpartnerPlayerCount || 0}}
            label {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            .text-center
                table.playerLvlTable#newAccountTable.widthto100
                    thead
                        tr
                            th(ng-click='vm.newPlayerQuery.promoteWaySort = vm.newPlayerQuery.promoteWaySort == "platform$" ? "-platform$":"platform$"') {{"PRODUCT_NAME" | translate}}
                            th(ng-click='vm.newPlayerQuery.promoteWaySort = vm.newPlayerQuery.promoteWaySort == "promoteWayName" ? "-promoteWayName":"promoteWayName"') {{"Promotion Method" | translate}}
                            th(ng-click='vm.newPlayerQuery.promoteWaySort = vm.newPlayerQuery.promoteWaySort == "totalNewAccount" ? "-totalNewAccount":"totalNewAccount"') {{"Total New Account" | translate}}
                            th(ng-click='vm.newPlayerQuery.promoteWaySort = vm.newPlayerQuery.promoteWaySort == "playerWithTopup" ? "-playerWithTopup":"playerWithTopup"') {{"Player with Top-ups" | translate}}
                            th(ng-click='vm.newPlayerQuery.promoteWaySort = vm.newPlayerQuery.promoteWaySort == "playerWithMultiTopup" ? "-playerWithMultiTopup":"playerWithMultiTopup"') {{"Player with Top-ups Multiple Times" | translate}}
                            th(ng-click='vm.newPlayerQuery.promoteWaySort = vm.newPlayerQuery.promoteWaySort == "validPlayer" ? "-validPlayer":"validPlayer"') {{"Valid Player" | translate}}
                    tbody
                        tr(ng-repeat='(i, v) in vm.newPlayerQuery.promoteWayData | orderBy: vm.newPlayerQuery.promoteWaySort | filter: vm.filterNoNewAccountPromoteWay')
                            td
                                span {{v.platform$}}
                            td
                                span {{v.promoteWayName}}
                            td
                                span {{v.totalNewAccount}}
                            td
                                span {{v.playerWithTopup}}
                            td
                                span {{v.playerWithMultiTopup}}
                            td
                                span {{v.validPlayer}}
                        tr
                            td
                                span
                            td
                                span {{ "total" | translate}}
                            td
                                span {{ vm.newPlayerQuery.newPlayers.length}}
                            td
                                span {{ vm.newPlayerQuery.totalNewPlayerWithTopup }}
                            td
                                span {{ vm.newPlayerQuery.totalNewPlayerWithMultiTopup }}
                            td
                                span {{ vm.newPlayerQuery.totalNewValidPlayer }}
                br
                table.playerLvlTable#newAccountDeviceTable.widthto100(ng-show="vm.isShowNewPlayerDeviceRecord")
                    thead
                        tr
                            th(ng-click='vm.newPlayerQuery.deviceSort = vm.newPlayerQuery.deviceSort == "platform$" ? "-platform$":"platform$"') {{"PRODUCT_NAME" | translate}}
                            th(ng-click='vm.newPlayerQuery.deviceSort = vm.newPlayerQuery.deviceSort == "registrationDevice" ? "-registrationDevice":"registrationDevice"') {{"REGISTRATION_DEVICE" | translate}}
                            th(ng-click='vm.newPlayerQuery.deviceSort = vm.newPlayerQuery.deviceSort == "totalNewAccount" ? "-totalNewAccount":"totalNewAccount"') {{"Total New Account" | translate}}
                            th(ng-click='vm.newPlayerQuery.deviceSort = vm.newPlayerQuery.deviceSort == "playerWithTopup" ? "-playerWithTopup":"playerWithTopup"') {{"Player with Top-ups" | translate}}
                            th(ng-click='vm.newPlayerQuery.deviceSort = vm.newPlayerQuery.deviceSort == "playerWithMultiTopup" ? "-playerWithMultiTopup":"playerWithMultiTopup"') {{"Player with Top-ups Multiple Times" | translate}}
                            th(ng-click='vm.newPlayerQuery.deviceSort = vm.newPlayerQuery.deviceSort == "validPlayer" ? "-validPlayer":"validPlayer"') {{"Valid Player" | translate}}
                    tbody
                        tr(ng-repeat='(i, v) in vm.newPlayerQuery.deviceData | orderBy: vm.newPlayerQuery.deviceSort | filter: vm.filterNoNewAccountDevice')
                            td
                                span {{v.platform$}}
                            td
                                span {{v.registrationDevice | translate}}
                            td
                                span {{v.totalNewAccount}}
                            td
                                span {{v.playerWithTopup}}
                            td
                                span {{v.playerWithMultiTopup}}
                            td
                                span {{v.validPlayer}}
                        tr
                            td
                                span
                            td
                                span {{ "total" | translate}}
                            td
                                span {{ vm.newPlayerQuery.newPlayers.length}}
                            td
                                span {{ vm.newPlayerQuery.totalNewPlayerWithTopup }}
                            td
                                span {{ vm.newPlayerQuery.totalNewPlayerWithMultiTopup }}
                            td
                                span {{ vm.newPlayerQuery.totalNewValidPlayer }}
            br
            .clearfix
            .penal.panel-info
                .panel-heading {{'Valid Player (promote way analysis)' | translate}}
                .penal_body
                    .col-md-6.padding-top-5
                        #validPlayerPie(style="height:380px;width:100%")
                    .col-md-6(style='padding-top:10px')
                        .text-center
                            table.playerLvlTable#validPlayerPromoteWay.widthto100
                                thead
                                    tr
                                        th(ng-click='vm.newPlayerQuery.validPlayerGraphSort = vm.newPlayerQuery.validPlayerGraphSort == "platform$" ? "-platform$":"platform$"') {{"PRODUCT_NAME" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerGraphSort = vm.newPlayerQuery.validPlayerGraphSort == "promoteWayName" ? "-promoteWayName":"promoteWayName"') {{"Promotion Method" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerGraphSort = vm.newPlayerQuery.validPlayerGraphSort == "validPlayer" ? "-validPlayer":"validPlayer"') {{"Valid Player" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerGraphSort = vm.newPlayerQuery.validPlayerGraphSort == "ratio" ? "-ratio":"ratio"') {{ "ratio" | translate}}
                                tbody
                                    tr(ng-repeat='(i, v) in vm.newPlayerQuery.promoteWayData | orderBy: vm.newPlayerQuery.validPlayerGraphSort | filter: vm.filterNoValidPlayer')
                                        td
                                            span {{v.platform$}}
                                        td
                                            a(ng-click='vm.drawValidPlayerGraphByElementId("#validPlayerPie", vm.newPlayerQuery.promoteWayData, v.promoteWayName); vm.newPlayerQuery.validPlayerGraphPromoteWay = v.promoteWayName') {{v.promoteWayName}}
                                        td
                                            span {{v.validPlayer}}
                                        td
                                            span {{v.ratio}}%
                                    tr
                                        td

                                        td
                                            a(ng-click='vm.drawValidPlayerGraphByElementId("#validPlayerPie", vm.newPlayerQuery.promoteWayData); vm.newPlayerQuery.validPlayerGraphPromoteWay = null') {{ "total" | translate}}
                                        td
                                            span {{ vm.newPlayerQuery.totalNewValidPlayer }}
                                        td
                                            span 100%
                    .col-md-12(ng-if="vm.newPlayerQuery.validPlayerGraphPromoteWay" style='padding-top:10px')
                        .row
                            button.btn.btn-primary.common-button.pull-right(ng-click='vm.newPlayerQuery.validPlayerTableIsHide = !vm.newPlayerQuery.validPlayerTableIsHide') {{ vm.newPlayerQuery.validPlayerTableIsHide? "expand" : "collapse" | translate}}
                        .text-center(style='overflow:auto' ng-hide='vm.newPlayerQuery.validPlayerTableIsHide')
                            table.common-table.playerLvlTable#validPlayerPromoteWayDetails
                                thead
                                    tr
                                        th {{ "PRODUCT_NAME" | translate}}
                                        th {{ "MEMBERSHIP_ACCOUNT_NUMBER" | translate}}
                                        th {{ "realName" | translate}}
                                        th {{ "REGISTRATION_TIME" | translate}}
                                        th {{ "PHONE_LOCATION" | translate}}
                                        th {{ "IP_LOCATION" | translate}}
                                        th {{ "Game Provider" | translate}}
                                        th {{ "LAST_ACCESS_TIME" | translate}}
                                        th {{ "LOGIN_TIMES" | translate}}
                                        th {{ "topUpTimes" | translate}}
                                        th {{ "PLAYER_VALUE" | translate}}
                                        th {{ "REGISTRATION_ADMIN" | translate}}
                                        th {{ "PROMOTE_WAY" | translate}}
                                        th {{ "Source Domain" | translate}}
                                        th {{ "Registration Domain" | translate}}
                                        th {{ "REGISTRATION_AGENT" | translate}}
                                        th {{ "OS" | translate}}
                                        th {{ "Browser" | translate}}
                                        th {{ "partner" | translate}}
                                tbody
                                    tr(ng-repeat='(i, v) in vm.newPlayerQuery.newValidPlayer | filter: vm.filterValidPlayerPromoteWayTable')
                                        td
                                            span {{v.platform$}}
                                        td
                                            span {{v.name}}
                                        td
                                            span {{v.realName}}
                                        td
                                            span {{v.registrationTime | date : 'yyyy-MM-dd HH:mm:ss'}}
                                        td
                                            span {{v.phoneProvince}} {{v.phoneCity}}
                                        td
                                            span {{v.province}} {{v.city}}
                                        td
                                            span {{v.lastPlayedProvider.name}}
                                        td
                                            span {{v.lastAccessTime| date : 'yyyy-MM-dd HH:mm:ss'}}
                                        td
                                            span {{v.loginTimes}}
                                        td
                                            span {{v.topUpTimes}}
                                        td
                                            span {{v.valueScore}}
                                        td
                                            span {{v.accAdmin}}
                                        td
                                            span {{v.partner ? 'partner' : v.promoteWay | translate}}
                                        td(style='min-width: 100px;max-width: 200px')
                                            span(data-toggle="tooltip" title='{{v.sourceUrl}}' style='max-width: 85%;overflow: hidden;display: inline-block;text-overflow: ellipsis;') {{v.sourceUrl}}
                                            a.fa.fa-clipboard.pull-right(style='top:4px; position: relative;' ng-if='v.sourceUrl' ng-click='vm.copyToClipboard(v.sourceUrl)')
                                        td(style='min-width: 100px;max-width: 200px')
                                            span(data-toggle="tooltip" title='{{v.domain}}' style='max-width: 85%;overflow: hidden;display: inline-block;text-overflow: ellipsis;') {{v.domain}}
                                            a.fa.fa-clipboard.pull-right(style='top: 4px;position: relative;' ng-if='v.domain' ng-click='vm.copyToClipboard(v.domain)')
                                        td
                                            span {{constPlayerRegistrationInterface[v.registrationInterface] | translate}}
                                        td
                                            span {{v.userAgent[0].os}}
                                        td
                                            span {{v.userAgent[0].browser}}
                                        td
                                            span {{v.partner.partnerName}}

            .clearfix
            br
            .penal.panel-info
                .panel-heading {{'Valid Player (cs officer analysis)' | translate}}
                .penal_body
                    .col-md-6.padding-top-5
                        #validPlayerCsAnalysisPie(style="height:380px;width:100%")
                    .col-md-6(style='padding-top:10px')
                        .text-center
                            table.playerLvlTable#validPlayerCSOfficer.widthto100
                                thead
                                    tr
                                        th(ng-click='vm.newPlayerQuery.validPlayerCsAnalysisGraphSort = vm.newPlayerQuery.validPlayerCsAnalysisGraphSort == "platform$" ? "-platform$":"platform$"') {{"PRODUCT_NAME" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerCsAnalysisGraphSort = vm.newPlayerQuery.validPlayerCsAnalysisGraphSort == "promoteWayName" ? "-promoteWayName":"promoteWayName"') {{"Create Account Cs Name" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerCsAnalysisGraphSort = vm.newPlayerQuery.validPlayerCsAnalysisGraphSort == "validPlayer" ? "-validPlayer":"validPlayer"') {{"Valid Player" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerCsAnalysisGraphSort = vm.newPlayerQuery.validPlayerCsAnalysisGraphSort == "ratio" ? "-ratio":"ratio"') {{ "ratio" | translate}}
                                tbody
                                    tr(ng-repeat='(i, v) in vm.newPlayerQuery.csAnalysisNewPlayerData | orderBy: vm.newPlayerQuery.validPlayerCsAnalysisGraphSort | filter: vm.filterNoValidPlayer')
                                        td
                                            span {{v.platform$}}
                                        td
                                            a(ng-click='vm.drawValidPlayerGraphByElementId("#validPlayerCsAnalysisPie", vm.newPlayerQuery.csAnalysisNewPlayerData, v.promoteWayName); vm.newPlayerQuery.validPlayerGraphCsAnalysis = v.promoteWayName') {{v.promoteWayName}}
                                        td
                                            span {{v.validPlayer}}
                                        td
                                            span {{v.ratio}}%
                                    tr
                                        td
                                        td
                                            a(ng-click='vm.drawValidPlayerGraphByElementId("#validPlayerCsAnalysisPie", vm.newPlayerQuery.csAnalysisNewPlayerData); vm.newPlayerQuery.validPlayerGraphCsAnalysis = null') {{ "total" | translate}}
                                        td
                                            span {{ vm.newPlayerQuery.totalNewValidPlayer }}
                                        td
                                            span 100%
                    .col-md-12(ng-if="vm.newPlayerQuery.validPlayerGraphCsAnalysis" style='padding-top:10px')
                        .row
                            button.btn.btn-primary.common-button.pull-right(ng-click='vm.newPlayerQuery.validPlayerCsAnalysisTableIsHide = !vm.newPlayerQuery.validPlayerCsAnalysisTableIsHide') {{ vm.newPlayerQuery.validPlayerCsAnalysisTableIsHide? "expand" : "collapse" | translate}}
                        .text-center(style='overflow:auto' ng-hide='vm.newPlayerQuery.validPlayerCsAnalysisTableIsHide')
                            table.common-table.playerLvlTable#validPlayerCSOfficerDetails
                                thead
                                    tr
                                        th {{ "PRODUCT_NAME" | translate}}
                                        th {{ "MEMBERSHIP_ACCOUNT_NUMBER" | translate}}
                                        th {{ "realName" | translate}}
                                        th {{ "REGISTRATION_TIME" | translate}}
                                        th {{ "PHONE_LOCATION" | translate}}
                                        th {{ "IP_LOCATION" | translate}}
                                        th {{ "Game Provider" | translate}}
                                        th {{ "LAST_ACCESS_TIME" | translate}}
                                        th {{ "LOGIN_TIMES" | translate}}
                                        th {{ "topUpTimes" | translate}}
                                        th {{ "PLAYER_VALUE" | translate}}
                                        th {{ "REGISTRATION_ADMIN" | translate}}
                                        th {{ "PROMOTE_WAY" | translate}}
                                        th {{ "Source Domain" | translate}}
                                        th {{ "Registration Domain" | translate}}
                                        th {{ "REGISTRATION_AGENT" | translate}}
                                        th {{ "OS" | translate}}
                                        th {{ "Browser" | translate}}
                                        th {{ "partner" | translate}}
                                tbody
                                    tr(ng-repeat='(i, v) in vm.newPlayerQuery.newValidPlayer | filter: vm.filterValidPlayerCsAnalysisTable')
                                        td
                                            span {{v.platform$}}
                                        td
                                            span {{v.name}}
                                        td
                                            span {{v.realName}}
                                        td
                                            span {{v.registrationTime | date : 'yyyy-MM-dd HH:mm:ss'}}
                                        td
                                            span {{v.phoneProvince}} {{v.phoneCity}}
                                        td
                                            span {{v.province}} {{v.city}}
                                        td
                                            span {{v.lastPlayedProvider.name}}
                                        td
                                            span {{v.lastAccessTime| date : 'yyyy-MM-dd HH:mm:ss'}}
                                        td
                                            span {{v.loginTimes}}
                                        td
                                            span {{v.topUpTimes}}
                                        td
                                            span {{v.valueScore}}
                                        td
                                            span {{v.csOfficerName}}
                                        td
                                            span {{v.partner ? 'partner' : v.promoteWay | translate}}
                                        td(style='min-width: 100px;max-width: 200px')
                                            span(data-toggle="tooltip" title='{{v.sourceUrl}}' style='max-width: 85%;overflow: hidden;display: inline-block;text-overflow: ellipsis;') {{v.sourceUrl}}
                                            a.fa.fa-clipboard.pull-right(style='top:4px; position: relative;' ng-if='v.sourceUrl' ng-click='vm.copyToClipboard(v.sourceUrl)')
                                        td(style='min-width: 100px;max-width: 200px')
                                            span(data-toggle="tooltip" title='{{v.domain}}' style='max-width: 85%;overflow: hidden;display: inline-block;text-overflow: ellipsis;') {{v.domain}}
                                            a.fa.fa-clipboard.pull-right(style='top: 4px;position: relative;' ng-if='v.domain' ng-click='vm.copyToClipboard(v.domain)')
                                        td
                                            span {{constPlayerRegistrationInterface[v.registrationInterface] | translate}}
                                        td
                                            span {{v.userAgent[0].os}}
                                        td
                                            span {{v.userAgent[0].browser}}
                                        td
                                            span {{v.partner.partnerName}}

            .clearfix
            br
            .penal.panel-info
                .panel-heading {{'Valid Player (partner analysis)' | translate}}
                .penal_body
                    .col-md-6.padding-top-5
                        #validPlayerPartnerAnalysisPie(style="height:380px;width:100%")
                    .col-md-6(style='padding-top:10px')
                        .text-center
                            table.playerLvlTable#validPlayerPartner.widthto100
                                thead
                                    tr
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort = vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort == "platform$" ? "-platform$":"platform$"') {{"PRODUCT_NAME" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort = vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort == "promoteWayName" ? "-promoteWayName":"promoteWayName"') {{"partner" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort = vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort == "totalNewAccount" ? "-totalNewAccount":"totalNewAccount"') {{"Total New Account" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort = vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort == "playerWithTopup" ? "-playerWithTopup":"playerWithTopup"') {{"Player with Top-ups" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort = vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort == "playerWithMultiTopup" ? "-playerWithMultiTopup":"playerWithMultiTopup"') {{"Player with Top-ups Multiple Times" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort = vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort == "validPlayer" ? "-validPlayer":"validPlayer"') {{"Valid Player" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort = vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort == "ratio" ? "-ratio":"ratio"') {{ "ratio" | translate}}
                                tbody
                                    tr(ng-repeat='(i, v) in vm.newPlayerQuery.partnerAnalysisNewPlayerData | orderBy: vm.newPlayerQuery.validPlayerPartnerAnalysisGraphSort | filter: vm.filterNoNewPlayer')
                                        td
                                            span {{v.platform$}}
                                        td
                                            a(ng-click='vm.drawValidPlayerGraphByElementId("#validPlayerPartnerAnalysisPie", vm.newPlayerQuery.partnerAnalysisNewPlayerData, v.promoteWayName); vm.newPlayerQuery.validPlayerGraphPartnerAnalysis = v.promoteWayName') {{v.promoteWayName}}
                                        td
                                            span {{ v.totalNewAccount}}
                                        td
                                            span {{ v.playerWithTopup }}
                                        td
                                            span {{ v.playerWithMultiTopup }}
                                        td
                                            span {{ v.validPlayer }}
                                        td
                                            span {{ v.ratio }}%
                                    tr
                                        td
                                        td
                                            a(ng-click='vm.drawValidPlayerGraphByElementId("#validPlayerPartnerAnalysisPie", vm.newPlayerQuery.partnerAnalysisNewPlayerData); vm.newPlayerQuery.validPlayerGraphPartnerAnalysis = null') {{ "total" | translate}}
                                        td
                                            span {{ vm.newPlayerQuery.partnerNewPlayerData.totalNewAccount}}
                                        td
                                            span {{ vm.newPlayerQuery.partnerNewPlayerData.playerWithTopup }}
                                        td
                                            span {{ vm.newPlayerQuery.partnerNewPlayerData.playerWithMultiTopup }}
                                        td
                                            span {{ vm.newPlayerQuery.partnerNewPlayerData.validPlayer }}
                                        td
                                            span 100%
                    .col-md-12(ng-if="vm.newPlayerQuery.validPlayerGraphPartnerAnalysis" style='padding-top:10px')
                        .row
                            button.btn.btn-primary.common-button.pull-right(ng-click='vm.newPlayerQuery.validPlayerPartnerAnalysisTableIsHide = !vm.newPlayerQuery.validPlayerPartnerAnalysisTableIsHide') {{ vm.newPlayerQuery.validPlayerPartnerAnalysisTableIsHide? "expand" : "collapse" | translate}}
                        .text-center(style='overflow:auto' ng-hide='vm.newPlayerQuery.validPlayerPartnerAnalysisTableIsHide')
                            table.common-table.playerLvlTable#validPlayerPartnerDetails
                                thead
                                    tr
                                        th {{ "PRODUCT_NAME" | translate}}
                                        th {{ "MEMBERSHIP_ACCOUNT_NUMBER" | translate}}
                                        th {{ "realName" | translate}}
                                        th {{ "REGISTRATION_TIME" | translate}}
                                        th {{ "PHONE_LOCATION" | translate}}
                                        th {{ "IP_LOCATION" | translate}}
                                        th {{ "Game Provider" | translate}}
                                        th {{ "LAST_ACCESS_TIME" | translate}}
                                        th {{ "LOGIN_TIMES" | translate}}
                                        th {{ "topUpTimes" | translate}}
                                        th {{ "PLAYER_VALUE" | translate}}
                                        th {{ "REGISTRATION_ADMIN" | translate}}
                                        th {{ "PROMOTE_WAY" | translate}}
                                        th {{ "Source Domain" | translate}}
                                        th {{ "Registration Domain" | translate}}
                                        th {{ "REGISTRATION_AGENT" | translate}}
                                        th {{ "OS" | translate}}
                                        th {{ "Browser" | translate}}
                                        th {{ "partner" | translate}}
                                tbody
                                    tr(ng-repeat='(i, v) in vm.newPlayerQuery.newPlayers | filter: vm.filterValidPlayerPartnerAnalysisTable')
                                        td
                                            span {{v.platform$}}
                                        td
                                            span {{v.name}}
                                        td
                                            span {{v.realName}}
                                        td
                                            span {{v.registrationTime | date : 'yyyy-MM-dd HH:mm:ss'}}
                                        td
                                            span {{v.phoneProvince}} {{v.phoneCity}}
                                        td
                                            span {{v.province}} {{v.city}}
                                        td
                                            span {{v.lastPlayedProvider.name}}
                                        td
                                            span {{v.lastAccessTime| date : 'yyyy-MM-dd HH:mm:ss'}}
                                        td
                                            span {{v.loginTimes}}
                                        td
                                            span {{v.topUpTimes}}
                                        td
                                            span {{v.valueScore}}
                                        td
                                            span {{v.accAdmin}}
                                        td
                                            span {{v.partner ? 'partner' : v.promoteWay | translate}}
                                        td(style='min-width: 100px;max-width: 200px')
                                            span(data-toggle="tooltip" title='{{v.sourceUrl}}' style='max-width: 85%;overflow: hidden;display: inline-block;text-overflow: ellipsis;') {{v.sourceUrl}}
                                            a.fa.fa-clipboard.pull-right(style='top:4px; position: relative;' ng-if='v.sourceUrl' ng-click='vm.copyToClipboard(v.sourceUrl)')
                                        td(style='min-width: 100px;max-width: 200px')
                                            span(data-toggle="tooltip" title='{{v.domain}}' style='max-width: 85%;overflow: hidden;display: inline-block;text-overflow: ellipsis;') {{v.domain}}
                                            a.fa.fa-clipboard.pull-right(style='top: 4px;position: relative;' ng-if='v.domain' ng-click='vm.copyToClipboard(v.domain)')
                                        td
                                            span {{constPlayerRegistrationInterface[v.registrationInterface] | translate}}
                                        td
                                            span {{v.userAgent[0].os}}
                                        td
                                            span {{v.userAgent[0].browser}}
                                        td
                                            span {{v.partner.partnerName}}

            .clearfix
            br
            .penal.panel-info
                .panel-heading {{'Valid Player (domain analysis)' | translate}}
                .penal_body
                    .col-md-6.padding-top-5
                        #validPlayerDomainAnalysisPie(style="height:380px;width:100%")
                    .col-md-6(style='padding-top:10px')
                        .text-center
                            table.playerLvlTable#validPlayerDomain.widthto100
                                thead
                                    tr
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerDomainGraphSort = vm.newPlayerQuery.validPlayerPartnerDomainGraphSort == "platform$" ? "-platform$":"platform$"') {{"PRODUCT_NAME" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerDomainGraphSort = vm.newPlayerQuery.validPlayerPartnerDomainGraphSort == "promoteWayName" ? "-promoteWayName":"promoteWayName"') {{"Registration Domain" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerDomainGraphSort = vm.newPlayerQuery.validPlayerPartnerDomainGraphSort == "totalNewAccount" ? "-totalNewAccount":"totalNewAccount"') {{"Total New Account" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerDomainGraphSort = vm.newPlayerQuery.validPlayerPartnerDomainGraphSort == "playerWithTopup" ? "-playerWithTopup":"playerWithTopup"') {{"Player with Top-ups" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerDomainGraphSort = vm.newPlayerQuery.validPlayerPartnerDomainGraphSort == "playerWithMultiTopup" ? "-playerWithMultiTopup":"playerWithMultiTopup"') {{"Player with Top-ups Multiple Times" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerDomainGraphSort = vm.newPlayerQuery.validPlayerPartnerDomainGraphSort == "validPlayer" ? "-validPlayer":"validPlayer"') {{"Valid Player" | translate}}
                                        th(ng-click='vm.newPlayerQuery.validPlayerPartnerDomainGraphSort = vm.newPlayerQuery.validPlayerPartnerDomainGraphSort == "ratio" ? "-ratio":"ratio"') {{ "ratio" | translate}}
                                tbody
                                    tr(ng-repeat='(i, v) in vm.newPlayerQuery.domainAnalysisNewPlayerData | orderBy: vm.newPlayerQuery.validPlayerPartnerDomainGraphSort | filter: vm.filterNoNewPlayer')
                                        td
                                            span {{v.platform$}}
                                        td
                                            a(ng-click='vm.drawValidPlayerGraphByElementId("#validPlayerDomainAnalysisPie", vm.newPlayerQuery.domainAnalysisNewPlayerData, v.promoteWayName); vm.newPlayerQuery.validPlayerGraphDomainAnalysis = v.promoteWayName') {{v.promoteWayName}}
                                        td
                                            span {{ v.totalNewAccount}}
                                        td
                                            span {{ v.playerWithTopup }}
                                        td
                                            span {{ v.playerWithMultiTopup }}
                                        td
                                            span {{ v.validPlayer }}
                                        td
                                            span {{ v.ratio }}%
                                    tr
                                        td
                                        td
                                            a(ng-click='vm.drawValidPlayerGraphByElementId("#validPlayerDomainAnalysisPie", vm.newPlayerQuery.domainAnalysisNewPlayerData); vm.newPlayerQuery.validPlayerGraphDomainAnalysis = null') {{ "total" | translate}}
                                        td
                                            span {{ vm.newPlayerQuery.domainNewPlayerData.totalNewAccount}}
                                        td
                                            span {{ vm.newPlayerQuery.domainNewPlayerData.playerWithTopup }}
                                        td
                                            span {{ vm.newPlayerQuery.domainNewPlayerData.playerWithMultiTopup }}
                                        td
                                            span {{ vm.newPlayerQuery.domainNewPlayerData.validPlayer }}
                                        td
                                            span 100%
                    .col-md-12(ng-if="vm.newPlayerQuery.validPlayerGraphDomainAnalysis" style='padding-top:10px')
                        .row
                            button.btn.btn-primary.common-button.pull-right(ng-click='vm.newPlayerQuery.validPlayerDomainAnalysisTableIsHide = !vm.newPlayerQuery.validPlayerDomainAnalysisTableIsHide') {{ vm.newPlayerQuery.validPlayerDomainAnalysisTableIsHide? "expand" : "collapse" | translate}}
                        .text-center(style='overflow:auto' ng-hide='vm.newPlayerQuery.validPlayerDomainAnalysisTableIsHide')
                            table.common-table.playerLvlTable#validPlayerDomainDetails
                                thead
                                    tr
                                        th {{"PRODUCT_NAME" | translate}}
                                        th {{"MEMBERSHIP_ACCOUNT_NUMBER" | translate}}
                                        th {{"realName" | translate}}
                                        th {{ "REGISTRATION_TIME" | translate}}
                                        th {{ "PHONE_LOCATION" | translate}}
                                        th {{ "IP_LOCATION" | translate}}
                                        th {{ "Game Provider" | translate}}
                                        th {{ "LAST_ACCESS_TIME" | translate}}
                                        th {{ "LOGIN_TIMES" | translate}}
                                        th {{ "topUpTimes" | translate}}
                                        th {{ "PLAYER_VALUE" | translate}}
                                        th {{ "REGISTRATION_ADMIN" | translate}}
                                        th {{ "PROMOTE_WAY" | translate}}
                                        th {{ "Source Domain" | translate}}
                                        th {{ "Registration Domain" | translate}}
                                        th {{ "REGISTRATION_AGENT" | translate}}
                                        th {{ "OS" | translate}}
                                        th {{ "Browser" | translate}}
                                        th {{ "partner" | translate}}
                                tbody
                                    tr(ng-repeat='(i, v) in vm.newPlayerQuery.newPlayers | filter: vm.filterValidPlayerDomainAnalysisTable')
                                        td
                                            span {{v.platform$}}
                                        td
                                            span {{v.name}}
                                        td
                                            span {{v.realName}}
                                        td
                                            span {{v.registrationTime | date : 'yyyy-MM-dd HH:mm:ss'}}
                                        td
                                            span {{v.phoneProvince}} {{v.phoneCity}}
                                        td
                                            span {{v.province}} {{v.city}}
                                        td
                                            span {{v.lastPlayedProvider.name}}
                                        td
                                            span {{v.lastAccessTime| date : 'yyyy-MM-dd HH:mm:ss'}}
                                        td
                                            span {{v.loginTimes}}
                                        td
                                            span {{v.topUpTimes}}
                                        td
                                            span {{v.valueScore}}
                                        td
                                            span {{v.accAdmin}}
                                        td
                                            span {{v.partner ? 'partner' : v.promoteWay | translate}}
                                        td(style='min-width: 100px;max-width: 200px')
                                            span(data-toggle="tooltip" title='{{v.sourceUrl}}' style='max-width: 85%;overflow: hidden;display: inline-block;text-overflow: ellipsis;') {{v.sourceUrl}}
                                            a.fa.fa-clipboard.pull-right(style='top:4px; position: relative;' ng-if='v.sourceUrl' ng-click='vm.copyToClipboard(v.sourceUrl)')
                                        td(style='min-width: 100px;max-width: 200px')
                                            span(data-toggle="tooltip" title='{{v.domain}}' style='max-width: 85%;overflow: hidden;display: inline-block;text-overflow: ellipsis;') {{v.domain}}
                                            a.fa.fa-clipboard.pull-right(style='top: 4px;position: relative;' ng-if='v.domain' ng-click='vm.copyToClipboard(v.domain)')
                                        td
                                            span {{constPlayerRegistrationInterface[v.registrationInterface] | translate}}
                                        td
                                            span {{v.userAgent[0].os}}
                                        td
                                            span {{v.userAgent[0].browser}}
                                        td
                                            span {{v.partner.partnerName}}
            .clearfix
            //br
            //.clearfix
            //.penal.panel-info
            //    .panel-heading {{'PARTNER' | translate}}
            //    .penal_body
            //        .col-md-6.padding-top-5
            //            #partnerPlayerPie(style="height:380px;width:100%")
            //        .col-md-6(style='padding-top:10px')
            //            table#newPlayerPartnerTable.common-table.display(style='width:100%')
            //.clearfix
            //.penal.panel-info(ng-show="vm.detailPartnerPlayer.partnerObjectId")
            //    .panel-heading {{'PLAYER_DOMAIN' | translate}} : {{vm.detailDomainPlayer.domainName}}
            //    .penal_body
            //        table#detailPartnerPlayerTable.common-table.display(style='min-width:100%')
            //        #detailPartnerPlayerTablePage
            //.clearfix
            //.penal.panel-info
            //    .panel-heading {{'PLAYER_DOMAIN' | translate}}
            //    .penal_body
            //        .col-md-6.padding-top-5
            //            #domainPlayerPie(style="height:380px;width:100%")
            //        .col-md-6(style='padding-top:10px')
            //            table#newPlayerDomainTable.common-table.display(style='width:100%')
            //.clearfix
            //.penal.panel-info(ng-show="vm.detailDomainPlayer.domainName")
            //    .panel-heading {{'PLAYER_DOMAIN' | translate}} : {{vm.detailDomainPlayer.domainName}}
            //    .penal_body
            //        table#detailDomainPlayerTable.common-table.display(style='min-width:100%')
            //        #detailDomainPlayerTablePage

        div(ng-if='vm.showPageName=="DX_TRACKING_REPORT"')
            #dxTrackingReportQuery.col-md-12.well
                //.search-filters-item
                //    label.control-label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                //    select.form-control.merchantNoList.spicker(ng-model='vm.queryTopup.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.dxTrackingQuery.platformId' ng-change='vm.reportOnPlatformChange(vm.dxTrackingQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{'Player Name' | translate}}
                    input.form-control.span.input-sm(ng-model="vm.dxTrackingQuery.name")
                .search-filters-item
                    label {{"CREDIBILITY"|translate}}
                    select.form-control#selectDXTracking(multiple="multiple", ng-options='remark._id as remark.name | translate for remark in vm.filterCredibilityRemarks', ng-model="vm.dxTrackingQuery.credibilityRemarks")
                .search-filters-item
                    label {{'REGISTRATION_TIME_START' | translate}}
                    .startTime
                .search-filters-item
                    label {{'REGISTRATION_TIME_END' | translate}}
                    .endTime
                .search-filters-item
                    label {{'Start date' | translate}}
                    .queryStartTime
                .search-filters-item
                    label {{'End date' | translate}}
                    .queryEndTime

                .search-filters-item
                    label {{"REGISTRATION_DEPARTMENT"|translate}}
                    select.spicker.form-control(ng-model='vm.dxTrackingQuery.departments', bsp, multiple, data-actions-box='true' ng-change="vm.setQueryRole(vm.dxTrackingQuery)", ng-options='dp._id as dp.departmentName | translate for dp in vm.queryDepartments')
                .search-filters-item
                    label {{"REGISTRATION_ROLE"|translate}}
                    select.spicker.form-control(ng-model='vm.dxTrackingQuery.roles', bsp, multiple, data-actions-box='true' ng-change="vm.setQueryAdmins(vm.dxTrackingQuery)", ng-options='dp._id as dp.roleName | translate for dp in vm.queryRoles')
                .search-filters-item
                    label {{"REGISTRATION_ADMIN"|translate}}
                    select.spicker.form-control(ng-model='vm.dxTrackingQuery.admins', bsp, multiple, data-actions-box='true', ng-options='dp.adminName === "N/A" ? dp._id : dp.adminName as dp.adminName | translate for dp in vm.queryAdmins | unique: "_id"')

                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.dxTrackingQuery.consumptionTimesOperator === "range")}')
                    label {{"Consumption Times"|translate}}
                        div
                            select.threeBoxes.form-control(ng-model="vm.dxTrackingQuery.consumptionTimesOperator")
                                option(value='>=') {{'>='}}
                                option(value='=') {{'='}}
                                option(value='<=') {{'<='}}
                                option(value='range') {{'range'|translate}}
                            input.threeBoxes.form-control(type="number" ng-model="vm.dxTrackingQuery.consumptionTimesValue")
                            div.symbol(ng-if="vm.dxTrackingQuery.consumptionTimesOperator === 'range'") ~
                            input.threeBoxes.form-control(type="number" ng-model="vm.dxTrackingQuery.consumptionTimesValueTwo" ng-if="vm.dxTrackingQuery.consumptionTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.dxTrackingQuery.topUpTimesOperator === "range")}')
                    label {{"TOP_UP_TIMES"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.dxTrackingQuery.topUpTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxTrackingQuery.topUpTimesValue")
                        div.symbol(ng-if="vm.dxTrackingQuery.topUpTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxTrackingQuery.topUpTimesValueTwo" ng-if="vm.dxTrackingQuery.topUpTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.dxTrackingQuery.bonusTimesOperator === "range")}')
                    label {{"BonusTime"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.dxTrackingQuery.bonusTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxTrackingQuery.bonusTimesValue")
                        div.symbol(ng-if="vm.dxTrackingQuery.bonusTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxTrackingQuery.bonusTimesValueTwo" ng-if="vm.dxTrackingQuery.bonusTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.dxTrackingQuery.topUpAmountOperator === "range")}')
                    label {{"TOTAL_TOP_UP"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.dxTrackingQuery.topUpAmountOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxTrackingQuery.topUpAmountValue")
                        div.symbol(ng-if="vm.dxTrackingQuery.topUpAmountOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxTrackingQuery.topUpAmountValueTwo" ng-if="vm.dxTrackingQuery.topUpAmountOperator === 'range'")
                .search-filters-item
                    label {{"Provider" | translate}}
                    //select.form-control#selectDXTrackingProvider(multiple="multiple", ng-options='remark._id as remark.name | translate for remark in vm.allProviders', ng-model="vm.dxTrackingQuery.providerId")

                    select.form-control(ng-model='vm.dxTrackingQuery.providerId', required)
                        option(value='') {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.allProviders', value='{{v._id}}') {{v.name | translate}}
                .search-filters-item
                    label {{"REGISTRATION_DEVICE" | translate}}
                    select.form-control.spicker(ng-model='vm.dxTrackingQuery.registrationDevice', ng-options='i as v | translate for (i,v) in vm.registrationDeviceList', multiple, bsp, data-actions-box='true')

                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchDXTrackingReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.searchDXTrackingReport(true, true)") {{'EXPORT_EXCEL' | translate}}
                    span#dxTrackingReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.dxTrackingQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#dxTrackingReportTable.display(style="width:100% ;overflow-x: scroll")
            table.common-table#dxNewTrackingReportExcelTable.display(style="width:100% ;overflow-x: scroll")




        div(ng-if='vm.showPageName=="DX_NEWACCOUNT_REPORT"')
            #dxNewPlayerReportQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.dxNewPlayerQuery.platformId' ng-change='vm.reportOnPlatformChange(vm.dxNewPlayerQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{"USER TYPE"|translate}}
                    select.form-control(ng-model='vm.dxNewPlayerQuery.userType')
                        option(value='') {{'REAL_PLAYER_ALL' | translate}}
                        option(value='1') {{'REAL_PLAYER_INDIVIDUAL' | translate}}
                        option(value='2') {{'REAL_PLAYER_UNDER_PARTNER' | translate}}
                        option(value='3') {{'TEST_PLAYER' | translate}}
                .search-filters-item
                    label {{"REGISTRATION_DEVICE"|translate}}
                    select.spiker.form-control(ng-model='vm.dxNewPlayerQuery.registrationDevice' ng-init='$last && vm.endLoadMultipleSelect()', bsp, multiple, data-actions-box='true', ng-options='i as v | translate for (i,v) in vm.registrationDeviceList')
                .search-filters-item
                    label {{'REGISTRATION_TIME_START' | translate}}
                    .startTime
                .search-filters-item
                    label {{'REGISTRATION_TIME_END' | translate}}
                    .endTime
                .search-filters-item
                    label {{'Start date' | translate}}
                    .queryStartTime
                .search-filters-item
                    label {{'End date' | translate}}
                    .queryEndTime
                .search-filters-item
                    label {{"ACCUMULATE_DAYS" | translate}}
                    input.form-control.span.input-sm(type="Number" ng-model="vm.dxNewPlayerQuery.days")
                .search-filters-item
                    label {{"csPromoteWay"|translate}}
                    select.spicker.form-control(ng-model='vm.dxNewPlayerQuery.csPromoteWay', multiple, data-actions-box='true')
                        option(value="") {{"N/A" | translate}}
                        option(ng-repeat='(i,v) in vm.allPromoteWay', value='{{v.name}}' ng-init='$last && vm.endLoadMultipleSelect()') {{v.name}}
                .search-filters-item
                    label {{"REGISTRATION_DEPARTMENT"|translate}}
                    select.spicker.form-control(ng-model='vm.dxNewPlayerQuery.departments', bsp, multiple, data-actions-box='true' ng-change="vm.setQueryRole(vm.dxNewPlayerQuery)", ng-options='dp._id as dp.departmentName | translate for dp in vm.queryDepartments')
                .search-filters-item
                    label {{"REGISTRATION_ROLE"|translate}}
                    select.spicker.form-control(ng-model='vm.dxNewPlayerQuery.roles', bsp, multiple, data-actions-box='true' ng-change="vm.setQueryAdmins(vm.dxNewPlayerQuery)", ng-options='dp._id as dp.roleName | translate for dp in vm.queryRoles')
                .search-filters-item
                    label {{"REGISTRATION_ADMIN"|translate}}
                    select.spicker.form-control(ng-model='vm.dxNewPlayerQuery.admins', bsp, multiple, data-actions-box='true', ng-options='dp.adminName === "N/A" ? dp._id : dp.adminName as dp.adminName | translate for dp in vm.queryAdmins | unique: "_id"')
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.dxNewPlayerQuery.valueScoreOperator === "range")}')
                    label {{"PlayerValue"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.dxNewPlayerQuery.valueScoreOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxNewPlayerQuery.playerScoreValue")
                        div.symbol(ng-if="vm.dxNewPlayerQuery.valueScoreOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxNewPlayerQuery.playerScoreValueTwo" ng-if="vm.dxNewPlayerQuery.valueScoreOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.dxNewPlayerQuery.topUpTimesOperator === "range")}')
                    label {{"TOP_UP_TIMES"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.dxNewPlayerQuery.topUpTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxNewPlayerQuery.topUpTimesValue")
                        div.symbol(ng-if="vm.dxNewPlayerQuery.topUpTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxNewPlayerQuery.topUpTimesValueTwo" ng-if="vm.dxNewPlayerQuery.topUpTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.dxNewPlayerQuery.bonusTimesOperator === "range")}')
                    label {{"BonusTime"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.dxNewPlayerQuery.bonusTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxNewPlayerQuery.bonusTimesValue")
                        div.symbol(ng-if="vm.dxNewPlayerQuery.bonusTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxNewPlayerQuery.bonusTimesValueTwo" ng-if="vm.dxNewPlayerQuery.bonusTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.dxNewPlayerQuery.topUpAmountOperator === "range")}')
                    label {{"TOTAL_TOP_UP"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.dxNewPlayerQuery.topUpAmountOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxNewPlayerQuery.topUpAmountValue")
                        div.symbol(ng-if="vm.dxNewPlayerQuery.topUpAmountOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.dxNewPlayerQuery.topUpAmountValueTwo" ng-if="vm.dxNewPlayerQuery.topUpAmountOperator === 'range'")
                .search-filters-item
                    label {{"CREDIBILITY"|translate}}
                    select.form-control#selectDXTracking(multiple="multiple", ng-options='remark._id as remark.name | translate for remark in vm.filterCredibilityRemarks', ng-model="vm.dxNewPlayerQuery.credibilityRemarks")
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchDXNewPlayerReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.searchDXNewPlayerReport(true, true)") {{'EXPORT_EXCEL' | translate}}
                    span#dxNewPlayerReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.dxNewPlayerQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#dxNewPlayerReportTable.display(style="width:100% ;overflow-x: scroll")
            table.common-table#dxNewPlayerReportExcelTable.display(style="width:100% ;overflow-x: scroll")

        div(ng-if='vm.showPageName=="PLAYERPARTNER_REPORT"')
            #playerPartnerReportQuery.col-md-12.well
                .search-filters-item
                    label {{"PARTNER_NAME"|translate}}
                    input.form-control(type="text", ng-model="vm.partnerQuery.partnerName")
                .search-filters-item
                    label {{"REGISTRATION_TIME_START"|translate}}
                    .startTime
                .search-filters-item
                    label {{"REGISTRATION_TIME_END"|translate}}
                    .endTime
                .search-filters-item
                    label {{"PLAYER_TYPE"|translate}}
                    select.form-control(ng-model="vm.partnerQuery.playerType")
                        option(value='all') {{'all' | translate}}
                        option(value='Real Player') {{'REAL_PLAYER' | translate}}
                        option(value='Test Player') {{'TEST_PLAYER' | translate}}
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchPlayerPartnerRecord(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.searchPlayerPartnerRecord(true,true)") {{'EXPORT_EXCEL' | translate}}
                    span#playerParnterTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.operationReportLoadingStatus}}
            .clearfix
            table#playerPartnerTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                label {{"Total" | translate}} {{vm.partnerQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            #playerPartnerTablePage
            table#playerPartnerExcelTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
            table.common-table.simple-table#playerPartnerSummaryTable.collapse(style='margin-top:10px;font-size:12px')
                thead
                    tr
                        th {{'PARTNER_NAME' | translate}}
                        th {{'TOTAL_PLAYER' | translate}}
                        th {{'TOTAL_TOPUP_TIMES' | translate}}
                        th {{'TOTAL_CONSUMPTION_TIMES' | translate}}
                tbody
                    tr(ng-repeat='(i, v) in vm.playerPartnerSummaryData')
                        td {{v._id.partnerName}}
                        td {{v.total_players}}
                        td {{v.total_topup_times}}
                        td {{v.total_consumption_times}}
        div(ng-if='vm.showPageName=="PLAYERDOMAIN_REPORT"')
            #playerDomainReportQuery.col-md-12.well
                .search-filters-item
                    label.control-label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.spicker.form-control(ng-model='vm.playerDomain.platformList', bsp, multiple, data-actions-box='true' ng-change="vm.changePlayerDomainPlatform();", ng-options='v._id as v.name$ for v in vm.platformList')
                .search-filters-item
                    label {{"USER_TYPE"|translate}}
                    select.form-control(ng-model="vm.playerDomain.playerType")
                        option(value='Real Player (all)') {{'REAL_PLAYER_ALL' | translate}}
                        option(value='Real Player (Individual)') {{'REAL_PLAYER_INDIVIDUAL' | translate}}
                        option(value='Real Player (Under Partner)') {{'REAL_PLAYER_UNDER_PARTNER' | translate}}
                        option(value='Test Player') {{'TEST_PLAYER' | translate}}
                        option(value='Partner') {{'partner' | translate}}
                .search-filters-item
                    label {{"REGISTRATION_TIME_START"|translate}}
                    .startTime
                .search-filters-item
                    label {{"REGISTRATION_TIME_END"|translate}}
                    .endTime
                .search-filters-item
                    label {{"PLAYER_NAME"|translate}}
                    input.form-control(type="text", ng-model="vm.playerDomain.name")
                .search-filters-item
                    label {{"realName"|translate}}
                    input.form-control(type="text", ng-model="vm.playerDomain.realName")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.playerDomain.topUpTimesOperator === "range")}')
                    label {{"TOP_UP_TIMES"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.playerDomain.topUpTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerDomain.topUpTimesValue")
                        div.symbol(ng-if="vm.playerDomain.topUpTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerDomain.topUpTimesValueTwo" ng-if="vm.playerDomain.topUpTimesOperator === 'range'")
                .search-filters-item
                    label {{"csPromoteWay"|translate}}
                    select.spicker.form-control(ng-model='vm.playerDomain.csPromoteWay', multiple, data-actions-box='true')
                        option(value="") {{"N/A" | translate}}
                        option(ng-repeat='(i,v) in vm.pdAllPromoteWay', value='{{v.name}}' ng-init='$last && vm.endLoadMultipleSelect()') {{v.name}}
                .search-filters-item
                    label {{"REGISTRATION_DEPARTMENT"|translate}}
                    select.spicker.form-control(ng-model='vm.playerDomain.departments', bsp, multiple, data-actions-box='true' ng-change="vm.setPDQueryRole()", ng-options='dp._id as dp.departmentName | translate for dp in vm.pdQueryDepartments')
                .search-filters-item
                    label {{"REGISTRATION_ROLE"|translate}}
                    select.spicker.form-control(ng-model='vm.playerDomain.roles', bsp, multiple, data-actions-box='true' ng-change="vm.setPDQueryAdmins()", ng-options='dp._id as dp.roleName | translate for dp in vm.pdQueryRoles')
                .search-filters-item
                    label {{"REGISTRATION_ADMIN"|translate}}
                    select.spicker.form-control(ng-model='vm.playerDomain.admins', bsp, multiple, data-actions-box='true', ng-options='dp._id as dp.adminName | translate for dp in vm.pdQueryAdmins | unique: "_id"')
                .search-filters-item
                    label {{"Registration Domain"|translate}}
                    input.form-control(type="text", ng-model="vm.playerDomain.domain")
                .search-filters-item
                    label {{"Source Domain"|translate}}
                    input.form-control(type="text", ng-model="vm.playerDomain.sourceUrl")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.playerDomain.playerValueOperator === "range")}')
                    label {{"PLAYER_VALUE"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.playerDomain.playerValueOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerDomain.playerValue")
                        div.symbol(ng-if="vm.playerDomain.playerValueOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.playerDomain.playerValueTwo" ng-if="vm.playerDomain.playerValueOperator === 'range'")
                .search-filters-item
                    label {{"REGISTRATION_AGENT"|translate}}
                    select.form-control(ng-model="vm.playerDomain.registrationInterface")
                        option(value='') {{'all'|translate}}
                        option(value=0) {{'Backstage'|translate}}
                        option(value=1) {{'Web Player'|translate}}
                        option(value=2) {{'Web Agent'|translate}}
                        option(value=3) {{'HTML5 Player'|translate}}
                        option(value=4) {{'HTML5 Agent'|translate}}
                        option(value=5) {{'APP Player'|translate}}
                        option(value=6) {{'APP Agent'|translate}}
                .search-filters-item
                    label(ng-hide="true") {{"SYSTEM_PLAYER"|translate}}
                    select.form-control(ng-model="vm.playerDomain.isNewSystem", ng-hide="true")
                        option(value='') {{'all'|translate}}
                        option(value='new') {{'NEW_SYSTEM'|translate}}
                        option(value='old') {{'OLD_SYSTEM'|translate}}
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchPlayerDomainReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.searchPlayerDomainReport(true, true)") {{'EXPORT_EXCEL' | translate}}
                    span#playerDomainReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.playerDomain.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table#playerDomainReportTable.common-table.display.widthto100
            #playerDomainReportTablePage
            table#playerDomainReportExcelTable.common-table.display.widthto100

        div(ng-if='vm.showPageName=="PARTNERPLAYERBOUNS_REPORT"')
            #partnerPlayerBonusQuery.col-md-12.well
                .search-filters-item
                    label *{{"partnerName"|translate}}
                    input.form-control.span.input-sm(type="text", ng-model="vm.partnerPlayerBonusQuery.partnerName")
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchPartnerPlayerBonusData(true)', ng-disabled='!vm.partnerPlayerBonusQuery.partnerName') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.searchPartnerPlayerBonusData(true, true)") {{'EXPORT_EXCEL' | translate}}
                    span#partnerPlayerBonusTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.operationReportLoadingStatus}}
            .clearfix
            label {{"Total" | translate}} {{vm.partnerPlayerBonusQuery.totalCount}} {{"records" | translate}} {{vm.partnerPlayerBonusQuery.message | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#partnerPlayerBonusTable.display(style="width:inherit;min-width:100%;overflow-x: scroll")
                thead
                    tr
                        th(rowspan=2) {{'playerName' | translate}}
                        th(rowspan=2) {{'registrationTime' | translate}}
                        th(rowspan=2) {{'lastAccessTime' | translate}}
                        th(rowspan=2) {{'lastBonusTime' | translate}}
                        th(colspan=4) {{'total' | translate}}
                        th(colspan=4) {{'Within Search Period' | translate}}
                    tr
                        th {{'TOP_UP_TIMES' | translate}}
                        th {{'BonusTime' | translate}}
                        th {{'TOP_UP_SUM' | translate}}
                        th {{'BonusAmount' | translate}}
                        th {{'TOP_UP_TIMES' | translate}}
                        th {{'BonusTime' | translate}}
                        th {{'TOP_UP_SUM' | translate}}
                        th {{'BonusAmount' | translate}}
            #partnerPlayerBonusTablePage
            table.common-table#partnerPlayerBonusExcelTable.display(style="width:inherit; min-width:100%; overflow-x: scroll; display: none")
                thead
                    tr
                        th(rowspan=2) {{'playerName' | translate}}
                        th(rowspan=2) {{'registrationTime' | translate}}
                        th(rowspan=2) {{'lastAccessTime' | translate}}
                        th(rowspan=2) {{'lastBonusTime' | translate}}
                        th(colspan=4) {{'total' | translate}}
                        th(colspan=4) {{'Within Search Period' | translate}}
                    tr
                        th {{'TOP_UP_TIMES' | translate}}
                        th {{'BonusTime' | translate}}
                        th {{'TOP_UP_SUM' | translate}}
                        th {{'BonusAmount' | translate}}
                        th {{'TOP_UP_TIMES' | translate}}
                        th {{'BonusTime' | translate}}
                        th {{'TOP_UP_SUM' | translate}}
                        th {{'BonusAmount' | translate}}
        div(ng-if='vm.showPageName=="PARTNERCOMMISSION_REPORT"')
            #partnerCommissionQuery.col-md-12.well
                .search-filters-item
                    label {{"PARTNER_NAME"|translate}}
                    input.form-control.span.input-sm(type="text", ng-model="vm.partnerCommissionQuery.partnerName")
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchPartnerCommissionData(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.searchPartnerCommissionData(true, true)") {{'EXPORT_EXCEL' | translate}}
                    span#partnerCommissionTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.partnerCommissionReportLoadingStatus}}
            .clearfix
            label {{"Total" | translate}} {{vm.partnerCommissionQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            span.text-danger.margin-left-5 {{vm.partnerCommissionQuery.message | translate}}
            table.common-table#partnerCommissionTable.display(style="width:inherit;min-width:100%;overflow-x: scroll")
            #partnerCommissionTablePage
            table.common-table#partnerCommissionExcelTable.display(style="width:inherit;min-width:100%;overflow-x: scroll")
        div(ng-if='vm.showPageName=="PARTNER_SETTLEMENT_HISTORY_REPORT"')
            #partnerSettlementQuery.col-md-12.well
                .search-filters-item
                    label {{"COMMISSION_TYPE"|translate}}
                    select.form-control(ng-model='vm.partnerSettlementQuery.commissionType')
                        option(value='') {{'any' | translate}}
                        option(value='1') {{'DAILY_BONUS_AMOUNT' | translate}}
                        option(value='2') {{'WEEKLY_BONUS_AMOUNT' | translate}}
                        option(value='3') {{'BIWEEKLY_BONUS_AMOUNT' | translate}}
                        option(value='4') {{'MONTHLY_BONUS_AMOUNT' | translate}}
                        option(value='5') {{'WEEKLY_CONSUMPTION' | translate}}
                .search-filters-item
                    label {{"PARTNER_NAME"|translate}}
                    input.form-control.span.input-sm(type="text", ng-model="vm.partnerSettlementQuery.partnerName")
                .search-filters-item
                    label {{"CALENDER"|translate}} {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"CALENDER"|translate}} {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchPartnerSettlementHistory(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.searchPartnerSettlementHistory(true, true)") {{'EXPORT_EXCEL' | translate}}
                    span#partnerSettlementTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                div.block
                    span.text-danger.margin-left-5 {{vm.partnerSettlementQuery.message | translate}}
                div
                    .black-annotation {{"Calender legend" | translate}}
                    .blue-annotation.margin-right-5.inline-block *{{"Gray (strikethrough) indicates skipped settlement" | translate}}
                    .blue-annotation.margin-left-5.inline-block *{{"Select date range to show settlement details" | translate}}
                    .blue-annotation *{{"Green indicates executed settlement" | translate}}
                    .blue-annotation *{{"White indicates unexecuted settlement" | translate}}
            .clearfix
            label {{"Total" | translate}} {{vm.partnerSettlementQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#partnerSettlementTable.display(style="width:inherit;min-width:100%;overflow-x: scroll")
            #partnerSettlementTablePage
            table.common-table#partnerSettlementExcelTable.display(style="width:inherit;min-width:100%;overflow-x: scroll")
        div(ng-if='vm.showPageName=="REAL_TIME_COMMISSION_REPORT"')
            #realTimeCommissionQuery.col-md-12.well
                .search-filters-item
                    label {{"COMMISSION_TYPE" | translate}}
                    select.form-control(ng-model='vm.realTimeCommissionQuery.commissionType' ng-change="vm.showRealTimeCommissionSettlementButton = false")
                        option(value='1') {{"DAILY_BONUS_AMOUNT" | translate}}
                        option(value='2') {{"WEEKLY_BONUS_AMOUNT" | translate}}
                        option(value='3') {{"BIWEEKLY_BONUS_AMOUNT" | translate}}
                        option(value='4') {{"MONTHLY_BONUS_AMOUNT" | translate}}
                        option(value='5') {{"WEEKLY_CONSUMPTION" | translate}}
                .search-filters-item
                    label {{"PARTNER_NAME" | translate}}
                    input.form-control(type="text", ng-model="vm.realTimeCommissionQuery.partnerName" ng-change="vm.showRealTimeCommissionSettlementButton = false")
                .search-filters-item
                    label {{"COMMISSION_TYPE" | translate}}
                    select.form-control(ng-model='vm.selectCommissionPeriod' ng-change="vm.showRealTimeCommissionSettlementButton = false")
                        option(value='') {{"CURRENT_PERIOD" | translate}}
                        option(value='1') {{"PREVIOUS_X_PERIOD" | translate}}
                div(ng-if='vm.selectCommissionPeriod' ng-change="vm.showRealTimeCommissionSettlementButton = false")
                    label {{'　'}}
                    input.form-control.span.input-sm(type="number" step='1' ng-model='vm.selectedCommissionPeriod' min=0 ng-change='vm.getSelectedCommissionPeriod()')
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchRealTimePartnerCommissionData()') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.exportToExcel('realTimeComissionTable', 'REAL_TIME_COMMISSION_REPORT')") {{'EXPORT_EXCEL' | translate}}
                    span#realTimeCommissionTableSpin.searchRealTimePartnerCommissionData
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.realTimeCommissionLoadingStatus}}
            .clearfix
            label {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.simple-table#realTimeComissionTable
                thead
                    tr
                        th {{'PARTNER_NAME' | translate}}
                        th {{'REAL_NAME' | translate}}
                        th(ng-repeat= "grp in vm.realTimeCommissionData[0].rawCommissions" ng-if="vm.realTimeCommissionData[0]") {{grp.groupName | translate}} {{"Commission" | translate}}
                        th {{'TOTAL_REWARD_FEE' | translate}}
                        th {{'TOTAL_PLATFORM_FEE' | translate}}
                        th {{'TOTAL_TOPUP_FEE' | translate}}
                        th {{'TOTAL_WITHDRAWAL_FEE' | translate}}
                        th {{'REAL_TIME_COMMISSION_FORCAST' | translate}}
                        th {{'parentPartnerCommissionEstimation' | translate}}
                        th {{'PARTNER_ACCOUNT_BALANCE' | translate}}
                        th {{'ACTIVE_DOWNLINES' | translate}}
                        th {{'PREVIOUS_THREE_INTERVAL_ACTIVE_DOWNLINES' | translate}}
                        th {{'PREVIOUS_THREE_INTERVAL_NET_COMMISSSION' | translate}}
                        th {{'REMARKS' | translate}}
                tbody
                    tr(ng-repeat="(i,v) in vm.realTimeCommissionData")
                        td {{v.partnerName}}
                        td {{v.partnerRealName}}
                        td(ng-repeat= "(igrp, grp) in v.rawCommissions")
                            a(ng-style='grp.isCustomCommissionRate ? {color:"red"} : {}', data-toggle="modal", data-target='#modalCommissionTable', ng-click="vm.partnerCommVar.partner=i; vm.partnerCommVar.group=grp; vm.partnerCommVar.selectTab=igrp; vm.calculatePartnerDLTotalDetail(v.downLinesRawCommissionDetail,'consumptionDetail')") {{grp.amount | number : 2}}
                        td
                            a(data-toggle="modal", data-target='#modalRewardFeeTable', ng-click="vm.partnerCommVar.partner=i; vm.calculatePartnerDLTotalDetail(v.downLinesRawCommissionDetail,'rewardDetail')", ng-style='v.partnerCommissionRateConfig.rateAfterRebatePromoIsCustom ? {color:"red"} : {}') {{v.totalRewardFee | number : 2}}
                        td
                            a(ng-style='v.isAnyCustomPlatformFeeRate ? {color:"red"} : {}', data-toggle="modal", data-target='#modalCommissionTable', ng-click="vm.partnerCommVar.partner=i; vm.partnerCommVar.group=v.rawCommissions[vm.partnerCommVar.platformFeeTab]; vm.partnerCommVar.selectTab=vm.partnerCommVar.platformFeeTab; vm.calculatePartnerDLTotalDetail(v.downLinesRawCommissionDetail,'consumptionDetail')") {{v.totalPlatformFee | number : 2}}
                        td
                            a(data-toggle="modal", data-target='#modalTopUpFeeTable', ng-click="vm.partnerCommVar.partner=i; vm.calculatePartnerDLTotalDetail(v.downLinesRawCommissionDetail,'topUpDetail')", ng-style='v.partnerCommissionRateConfig.rateAfterRebateTotalDepositIsCustom ? {color:"red"} : {}') {{v.totalTopUpFee | number : 2}}
                        td
                            a(data-toggle="modal", data-target='#modalWithdrawalFeeTable', ng-click="vm.partnerCommVar.partner=i; vm.calculatePartnerDLTotalDetail(v.downLinesRawCommissionDetail,'withdrawalDetail')", ng-style='v.partnerCommissionRateConfig.rateAfterRebateTotalWithdrawalIsCustom ? {color:"red"} : {}') {{v.totalWithdrawalFee | number : 2}}
                        td {{v.nettCommission | number : 2}}
                        td {{v.parentPartnerCommissionDetail.totalParentCommissionFee || 0 | number : 2}}
                        td {{v.partnerCredit | number : 2}}
                        td
                            a(data-toggle="modal", data-target='#modalActivePlayerTable', ng-click="vm.partnerCommVar.partner=i") {{v.activeDownLines}}
                        td
                            text.span {{v.pastActiveDownLines[0]? v.pastActiveDownLines[0] : "-" | translate}} {{","}} {{v.pastActiveDownLines[1]? v.pastActiveDownLines[1] : "-" | translate}} {{","}} {{v.pastActiveDownLines[2]? v.pastActiveDownLines[2] : "-" | translate}}
                        td
                            text.span {{calculateTotalSum(v.pastNettCommission, "", "")}} {{" ("}} {{v.pastNettCommission[0]? v.pastNettCommission[0] : "-" | translate}} {{","}} {{v.pastNettCommission[1]? v.pastNettCommission[1] : "-" | translate}} {{","}} {{v.pastNettCommission[2]? v.pastNettCommission[2] : "-" | translate}} {{")"}}
                        td {{v.remarks ? v.remarks : ""}}
            .clearfix
            div
                br
                button.btn.btn-primary.common-button.pull-right(ng-if='vm.showRealTimeCommissionSettlementButton && checkViewPermission("Report", "General","PAST_COMMISSION_SETTLEMENT")' ng-click='vm.settlePastCommission()') {{ "SettleCommission" | translate}}


        div(ng-if='vm.showPageName=="FEEDBACK_REPORT"')
            #feedbackReportQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.feedbackQuery.platformId' ng-change='vm.reportOnPlatformChange(vm.feedbackQuery.platformId)')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{"USER TYPE"|translate}}
                    select.form-control(ng-model='vm.feedbackQuery.userType')
                        option(value='Real Player (all)') {{'REAL_PLAYER_ALL' | translate}}
                        option(value='Real Player (Individual)') {{'REAL_PLAYER_INDIVIDUAL' | translate}}
                        option(value='Real Player (Under Partner)') {{'REAL_PLAYER_UNDER_PARTNER' | translate}}
                        option(value='Test Player') {{'TEST_PLAYER' | translate}}
                .search-filters-item
                    label.control-label {{'FEEDBACK_START_DATE' | translate}}
                    .searchTime
                .search-filters-item
                    label.control-label {{'FEEDBACK_END_DATE' | translate}}
                    .searchEndTime
                .search-filters-item
                    label {{"FEEDBACK_TIME_START" | translate}}
                    .startTime
                .search-filters-item
                    label {{"FEEDBACK_TIME_END" | translate}}
                    .endTime
                .search-filters-item
                    label {{"ACCUMULATE_DAYS" | translate}}
                    input.form-control(type="Number" ng-model="vm.feedbackQuery.days")
                .search-filters-item
                    label {{"FEEDBACK_RESULT"|translate}}
                    select.spicker.form-control(ng-model='vm.feedbackQuery.result', multiple, data-actions-box='true', ng-options='a.key as a.value for (i,a) in vm.allFeedbackResults', bsp)
                .search-filters-item
                    label {{"FEEDBACK_TOPIC"|translate}}
                    select.spicker.form-control(ng-model='vm.feedbackQuery.topic', multiple, data-actions-box='true', ng-options='a.key as a.value for (i,a) in vm.allFeedbackTopics', bsp)
                .search-filters-item
                    label {{"FEEDBACK_DEPARTMENT"|translate}}
                    select.spicker.form-control(ng-model='vm.feedbackQuery.departments', multiple, data-actions-box='true' data-width="200px", ng-change="vm.setQueryRole(vm.feedbackQuery)", ng-options='a._id as a.departmentName |translate for (i,a) in vm.queryDepartments', bsp)
                .search-filters-item
                    label {{"FEEDBACK_ROLE"|translate}}
                    select.spicker.form-control(ng-model='vm.feedbackQuery.roles', multiple, data-actions-box='true' data-width="200px", ng-change="vm.setQueryAdmins(vm.feedbackQuery)", ng-options='a._id as a.roleName | translate for (i,a) in vm.queryRoles', bsp)
                .search-filters-item
                    label {{"FEEDBACK_ADMIN"|translate}}
                    select.spicker.form-control(ng-model='vm.feedbackQuery.admins', multiple, data-actions-box='true', data-width="200px", ng-options='a._id as a.adminName | translate for (i,a) in vm.queryAdmins | unique: "_id"', bsp)
                .search-filters-item
                    label {{"CREDIBILITY"|translate}}
                    select.spicker.form-control(ng-model='vm.feedbackQuery.credibility', multiple, data-actions-box='true', ng-options='a._id as a.name for (i,a) in vm.filterCredibilityRemarks', bsp)
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.feedbackQuery.valueOperator === "range")}')
                    label {{"PLAYER_VALUE"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.feedbackQuery.valueOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.feedbackQuery.valueFormal" )
                        div.symbol(ng-if="vm.feedbackQuery.valueOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.feedbackQuery.valueLatter" ng-if="vm.feedbackQuery.valueOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.feedbackQuery.topUpTimesOperator === "range")}')
                    label {{"TOP_UP_TIMES"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.feedbackQuery.topUpTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.feedbackQuery.topUpTimesFormal")
                        div.symbol(ng-if="vm.feedbackQuery.topUpTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.feedbackQuery.topUpTimesLatter" ng-if="vm.feedbackQuery.topUpTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.feedbackQuery.bonusTimesOperator === "range")}')
                    label {{"BonusTime"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.feedbackQuery.bonusTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.feedbackQuery.bonusTimesFormal")
                        div.symbol(ng-if="vm.feedbackQuery.bonusTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.feedbackQuery.bonusTimesLatter" ng-if="vm.feedbackQuery.bonusTimesOperator === 'range'")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.feedbackQuery.topUpAmountOperator === "range")}')
                    label {{"TOTAL_TOP_UP"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.feedbackQuery.topUpAmountOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.feedbackQuery.topUpAmountFormal")
                        div.symbol(ng-if="vm.feedbackQuery.topUpAmountOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.feedbackQuery.topUpAmountLatter" ng-if="vm.feedbackQuery.topUpAmountOperator === 'range'")
                .search-filters-item
                    label {{"REGISTRATION_DEVICE"|translate}}
                    select.spicker.form-control(ng-model='vm.feedbackQuery.registrationDevice', multiple, data-actions-box='true', ng-options='i as a | translate for (i,a) in vm.inputDeviceMapped', bsp)
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchFeedbackReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.searchFeedbackReport(true, true)") {{'EXPORT_EXCEL' | translate}}
                    span#feedbackReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.feedbackQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#feedbackReportTable.display(style="width:100% ;overflow-x: scroll")
            #feedbackReportTablePage
            table.common-table#feedbackReportExcelTable.display(style="width:100% ;overflow-x: scroll")
        div(ng-if='vm.showPageName=="PLAYER_ALIPAY_ACCOUNT_REPORT"')
            include ./report-player-alipay-account
        div(ng-if='vm.showPageName=="FINANCIAL_REPORT"')
            include ./report-financial
        // rewards report
        div#rewardProposalPage(ng-if='vm.currentRewardCode && vm.showPageName=="RewardReport"')
            .panel.panel-primary
                .panel-heading
                    label {{'PROPOSAL' | translate}}
                .panel-body
                    #rewardProposalQuery.col-md-12.well
                        .search-filters-item
                            label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                            select.form-control.spicker(ng-model='vm.rewardProposalQuery.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                        .search-filters-item
                            label {{"Start date"|translate}}
                            .startTime
                        .search-filters-item
                            label {{"End date"|translate}}
                            .endTime
                        .search-filters-item
                            label {{"Proposal Status" | translate}}
                            select.form-control(ng-model='vm.rewardProposalQuery.status')
                                option(value='all') {{'all' | translate}}
                                option(ng-repeat='(i,v) in vm.proposalStatusList', value='{{v}}') {{v | translate}}
                        .search-filters-item
                            label {{"MEMBERSHIP_ACCOUNT_NUMBER" | translate}}
                            input.form-control(ng-model='vm.rewardProposalQuery.playerName' type='text')
                        .search-filters-item
                            label {{"DAY_COUNT_AFTER_REDEEM_PROMO" | translate}}
                            input.form-control.widthto100(ng-model='vm.rewardProposalQuery.dayCountAfterRedeemPromo' type='Number')
                        .text-right.widthto100
                            button.btn.btn-success.btn-space(ng-click='vm.getRewardProposalReport()') {{'SEARCH' | translate}}
                            button.btn.btn-info.btn-space(ng-click='vm.exportToExcel("rewardProposalTable", "RewardReport")') {{'EXPORT_EXCEL' | translate}}
                            span#rewardProposalTableSpin.collapse
                                i.fa.fa-spinner.fa-spin
                    .clearfix
                    label {{"TOTAL_PLAYER_COUNT" | translate}} : {{vm.rewardProposalQuery.totalCount}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                    table#rewardProposalTable.common-table.display.widthto100
                    #rewardProposalTablePage
        //div(ng-if='vm.currentRewardCode && vm.showPageName!="RewardReport"')
            .panel.panel-primary
                .panel-heading
                    label {{'PROPOSAL' | translate}}
                .panel-body
                    #generalRewardProposalQuery.col-md-12.well
                        .search-filters-item
                            label {{"Start date"|translate}}
                            .startTime
                        .search-filters-item
                            label {{"End date"|translate}}
                            .endTime
                        .search-filters-item(ng-if="vm.currentRewardCode != 'ALL'")
                            label {{'Number_Of_Day_After_Receiving' | translate}}
                            input.form-control(type='number', ng-model='vm.generalRewardProposalQuery.dayAfterReceiving')
                        .search-filters-item
                            label {{'PLAYER_NAME' | translate}}
                            input.form-control(type='text', ng-model='vm.generalRewardProposalQuery.playerName')
                        .text-right.widthto100
                            button.btn.btn-success(ng-click='vm.generalRewardProposalSearch(true)') {{'SEARCH' | translate}}
                            span#generalRewardProposalTableSpin.collapse
                                i.fa.fa-spinner.fa-spin
                    .clearfix
                    label {{"Total" | translate}} {{vm.generalRewardProposalQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                    label(style="padding-left:15px;") {{"Total Number of Applicant" | translate}}: {{vm.generalRewardProposalQuery.totalApplicant|| 0}}
                    table#generalRewardProposalTable.common-table.display.widthto100
                    #generalRewardProposalTablePage
        //div(ng-if='vm.currentRewardTaskName && vm.showPageName!="RewardReport"')
            .panel.panel-primary
                .panel-heading
                    label {{'Reward task' | translate}}
                .panel-body
                    #generalRewardTaskQuery.col-md-12.well
                        .search-filters-item
                            label {{"Start date"|translate}}
                            .startTime
                        .search-filters-item
                            label {{"End date"|translate}}
                            .endTime
                        .text-right.widthto100
                            button.btn.btn-success(ng-click='vm.searchGeneralRewardTask(true)') {{'SEARCH' | translate}}
                            span#generalRewardTaskSpin.collapse
                                i.fa.fa-spinner.fa-spin
                    .clearfix
                    label {{"Total" | translate}} {{vm.generalRewardTaskTableProp.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                    table#generalRewardTaskTable.common-table.display.widthto100
                    #generalRewardTaskTablePage
        div(ng-if='vm.showPageName==="OtherRewardReport"')
            .row
                .col-md-12
                    .well.col-xs-12
                        .search-filters-item
                            label.control-label  {{'PRODUCT' | translate}}
                            select.form-control(ng-model='vm.selectedRewardPlatform', ng-change='vm.getOtherRewardList()')
                                option(value="")
                                option(ng-repeat='v in vm.platformList', value='{{v._id}}') {{v.name|translate}}
                        .panel.panel-primary(ng-show='vm.selectedRewardPlatform')
                            .panel-heading
                                label {{'PROPOSAL' | translate}}
                            .panel-body
                                #generalRewardProposalQuery.col-md-12.well
                                    .search-filters-item
                                        label.control-label  {{'REWARD' | translate}}
                                        select.form-control(ng-model='vm.generalRewardProposalQuery.reward', ng-change='vm.rewardOnChange(vm.getPageNameByRewardObjId(vm.generalRewardProposalQuery.reward), vm.generalRewardProposalQuery.reward, vm.getRewardCodeByRewardObjId(vm.generalRewardProposalQuery.reward))' style="min-width:100%; display:inline-block;")
                                            option(ng-repeat='v in vm.otherRewardList', value='{{v._id}}') {{v.name|translate}}
                                    .search-filters-item
                                        label {{"Registration Start Date"|translate}}
                                        .registrationStartTime
                                    .search-filters-item
                                        label {{"Registration End Date"|translate}}
                                        .registrationEndTime
                                    .search-filters-item
                                        label {{'PLAYER_NAME' | translate}}
                                        input.form-control(type='text', ng-model='vm.generalRewardProposalQuery.playerName')
                                    .search-filters-item
                                        label {{"Apply Reward Start Date"|translate}}
                                        .startTime
                                    .search-filters-item
                                        label {{"Apply Reward End Date"|translate}}
                                        .endTime
                                    .search-filters-item(ng-if="vm.currentRewardCode != 'ALL'")
                                        label {{'Number_Of_Day_After_Receiving' | translate}}
                                        input.form-control(type='number', ng-model='vm.generalRewardProposalQuery.dayAfterReceiving')
                                    .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.generalRewardProposalQuery.topUpTimesOperator === "range")}')
                                        label {{"TOP_UP_TIMES"|translate}}
                                        div
                                            select.threeBoxes.form-control(ng-model="vm.generalRewardProposalQuery.topUpTimesOperator")
                                                option(value='>=') {{'>='}}
                                                option(value='=') {{'='}}
                                                option(value='<=') {{'<='}}
                                                option(value='range') {{'range'|translate}}
                                            input.threeBoxes.form-control(type="number" ng-model="vm.generalRewardProposalQuery.topUpTimesValue")
                                            div.symbol(ng-if="vm.generalRewardProposalQuery.topUpTimesOperator === 'range'") ~
                                            input.threeBoxes.form-control(type="number" ng-model="vm.generalRewardProposalQuery.topUpTimesValueTwo" ng-if="vm.generalRewardProposalQuery.topUpTimesOperator === 'range'")
                                    .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.generalRewardProposalQuery.bonusTimesOperator === "range")}')
                                        label {{"BonusTime"|translate}}
                                        div
                                            select.threeBoxes.form-control(ng-model="vm.generalRewardProposalQuery.bonusTimesOperator")
                                                option(value='>=') {{'>='}}
                                                option(value='=') {{'='}}
                                                option(value='<=') {{'<='}}
                                                option(value='range') {{'range'|translate}}
                                            input.threeBoxes.form-control(type="number" ng-model="vm.generalRewardProposalQuery.bonusTimesValue")
                                            div.symbol(ng-if="vm.generalRewardProposalQuery.bonusTimesOperator === 'range'") ~
                                            input.threeBoxes.form-control(type="number" ng-model="vm.generalRewardProposalQuery.bonusTimesValueTwo" ng-if="vm.generalRewardProposalQuery.bonusTimesOperator === 'range'")
                                    .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.generalRewardProposalQuery.topUpAmountOperator === "range")}')
                                        label {{"TOTAL_TOP_UP"|translate}}
                                        div
                                            select.threeBoxes.form-control(ng-model="vm.generalRewardProposalQuery.topUpAmountOperator")
                                                option(value='>=') {{'>='}}
                                                option(value='=') {{'='}}
                                                option(value='<=') {{'<='}}
                                                option(value='range') {{'range'|translate}}
                                            input.threeBoxes.form-control(type="number" ng-model="vm.generalRewardProposalQuery.topUpAmountValue" )
                                            div.symbol(ng-if="vm.generalRewardProposalQuery.topUpAmountOperator === 'range'") ~
                                            input.threeBoxes.form-control(type="number" ng-model="vm.generalRewardProposalQuery.topUpAmountValueTwo" ng-if="vm.generalRewardProposalQuery.topUpAmountOperator === 'range'")
                                    .text-right.widthto100
                                        button.btn.btn-success(ng-click='vm.generalRewardProposalSearch(true)') {{'SEARCH' | translate}}
                                        span#generalRewardProposalTableSpin.collapse
                                            i.fa.fa-spinner.fa-spin
                                .clearfix
                                label {{"Total" | translate}} {{vm.generalRewardProposalQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                                label(style="padding-left:15px;") {{"Total Number of Applicant" | translate}}: {{vm.generalRewardProposalQuery.totalApplicant|| 0}}
                                table#generalRewardProposalTable.common-table.display.widthto100
                                #generalRewardProposalTablePage

                        .panel.panel-primary(ng-show='vm.currentRewardTaskName')
                            .panel-heading
                                label {{'Reward task' | translate}}
                            .panel-body
                                #generalRewardTaskQuery.col-md-12.well
                                    .search-filters-item
                                        label {{"Start date"|translate}}
                                        .startTime
                                    .search-filters-item
                                        label {{"End date"|translate}}
                                        .endTime
                                    .text-right.widthto100
                                        button.btn.btn-success(ng-click='vm.searchGeneralRewardTask(true)') {{'SEARCH' | translate}}
                                        span#generalRewardTaskSpin.collapse
                                            i.fa.fa-spinner.fa-spin
                                .clearfix
                                label {{"Total" | translate}} {{vm.generalRewardTaskTableProp.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                                table#generalRewardTaskTable.common-table.display.widthto100
                                #generalRewardTaskTablePage

        div(ng-if='vm.showPageName=="RewardReport"')
            .panel.panel-primary
                .panel-heading
                    label {{'REWARD_ANALYSIS_REPORT' | translate}}
                .panel-body
                   #rewardReportAnalysis
                    .col-md-12.well
                        .search-filters-item
                            label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                            select.form-control.spicker(ng-model='vm.rewardReportAnalysis.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true' ng-change='vm.getRewardFilterItemChanged(vm.rewardReportAnalysis.type)')
                        .threeBoxes
                            label {{'PERIOD' | translate}}
                            select.form-control(ng-model='vm.rewardReportAnalysis.periodText')
                                option(value='day') {{"DAY"|translate}}
                                option(value='week') {{"WEEK"|translate}}
                                option(value='month') {{"MONTH"|translate}}
                        .search-filters-item
                            label {{"Start date"|translate}}
                            .startTime
                        .search-filters-item
                            label {{"End date"|translate}}
                            .endTime
                        .search-filters-item
                            label {{'ITEM_FILTER' | translate}}
                            select.form-control(ng-init='vm.rewardReportAnalysis.type="rewardType"' ng-model='vm.rewardReportAnalysis.type' ng-change='vm.getRewardFilterItemChanged(vm.rewardReportAnalysis.type)')
                                option(value='rewardType') {{"PROPOSAL_TYPE"|translate}}
                                option(value='rewardName') {{"CUSTOM_REWARD"|translate}}
                        .search-filters-item(ng-hide='vm.rewardReportAnalysis.type != "rewardType"')
                            label {{'Proposal Type'|translate}}
                            select.form-control(ng-model='vm.rewardReportAnalysis.proposalTypeName', ng-options='type as type | translate for type in vm.allRewardProposalTypeList', multiple, bsp, data-actions-box='true')
                        .search-filters-item(ng-hide='vm.rewardReportAnalysis.type != "rewardName"')
                            label {{"CUSTOMIZED_PROMO_NAME"|translate}}
                            select.form-control(ng-model='vm.rewardReportAnalysis.promoName', ng-options='reward.name as reward.name group by reward.platform.name for reward in vm.allRewardList', multiple, bsp, data-actions-box='true')
                        .text-right.widthto100
                            button.btn.btn-primary(ng-click='vm.drawRewardReportAnalysis();') {{'SEARCH' | translate}}
                    .row
                        .col-md-6
                            label.text-primary {{"REWARD_ANALYSIS_PLAYER_COUNT" | translate}} VS {{vm.rewardReportAnalysis.periodText | translate}}
                            .graph
                                .panel.panel-default
                                    #pie-rewardAnalysisPlayer.lineChart.graphDiv
                        .col-md-6
                            label &nbsp;
                            .graph
                                div(style='width:100%;overflow-x:auto;height:100%;overflow-y:auto')
                                    table.table-striped.display.tableDiv.no-footer.dataTable.text-center.widthto100(style="width:100%;")
                                        thead
                                            tr
                                                th(ng-click="vm.dataArraySort('rewardReportPlayer', 'date')") {{ vm.rewardReportAnalysis.periodText | translate}}
                                                th(ng-repeat='(i, v) in vm.rewardReportPieLabel') {{v | translate}}

                                        tbody
                                            tr
                                                td
                                                    span {{ "average value" | translate }}
                                                td(ng-repeat='(i, v) in vm.rewardReportPlayerAvg track by $index')
                                                    span {{ v }}

                                            tr(ng-repeat='(i, v) in vm.rewardReportAnalysisData | orderBy: vm.dataSort.rewardReportPlayer')
                                                td
                                                    span {{ v.date | date:"yyyy-MM-dd" }}
                                                td(ng-repeat='(k, item) in v' ng-if='k != "date" && k != "$$hashkey" && k != "totalPlayerCount" && k != "totalAmount" && k != "totalProposalCount"')
                                                    span {{ item.player }}

                    .row
                        .col-md-6
                            label.text-primary {{"REWARD_ANALYSIS_COUNT" | translate}} VS {{vm.rewardReportAnalysis.periodText | translate}}
                            .graph
                                .panel.panel-default
                                    #pie-rewardAnalysisCount.lineChart.graphDiv
                        .col-md-6
                            label &nbsp;
                            .graph
                                div(style='width:100%;overflow-x:auto;height:100%;overflow-y:auto')
                                    table.table-striped.display.tableDiv.no-footer.dataTable.text-center.widthto100(style="width:100%;")
                                        thead
                                            tr
                                                th(ng-click="vm.dataArraySort('rewardReportProposal', 'date')") {{ vm.rewardReportAnalysis.periodText | translate}}
                                                th(ng-repeat='(i, v) in vm.rewardReportPieLabel') {{v | translate}}

                                        tbody
                                            tr
                                                td
                                                    span {{ "average value" | translate }}
                                                td(ng-repeat='(i, v) in vm.rewardReportProposalAvg track by $index')
                                                    span {{ v }}

                                            tr(ng-repeat='(i, v) in vm.rewardReportAnalysisData | orderBy: vm.dataSort.rewardReportProposal')
                                                td
                                                    span {{ v.date | date:"yyyy-MM-dd" }}
                                                td(ng-repeat='(k, item) in v' ng-if='k != "date" && k != "$$hashkey" && k != "totalPlayerCount" && k != "totalAmount" && k != "totalProposalCount"')
                                                    span {{ item.proposalCount }}

                    .row
                        .col-md-6
                            label.text-primary {{"REWARD_ANALYSIS_AMOUNT" | translate}} VS {{vm.rewardReportAnalysis.periodText | translate}}
                            .graph
                                .panel.panel-default
                                    #pie-rewardAnalysisAmount.lineChart.graphDiv
                        .col-md-6
                            label &nbsp;
                            .graph
                                div(style='width:100%;overflow-x:auto;height:100%;overflow-y:auto')
                                    table.table-striped.display.tableDiv.no-footer.dataTable.text-center.widthto100(style="width:100%;")
                                        thead
                                            tr
                                                th(ng-click="vm.dataArraySort('rewardReportAmount', 'date')") {{ vm.rewardReportAnalysis.periodText | translate}}
                                                th(ng-repeat='(i, v) in vm.rewardReportPieLabel') {{v | translate}}

                                        tbody
                                            tr
                                                td
                                                    span {{ "average value" | translate }}
                                                td(ng-repeat='(i, v) in vm.rewardReportAmountAvg track by $index')
                                                    span {{ v | noRoundTwoDecimalPlaces}}

                                            tr(ng-repeat='(i, v) in vm.rewardReportAnalysisData | orderBy: vm.dataSort.rewardReportAmount')
                                                td
                                                    span {{ v.date | date:"yyyy-MM-dd" }}
                                                td(ng-repeat='(k, item) in v' ng-if='k != "date" && k != "$$hashkey" && k != "totalPlayerCount" && k != "totalAmount" && k != "totalProposalCount"')
                                                    span {{ item.amount | noRoundTwoDecimalPlaces}}


        div(ng-if='vm.showPageName=="ReferralRewardReport"')
            #referralRewardQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}}
                    select.form-control(ng-model='vm.referralRewardQuery.platformObjId')
                        option(ng-repeat='(i,v) in vm.platformList' value='{{v._id}}') {{v.name$}}
                .search-filters-item
                    label {{'referralName' | translate}}
                    input.form-control(ng-model="vm.referralRewardQuery.referralName")
                .search-filters-twoBoxes(ng-class='{"search-filters-threeBoxes": (vm.referralRewardQuery.topUpTimesOperator === "range")}')
                    label {{"TOP_UP_TIMES"|translate}}
                    div
                        select.threeBoxes.form-control(ng-model="vm.referralRewardQuery.topUpTimesOperator")
                            option(value='>=') {{'>='}}
                            option(value='=') {{'='}}
                            option(value='<=') {{'<='}}
                            option(value='range') {{'range'|translate}}
                        input.threeBoxes.form-control(type="number" ng-model="vm.referralRewardQuery.topUpTimesValue")
                        div.symbol(ng-if="vm.referralRewardQuery.topUpTimesOperator === 'range'") ~
                        input.threeBoxes.form-control(type="number" ng-model="vm.referralRewardQuery.topUpTimesValueTwo" ng-if="vm.referralRewardQuery.topUpTimesOperator === 'range'")
                .search-filters-item
                    label {{'Start date' | translate}}
                        .startTime
                .search-filters-item
                    label {{'End date' | translate}}
                        .endTime
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchReferralRewardReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchReferralRewardReport(true, true)') {{'EXPORT_EXCEL' | translate}}
                    span#loadingReferralRewardReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.referralRewardQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#referralRewardReportTable.display(style="width:100% ;overflow-x: scroll")
            #referralRewardReportTablePage
            table.common-table#referralRewardReportExcelTable.display(style="width:100% ;overflow-x: scroll")
        //MISCELLANEOUS_REPORT
        div(ng-if='vm.showPageName=="PLAYER_FEEDBACK_REPORT"')
            #playerFeedbackReportQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.form-control.spicker(ng-model='vm.playerFeedbackQuery.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .search-filters-item
                    label {{"PLAYER_NAME"|translate}}
                    input.form-control(type='text', ng-model='vm.playerFeedbackQuery.playerName')
                .search-filters-item
                    label {{"RESULT"|translate}}
                    select.form-control(ng-model='vm.playerFeedbackQuery.result')
                        option(value='all') {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.feedbackResultList', value='{{v}}') {{v | translate}}
                .text-right.widthto100
                    button.btn.btn-success(ng-click='vm.searchPlayerFeedbackQuery(true)') {{'SEARCH' | translate}}
                    span#playerFeedbackTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.playerFeedbackQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#playerFeedbackTable.display(style="width:100% ;overflow-x: scroll")
            #playerFeedbackTablePage

        div(ng-if='vm.showPageName=="CREDIT_CHANGE_REPORT"')
            #creditChangeReportQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.form-control.spicker(ng-model='vm.creditChangeQuery.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success(ng-click='vm.searchCreditChangeQuery(true)') {{'SEARCH' | translate}}
                    span#creditChangeTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.creditChangeQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table.common-table#creditChangeTable.display(style="width:100% ;overflow-x: scroll")
            #creditChangeTablePage

        div(ng-if='vm.showPageName=="PLAYER_ALMOST_LEVELUP_REPORT"')
            .col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.form-control.spicker(ng-model='vm.playerAlmostLevelUpQuery.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{"Level-Up Progress"|translate}}
                    .percentage
                        input.form-control.inlineBlk(type='number', max='100', percentage, ng-model='vm.playerAlmostLevelUpQuery.percentage')
                //div
                    label {{"Search limit(Max rows)"|translate}}
                    input.form-control(type='number', ng-model='vm.playerAlmostLevelUpQuery.limit', min='1', ng-init='vm.playerAlmostLevelUpQuery.limit=20')
                .text-right.widthto100
                    button.btn.btn-success(ng-click='vm.searchPlayerAlmostLevelUp(true)') {{'SEARCH' | translate}}
                    span#playerAlmostLevelUpTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.playerAlmostLevelUpQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table#playerAlmostLevelUpTable.common-table.display.widthto100
            #playerAlmostLevelUpTablePage
        div(ng-if='vm.showPageName=="ACTIONLOG_REPORT"')
            #actionLogReportQuery.col-md-12.well
                .search-filters-item
                    label {{'PLATFORM' | translate}}
                    select.spicker.form-control(ng-model='vm.actionLogQuery.platform', bsp, multiple, data-actions-box='true', ng-options='platform._id as platform.name | translate for platform in vm.platformList')
                .search-filters-item
                    label {{'TYPE' | translate}}
                    select.form-control(ng-options='i.action as i.text | translate group by i.group | translate for (k,i) in vm.actionLogQuery.allActions', ng-model='vm.actionLogQuery.action')
                        option(value='') {{'any' | translate}}
                .search-filters-item
                    label {{'adminName' | translate}}
                    input.form-control(type='text', ng-model='vm.actionLogQuery.admin')
                .search-filters-item
                    label {{'PLAYERNAME' | translate}}
                    input.form-control(type='text', ng-model='vm.actionLogQuery.player')
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success(ng-click='vm.searchActionLogData(true)') {{'SEARCH' | translate}}
                    span#actionLogTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
            label {{"Total" | translate}} {{vm.actionLogQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table#actionLogTable.common-table.display.widthto100
            #actionLogTablePage
        div(ng-if='vm.showPageName=="WINRATE_REPORT"')
            // 输赢报表
            #winrateReportQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.spicker.form-control(ng-model='vm.winRateQuery.platformList', bsp, multiple, data-actions-box='true' ng-change="vm.changeWinRatePlatform()", ng-options='v._id as v.name$ for v in vm.platformList')
                .search-filters-item
                    label {{"Provider"|translate}}
                    select.form-control(ng-model='vm.winRateQuery.providerId', required)
                        option(value="all") {{'all' | translate}}
                        option(ng-repeat='(i,v) in vm.allProviders', value='{{v._id}}') {{v.name || translate}}
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .search-filters-item
                    label {{'Login Device'| translate}}
                    select.spicker.form-control(ng-model='vm.winRateQuery.loginDevice', bsp, multiple, data-actions-box='true' ng-change="vm.changeWinRatePlatform()", ng-options='i as v | translate for (i,v) in vm.loginDeviceList')
                .search-filters-item
                    input.symbol(type="checkbox", ng-model='vm.winRateQuery.searchBySummaryData')
                    label {{'测试数据'}}
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.getWinRateReportData()') {{'SEARCH' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.exportToExcel("winRateSummaryTable", "WINRATE_REPORT")') {{'EXPORT_EXCEL' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.reCalculateWinRateReportSummary()') {{'RECALCULATE' | translate}}
                    span#winRateTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.winRateReportLoadingStatus}}
            .clearfix
            label {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table#winRateTable.common-table.display(ng-show="vm.winRateLayer1", style="width:100%;overflow: scroll;max-height:700px")
            table.common-table.simple-table#winRateSummaryTable(ng-show="vm.winRateLayer1", style='margin-top:10px;font-size:12px')
                thead
                    tr
                        th(style='width:10%') {{'PROVIDER' | translate}}
                        th(style='width:10%') {{'CONSUMPTION_PARTICIPANT' | translate}}
                        th(style='width:10%') {{'TIMES_CONSUMED' | translate}}
                        th(style='width:10%') {{'TOTAL_CONSUMPTION' | translate}}
                        th(style='width:10%') {{'VALID_CONSUMPTION' | translate}}
                        th(style='width:10%') {{'PLAYER_PROFIT_AMOUNT' | translate}}
                        th(style='width:10%') {{'COMPANY_EARNING_RATIO' | translate}}
                        th(style='width:10%') {{'DETAILS' | translate}}
                tbody
                    tr
                        td {{vm.winRateSummaryData.providerName | translate}}
                        td {{vm.winRateSummaryData.participantNumber}}
                        td {{vm.winRateSummaryData.consumptionTimes}}
                        td {{(vm.winRateSummaryData.totalAmount) | number : 2}}
                        td {{(vm.winRateSummaryData.validAmount) | number : 2}}
                        td {{(vm.winRateSummaryData.bonusAmount) | number : 2}}
                        td {{(-vm.winRateSummaryData.bonusAmount/vm.winRateSummaryData.validAmount*100 || 0) | number : 2 }}%
                        td(ng-click='vm.getWinRateAllPlatformReport(true)')
                            a {{'DETAILS' | translate}}
            br
            #layer2
            div(ng-show="vm.winRateLayer2")
                table#winRateLayer2Table.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                table.common-table.simple-table#winRateSummaryLayer2Table(style='margin-top:10px;font-size:12px')

            #layer3
            div(ng-show="vm.winRateLayer3")
                table#winRateLayer3Table.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                table.common-table.simple-table#winRateSummaryLayer3Table(style='margin-top:10px;font-size:12px')

            #layer4
            div(ng-show="vm.winRateLayer4")
                table#winRateLayer4Table.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                table.common-table.simple-table#winRateSummaryLayer4Table(style='margin-top:10px;font-size:12px')

        div(ng-if='vm.showPageName=="ONLINE_PAYMENT_MISMATCH_REPORT"')
            // 输赢报表
            #onlinePaymentMismatchQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.form-control.spicker(ng-model='vm.onlinePaymentMismatchQuery.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{'Topup Type' | translate}}
                    select.form-control(ng-model='vm.onlinePaymentMismatchQuery.type')
                        //option(value='all') {{'any' | translate}}
                        option(value='online') {{"TOPUPONLINE" | translate }}
                        option(value='manual') {{"TOPUPMANUAL" | translate }}
                        option(value='bonus') {{"Bonus" | translate }}
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success(ng-click='vm.getMismatchReport()') {{'SEARCH' | translate}}
                    span#onlinePaymentMismatchTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.winRateReportLoadingStatus}}
            .clearfix
            label {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            table#onlinePaymentMismatchTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                thead
                    tr
                        th {{'PRODUCT_NAME'| translate}}
                        th {{'PROPOSAL_ID' | translate}}
                        th {{'CREATE_TIME' | translate}}
                        th {{'SYSTEM_THAT_MISSING' | translate}}
                        th {{'CREDIT' | translate}}
                tbody
                    tr(ng-repeat='(i,v) in vm.proposalMismatchDetail.mismatches')
                        td {{v.platformName}}
                        td {{v.proposalId}}
                        td {{v.createTime}}
                        td {{v.missing}}
                        td {{v.amount}}
            div
                span fpms：提案个数： {{vm.proposalMismatchDetail.fpmsCount || 0}}  提案总额度： {{vm.proposalMismatchDetail.fpmsAmount || 0}}
            div
                span pms：提案个数： {{vm.proposalMismatchDetail.pmsCount || 0}}  提案总额度： {{vm.proposalMismatchDetail.pmsAmount || 0}}

        div(ng-if='vm.showPageName=="LIMITED_OFFER_REPORT"')
            #limitedOfferQuery.col-md-12.well
                .search-filters-item
                    label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                    select.spicker.form-control(ng-model='vm.limitedOfferQuery.platformList', bsp, multiple, data-actions-box='true' ng-change="vm.changeLimitedOfferReportPlatform();", ng-options='v._id as v.name$ for v in vm.platformList')
                .search-filters-item
                    label {{'PLAYERNAME' | translate}}
                    input.form-control(type='text', ng-model='vm.limitedOfferQuery.playerName')
                .search-filters-item
                    label {{'promoName' | translate}}
                    input.form-control(type='text', ng-model='vm.limitedOfferQuery.promoName')
                .search-filters-item
                    label {{'Receive Status' | translate}}
                    select.form-control(ng-model='vm.limitedOfferQuery.status', ng-options="a | translate for a in vm.claimStatus",  multiple, bsp)
                .search-filters-item
                    label {{'Level Requirement' | translate}}
                    select.form-control(ng-model='vm.limitedOfferQuery.level', ng-options="a.name group by a.platformName for a in vm.playerLvlData",  multiple, bsp)
                .search-filters-item
                    label {{'DEVICE' | translate}}
                    select.form-control(ng-model='vm.limitedOfferQuery.inputDevice', ng-options="+(i) as v | translate for (i,v) in vm.playerInputDevice",  multiple, bsp)
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success(ng-click='vm.getLimitedOfferReport(true)') {{'SEARCH' | translate}}
                    span#limitedOfferTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
                    span.margin-left-5 {{vm.winRateReportLoadingStatus}}
            .clearfix
            label {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
            //table#limitedOfferTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                thead
                    tr
                        th {{'ORDER' | translate}}
                        th {{'Proposal No' | translate}}
                        th {{'TITLE' | translate}}
                        th {{'PLAYERNAME' | translate}}
                        th {{'LIMITED_OFFER_APPLY_TIME' | translate}}
                        th {{'topUpProposalId' | translate}}
                        th {{'TopupAmount' | translate}}
                        th {{'rewardProposalId' | translate}}
                        th {{'OFFER_AMOUNT' | translate}}
                        th {{'SPENDING_AMOUNT' | translate}}
                tbody
                    tr(ng-repeat='(i,el) in vm.limitedOfferDetail')
                        td {{(i+1)}}
                        td {{el.proposalId}}
                        td {{el.data.limitedOfferName}}
                        td {{el.data.playerName}}
                        td {{el.createTime}}
                        td {{el.data.topUpProposalId}}
                        td {{el.data.topUpAmount}}
                        td {{el.data.rewardProposalId}}
                        td {{el.data.rewardProposalId ? el.data.rewardAmount : ""}}
                        td {{el.data.spendingAmount}}
            table#limitedOfferTable.common-table.display.widthto100
            #limitedOfferTablePage

        div(ng-if='vm.showPageName=="WECHAT_GROUP_REPORT"')
            #wechatGroupQuery.col-md-12.well
                .search-filters-item
                    label.control-label  {{'PRODUCT' | translate}}
                    select.form-control.spicker(ng-model='vm.wechatGroupQuery.product', ng-change='vm.getWechatSessionDeviceNickName(vm.wechatGroupQuery.product)', ng-options="a._id as a.name  for a in vm.adminPlatformName", multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label.control-label  {{'Device Name' | translate}}
                    select.form-control.spicker(ng-model='vm.wechatGroupQuery.deviceNickName', ng-change='vm.getWechatSessionCsOfficer(vm.wechatGroupQuery.product, vm.wechatGroupQuery.deviceNickName)', ng-options="a  for a in vm.wechatSessionNickName",  multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label.control-label  {{'Login Account' | translate}}
                    select.form-control.spicker(ng-model='vm.wechatGroupQuery.csOfficer', ng-options="a._id as a.adminName  for a in vm.wechatSessionCsOfficer",  multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{"Connection Start Time"|translate}}
                    .startTime
                .search-filters-item
                    label {{"Connection End Time"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchWechatControlSession(true)') {{'SEARCH' | translate}}
                    button.btn.btn-warning.btn-space(ng-click='vm.loadPage("WECHAT_GROUP_REPORT")') {{'Reset' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchWechatControlSession(true, true)') {{'EXPORT_EXCEL' | translate}}
                    span#wechatGroupReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
                label {{"Total" | translate}} {{vm.wechatGroupQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                table#wechatGroupReportTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                #wechatGroupReportTablePage
                table#wechatGroupReportExcelTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")

        div(ng-if='vm.showPageName=="QQ_GROUP_REPORT"')
            #qqGroupQuery.col-md-12.well
                .search-filters-item
                    label.control-label  {{'PRODUCT' | translate}}
                    select.form-control.spicker(ng-model='vm.qqGroupQuery.product', ng-change='vm.getQQSessionDeviceNickName(vm.qqGroupQuery.product)', ng-options="a._id as a.name  for a in vm.adminPlatformName", multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label.control-label  {{'Device Name' | translate}}
                    select.form-control.spicker(ng-model='vm.qqGroupQuery.deviceNickName', ng-change='vm.getQQSessionCsOfficer(vm.qqGroupQuery.product, vm.qqGroupQuery.deviceNickName)', ng-options="a  for a in vm.qqSessionNickName",  multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label.control-label  {{'Login Account' | translate}}
                    select.form-control.spicker(ng-model='vm.qqGroupQuery.csOfficer', ng-options="a._id as a.adminName  for a in vm.qqSessionCsOfficer",  multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{"Connection Start Time"|translate}}
                    .startTime
                .search-filters-item
                    label {{"Connection End Time"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchQQControlSession(true)') {{'SEARCH' | translate}}
                    button.btn.btn-warning.btn-space(ng-click='vm.loadPage("QQ_GROUP_REPORT")') {{'Reset' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchQQControlSession(true, true)') {{'EXPORT_EXCEL' | translate}}
                    span#qqGroupReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
                label {{"Total" | translate}} {{vm.qqGroupQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                table#qqGroupReportTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                #qqGroupReportTablePage
                table#qqGroupReportExcelTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")

        div(ng-if='vm.showPageName == "PROVIDER_CONSUMPTION_REPORT"')
            #providerConsumptionQuery.col-md-12.well
                .search-filters-item
                    label.control-label  {{'PRODUCT' | translate}}
                    select.form-control.spicker(ng-model='vm.providerConsumptionQuery.platform', ng-options="a._id as a.name  for a in vm.platformList", ng-change="vm.changePlayerCredibility()", multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label.control-label  {{'CREDIBILITY' | translate}}
                    select.form-control.spicker(ng-model='vm.providerConsumptionQuery.credibility', ng-options="a._id as a.name group by a.platform$ for a in vm.playerCredibilityRemark", multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{"Start date"|translate}}
                    .startTime
                .search-filters-item
                    label {{"End date"|translate}}
                    .endTime
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.searchProviderConsumptionReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-warning.btn-space(ng-click='vm.loadPage("PROVIDER_CONSUMPTION_REPORT")') {{'Reset' | translate}}
                    button.btn.btn-info.btn-space(ng-click='vm.searchProviderConsumptionReport(true, true)') {{'EXPORT_EXCEL' | translate}}
                    span#providerConsumptionReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
                label {{"Total" | translate}} {{vm.providerConsumptionQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                table#providerConsumptionReportTable.common-table.simple-table.display(style="overflow: scroll;max-height:700px;word-wrap:break-word;")
                #providerConsumptionReportTablePage
                table#providerConsumptionReportExcelTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")

        div(ng-if='vm.showPageName=="PAYMENT_MONITOR_REPORT"')
            #paymentMonitorQuery.col-md-12.well
                .search-filters-item
                    label {{'PLAYER_NAME' | translate}}
                    input.form-control(type='text', ng-model='vm.paymentMonitorQuery.playerName')
                .search-filters-item
                    label {{'Proposal No' | translate}}
                    input.form-control(type='text', ng-model='vm.paymentMonitorQuery.proposalID')
                .search-filters-item
                    label {{'topupType' | translate}}
                    select.form-control(ng-change='vm.filterMerchant(true)',ng-model='vm.paymentMonitorQuery.mainTopupType', required)
                        option(value='') {{'any' | translate}}
                        option(ng-repeat='(i,v) in vm.topUpTypeList', value='{{v}}') {{ i | translate}}
                .search-filters-item
                    label {{'DEVICE' | translate}}
                    select.form-control.merchantNoList(ng-change='vm.filterMerchant(true)',ng-model='vm.paymentMonitorQuery.userAgent', required, multiple, static-bsp, data-actions-box='true')
                        option(value='1') WEB
                        option(value='2') APP
                        option(value='3') H5

                .search-filters-item
                    label {{'Online Topup Type' | translate}}
                    select.form-control.merchantNoList(ng-change='vm.filterMerchant(true)',ng-model='vm.paymentMonitorQuery.topupType', multiple, static-bsp, data-actions-box='true')
                        option(ng-repeat='(i,v) in merchantTopupTypeJson', value='{{i}}') {{ v | translate}}({{v}})
                .search-filters-item
                    label {{'3rd Party Platform' | translate}}
                    select.form-control.merchantNoList(ng-change='vm.filterMerchant(true)',ng-model='vm.paymentMonitorQuery.merchantGroup',ng-options='mer.list as mer.name for mer in vm.merchantGroupCloneList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{'DEPOSIT_METHOD' | translate}}
                    select.form-control.merchantNoList(ng-change='vm.filterMerchant(true)',ng-model='vm.paymentMonitorQuery.depositMethod', multiple, static-bsp, data-actions-box='true')
                        option(value='1') 网银转账(OnlineTransfer)
                        option(value='2') 自动取款机(ATM)
                        option(value='3') 银行柜台(Counter)
                        option(value='4') 支付宝转帐(AliPay Transfer)
                        option(value='5') 微信转帐(WeChatPay Transfer)
                        option(value='6') 云闪付(CloudFlashPay)
                        option(value='7') 云闪付转账(CloudFlashPay Transfer)

                .search-filters-item
                    label {{'From Bank Type' | translate}}
                    select.form-control.merchantNoList(ng-change='vm.filterMerchant(true)',ng-model='vm.paymentMonitorQuery.bankTypeId', ng-options='i as v | translate for (i,v) in vm.allBankTypeList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{'Business Acc/ Bank Acc' | translate}}
                    select.form-control.merchantNoList(ng-model='vm.paymentMonitorQuery.merchantNo', ng-options='a.merchantNo as a.name group by a.merchantTypeName for a in vm.merchantCloneList' , multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label.control-label {{'Start date' | translate}}
                    .startTime
                .search-filters-item
                    label.control-label {{'End date' | translate}}
                    .endTime
                .search-filters-item
                    label {{'WEBSITE_MULTI_SELECTION' | translate}}
                    select.form-control.merchantNoList(ng-model='vm.paymentMonitorQuery.platformList', ng-options='v._id as v.name$ for v in vm.platformList', multiple, bsp, data-actions-box='true')
                .search-filters-item
                    label {{'LOCKED_ADMIN' | translate}}
                    select.form-control.merchantNoList(ng-model='vm.paymentMonitorQuery.lockedAdmin', ng-options='v._id as v.adminName for v in vm.paymentMonitorLockedAdmin', multiple, bsp, data-actions-box='true')
                .text-right.widthto100
                    button.btn.btn-success.btn-space(ng-click='vm.getPaymentMonitorReport(true)') {{'SEARCH' | translate}}
                    button.btn.btn-warning.btn-space(ng-click='vm.loadPage("PAYMENT_MONITOR_REPORT")') {{'Reset' | translate}}
                    span#paymentMonitorReportTableSpin.collapse
                        i.fa.fa-spinner.fa-spin
            .clearfix
                label {{"Total" | translate}} {{vm.paymentMonitorQuery.totalCount}} {{"records" | translate}} / {{"Search time" | translate}}: {{vm.reportSearchTime}} {{"Seconds" | translate}}
                table#paymentMonitorReportTable.common-table.display(style="width:100%;overflow: scroll;max-height:700px")
                #paymentMonitorReportTablePage

#modalProposal.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                span
                    ul.nav.nav-tabs
                        li
                            label {{vm.selectedProposal.type.name | translate}}
                        li.active
                            a(data-toggle="tab", href="#ProposalDetail", ng-click="")
                                .fa.fa-user
                                | {{ 'DETAIL' | translate }}
                        li(ng-if='vm.chartData')
                            a(data-toggle="tab", href="#Workflow", ng-click="")
                                .fa.fa-user
                                | {{ 'WORKFLOW' | translate }}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .tab-content
                            div(ng-if='vm.proposalDialog == "proposalTopUp" || vm.proposalDialog == "proposal"')
                                #ProposalDetail.tab-pane.fade.in.active
                                    include ./proposal-detail
                            #Workflow.tab-pane.fade(mouse-capture, style="max-height:600px;overflow-y:auto")
                                flow-chart#flowChart(style='width: 100%; height: 550px;overflow:auto;', chart='vm.chartViewModel')
            .modal-footer
                .inlineBlk(ng-show='vm.selectedProposal.isLocked && !vm.selectedProposal.showUnlockBtn')
                    label.form-control {{'Lock Status' | translate}} : {{vm.selectedProposal.isLocked.adminName}}
                .inlineBlk(ng-show='!vm.selectedProposal.isLocked || vm.selectedProposal.showUnlockBtn')
                    button.btn.btn-success.common-button(data-dismiss='modal', ng-if='(vm.selectedProposal.process.status=="Pending" || vm.selectedProposal.status=="Pending") && vm.rightPanelTitle == "APPROVAL_PROPOSAL" && checkViewPermission("Operation", "Proposal","ApproveProposal")', ng-click="vm.updateProposal(vm.selectedProposal._id, true)") {{"APPROVE" | translate}}
                    button.btn.btn-danger.common-button(data-dismiss='modal', ng-if='(vm.selectedProposal.process.status=="Pending" || vm.selectedProposal.status=="Pending") && vm.rightPanelTitle == "APPROVAL_PROPOSAL" && checkViewPermission("Operation", "Proposal","RejectProposal")', ng-click="vm.updateProposal(vm.selectedProposal._id, false)") {{"REJECT" | translate}}
                button.btn.btn-warning.common-button(ng-if='vm.selectedProposal.showCancel', ng-click="vm.submitCancelProposal(vm.selectedProposal)") {{"Cancel Proposal" | translate}}
                .inlineBlk(ng-if='vm.selectedProposal.cancelling')
                    label {{'Cancelling Proposal' | translate}}
                    i.fa.fa-spin.fa-2x.fa-spinner
                label.inlineBlk(ng-if='vm.selectedProposal.cancelled') {{"Cancel" | translate}}
                button.btn.btn-primary.common-button(data-dismiss='modal') {{"OK" | translate}}
                //button.btn.btn-primary.common-button(ng-if='vm.selectedProposal.status==="AutoAudit" && !vm.changeStatusToPendingFromAutoAuditMessage && !vm.selectedProposal.cancelling && !vm.selectedProposal.cancelled', ng-click='vm.changeStatusToPendingFromAutoAudit()') {{"Manual" | translate}}
                button.btn.btn-success.common-button(ng-if="vm.showCopyProposal()" ng-click="vm.copyTopUpProposal()") {{"COPY_TO_CLIPBOARD" | translate}}
                button.btn.btn-danger.common-button(ng-if='checkViewPermission("Report", "Proposal", "Force Pairing") && vm.selectedProposal.status=="Pending" ' +
                '&& (vm.selectedProposal.type.name == "ManualPlayerTopUp" || vm.selectedProposal.type.name == "PlayerAlipayTopUp" || vm.selectedProposal.type.name == "PlayerWechatTopUp")'
                data-toggle="modal", data-target="#modalProposalTopUpForcePairing") {{"Force Pairing" | translate}}
                label.inlineBlk.wordWrap(ng-if='vm.changeStatusToPendingFromAutoAuditMessage') {{vm.changeStatusToPendingFromAutoAuditMessage}}
                .inlineBlk.pull-left(ng-show='vm.rightPanelTitle == "APPROVAL_PROPOSAL"')
                    label.inlineBlk {{'remark' | translate}}
                    input#proposalRemark.inlineBlk.proposalRemark.form-control(style='width:400px;')

#modalProposalTopUpForcePairing.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false aria-hidden='true' style="z-index:1052;")
    .modal-dialog(style='width:50%;top:20%;')
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                span(style="font-weight:bold;font-size:24px;") {{"Force Pairing" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        h4 {{"Force Pairing, Please enter reference number." | translate}}
                        input(type="text" ng-model="vm.forcePairingReferenceNumber")
                div.text-right
                    button.btn.btn-danger.common-button(data-dismiss='modal') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button(data-dismiss='modal' ng-click="vm.forcePairingWithReferenceNumber()") {{"CONFIRMATION" | translate}}

#modalCommissionTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.widthto100
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                .panel-primary(style='margin-top:20px')
                    .panel-heading.common-left-panel-heading
                        ul.nav.nav-tabs.common-nav-tabs
                            li(ng-click="vm.partnerCommVar.selectTab = $index", ng-class="{'active': $index == vm.partnerCommVar.selectTab}", ng-repeat="grp in vm.realTimeCommissionData[vm.partnerCommVar.partner].rawCommissions")
                                a.common-tab(data-toggle="tab", href="#", ng-click="vm.partnerCommVar.group = grp")
                                    text.span {{grp.groupName | translate}}

                h4.modal-title.margin-top-10  {{"totalCount" | translate}} {{": "}} {{vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'DOWNLINE_NAME' | translate}}
                                th {{'REAL_NAME' | translate}}
                                th {{'EXPENSE' | translate}} {{' ('}} {{'bonusAmount1' | translate}} {{'/'}} {{'CONSUMPTION' | translate}} {{')'}}
                        tbody
                            tr(ng-if="vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length > 0", ng-repeat="v in vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail")
                                td {{v.name}}
                                td {{v.realName}}
                                td {{v.consumptionDetail.consumptionProviderDetail[vm.partnerCommVar.group.groupName].bonusAmount | noRoundTwoDecimalToFix}} {{"/"}} {{v.consumptionDetail.consumptionProviderDetail[vm.partnerCommVar.group.groupName].validAmount | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="2") {{'Total Consumption' | translate}}
                                td {{vm.partnerDLCommDetailTotal[vm.partnerCommVar.group.groupName].bonusAmount | noRoundTwoDecimalToFix}} {{'/'}} {{vm.partnerDLCommDetailTotal[vm.partnerCommVar.group.groupName].validAmount | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="2") {{'Commission' | translate}} {{' ('}} {{'ACTIVE_DOWNLINES'| translate}} {{': '}} {{vm.realTimeCommissionData[vm.partnerCommVar.partner].activeDownLines}} {{'/'}} {{'RATIO'| translate}} {{': '}}
                                    text.span(ng-style='vm.partnerCommVar.group.isCustomCommissionRate ? {color:"red"} : {}') {{vm.partnerCommVar.group.commissionRate}} {{'%)'}}
                                td(ng-style='vm.partnerCommVar.group.isCustomCommissionRate ? {color:"red"} : {}') {{vm.partnerCommVar.group.amount | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="2") {{'Platform Fee' | translate}} {{' ('}} {{'RATIO'| translate}} {{': '}}
                                    text.span(ng-style='vm.partnerCommVar.group.isCustomPlatformFeeRate ? {color:"red"} : {}') {{vm.partnerCommVar.group.platformFeeRate}} {{'%)'}}
                                td
                                    text.span(ng-style='vm.partnerCommVar.group.isCustomPlatformFeeRate ? {color:"red"} : {}') {{vm.partnerCommVar.group.platformFee | noRoundTwoDecimalToFix}}
                                    text.span {{'/'}}
                                    text.span(ng-style='vm.realTimeCommissionData[vm.partnerCommVar.partner].isAnyCustomPlatformFeeRate ? {color:"red"} : {}') {{vm.realTimeCommissionData[vm.partnerCommVar.partner].totalPlatformFee | noRoundTwoDecimalToFix}}

#modalRewardFeeTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.widthto100
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"totalCount" | translate}} {{": "}} {{vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'DOWNLINE_NAME' | translate}}
                                th {{'REAL_NAME' | translate}}
                                th {{'SYSTEM_REWARD' | translate}}
                                th {{'MANUAL_REWARD' | translate}}
                                th {{'CONSUMPTION_RETURN_REWARD' | translate}}
                                th {{'LIMITED_OFFER' | translate}}
                                th {{'PROMO_CODE' | translate}}
                                th {{'POINT_CONVERSION' | translate}}
                                th(width="15%") {{'TOTAL_REWARD' | translate}}
                        tbody
                            tr(ng-if="vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length > 0", ng-repeat="v in vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail")
                                td {{v.name}}
                                td {{v.realName}}
                                td {{v.rewardDetail.systemReward | noRoundTwoDecimalToFix}}
                                td {{v.rewardDetail.manualReward | noRoundTwoDecimalToFix}}
                                td {{v.rewardDetail.consumptionReturn | noRoundTwoDecimalToFix}}
                                td {{v.rewardDetail.limitedOffer | noRoundTwoDecimalToFix}}
                                td {{v.rewardDetail.promoCode | noRoundTwoDecimalToFix}}
                                td {{v.rewardDetail.pointConversion | noRoundTwoDecimalToFix}}
                                td {{v.rewardDetail.total | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="2") {{'Total' | translate}}
                                td {{vm.partnerDLCommDetailTotal.systemReward | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.manualReward | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.consumptionReturn | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.limitedOffer | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.promoCode | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.pointConversion | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.total | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="8") {{'Reward Fee' | translate}} {{'('}} {{'RATIO'| translate}} {{': '}}
                                    text.span(ng-style='vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebatePromoIsCustom ? {color:"red"} : {}') {{vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebatePromo}} {{"%)"}}
                                td(ng-style='vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebatePromoIsCustom ? {color:"red"} : {}') {{vm.realTimeCommissionData[vm.partnerCommVar.partner].totalRewardFee | noRoundTwoDecimalToFix}}

#modalTopUpFeeTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.widthto100
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"totalCount" | translate}} {{": "}} {{vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'DOWNLINE_NAME' | translate}}
                                th {{'REAL_NAME' | translate}}
                                th {{'TOPUPMANUAL' | translate}}
                                th {{'TOPUPONLINE' | translate}}
                                th {{'ALIPAY' | translate}}
                                th {{'WECHATPAY' | translate}}
                                th(width="15%") {{'TOTAL_TOPUP' | translate}}
                        tbody
                            tr(ng-if="vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length > 0", ng-repeat="v in vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail")
                                td {{v.name}}
                                td {{v.realName}}
                                td {{v.topUpDetail.manualTopUpAmount | noRoundTwoDecimalToFix}}
                                td {{v.topUpDetail.onlineTopUpAmount | noRoundTwoDecimalToFix}}
                                td {{v.topUpDetail.aliPayTopUpAmount | noRoundTwoDecimalToFix}}
                                td {{v.topUpDetail.weChatTopUpAmount | noRoundTwoDecimalToFix}}
                                td {{v.topUpDetail.topUpAmount | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="2") {{'Total' | translate}}
                                td {{vm.partnerDLCommDetailTotal.manualTopUpAmount | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.onlineTopUpAmount | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.aliPayTopUpAmount | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.weChatTopUpAmount | noRoundTwoDecimalToFix}}
                                td {{vm.partnerDLCommDetailTotal.topUpAmount | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="6") {{'TopUp Fee' | translate}} {{'('}} {{'RATIO'| translate}} {{': '}}
                                    text.span(ng-style='vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebateTotalDepositIsCustom ? {color:"red"} : {}') {{vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebateTotalDeposit}} {{"%)"}}
                                td(ng-style='vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebateTotalDepositIsCustom ? {color:"red"} : {}') {{vm.realTimeCommissionData[vm.partnerCommVar.partner].totalTopUpFee | noRoundTwoDecimalToFix}}

#modalWithdrawalFeeTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.widthto100
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"totalCount" | translate}} {{": "}} {{vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'DOWNLINE_NAME' | translate}}
                                th {{'REAL_NAME' | translate}}
                                th(width="15%") {{'WITHDRAW_AMOUNT' | translate}}
                        tbody
                            tr(ng-if="vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length > 0", ng-repeat="v in vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail")
                                td {{v.name}}
                                td {{v.realName}}
                                td {{v.withdrawalDetail.withdrawalAmount | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="2") {{'Total' | translate}}
                                td {{vm.partnerDLCommDetailTotal.withdrawalAmount | noRoundTwoDecimalToFix}}
                            tr
                                td.text-bold(colspan="2") {{'Withdrawal Fee' | translate}} {{'('}} {{'RATIO'| translate}} {{': '}}
                                    text.span(ng-style='vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebateTotalWithdrawalIsCustom ? {color:"red"} : {}') {{vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebateTotalWithdrawal}} {{"%)"}}
                                td(ng-style='vm.realTimeCommissionData[vm.partnerCommVar.partner].partnerCommissionRateConfig.rateAfterRebateTotalWithdrawalIsCustom ? {color:"red"} : {}') {{vm.realTimeCommissionData[vm.partnerCommVar.partner].totalWithdrawalFee | noRoundTwoDecimalToFix}}

#modalActivePlayerTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.widthto100
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"totalCount" | translate}} {{": "}} {{vm.realTimeCommissionData[vm.partnerCommVar.partner].activeDownLines}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'DOWNLINE_NAME' | translate}}
                                th {{'REAL_NAME' | translate}}
                                th {{'TOP_UP_TIMES' | translate}}
                                th {{'TOP_UP_AMOUNT' | translate}}
                                th {{'TIMES_CONSUMED' | translate}}
                                th {{'VALID_CONSUMPTION' | translate}}
                        tbody(ng-if="vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail.length > 0")
                            tr(ng-if="v.active", ng-repeat="v in vm.realTimeCommissionData[vm.partnerCommVar.partner].downLinesRawCommissionDetail")
                                td {{v.name}}
                                td {{v.realName}}
                                td {{v.topUpDetail.topUpTimes}}
                                td {{v.topUpDetail.topUpAmount | noRoundTwoDecimalToFix}}
                                td {{v.consumptionDetail.consumptionTimes}}
                                td {{v.consumptionDetail.validAmount | noRoundTwoDecimalToFix}}

#modalGameDetails.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{vm.selectedDisplayedPlayer}} : {{ vm.selectedProviderName}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'GAME' | translate}}
                                th {{'TIMES_CONSUMED' | translate}}
                                th {{'TOTAL_CONSUMPTION' | translate}}
                                th {{'VALID_CONSUMPTION' | translate}}
                                th {{'PLAYER PROFIT AMOUNT' | translate}}
                                th {{'COMPANY_PROFIT_POINT' | translate}}
                        tbody
                            tr(ng-repeat=" item in vm.gameDetails")
                                td {{item.gameName}}
                                td {{item.totalCount}}
                                td {{item.totalAmount}}
                                td {{item.totalValidAmount}}
                                td {{item.totalBonusAmount}}
                                td {{item.profitMargin}} %

#modalPlayerDepositAnalysisDetailsTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title.text-center ({{vm.playerDepositAnalysisDetails.playerName}}) {{"PLAYER_DEPOSIT_ANALYSIS_DETAILS_TITLE" | translate}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'date' | translate}}
                                th {{'TOTAL_DEPOSIT' | translate}}
                                th {{'WITHDRAW_AMOUNT' | translate}}
                        tbody
                            tr(ng-if="vm.playerDepositAnalysisDetails.outputData.length === 0")
                                td(colspan = 3) {{ 'No data available in table' | translate }}
                            tr(ng-if="vm.playerDepositAnalysisDetails.outputData.length > 0", ng-repeat="v in vm.playerDepositAnalysisDetails.outputData")
                                td(ng-class='v.isExceedDailyTotalDeposit ? "yellow-background" : ""') {{v.date}}
                                td(ng-class='v.isExceedDailyTotalDeposit ? "yellow-background" : ""') {{v.topUpAmount | noRoundTwoDecimalPlaces}}
                                td(ng-class='v.isExceedDailyTotalDeposit ? "yellow-background" : ""') {{v.bonusAmount | noRoundTwoDecimalPlaces}}
                            tr(ng-if="vm.playerDepositAnalysisDetails.outputData.length > 0")
                                td.text-bold {{"Totalsum" | translate}}
                                td.text-bold {{vm.playerDepositAnalysisDetails.total.topUpAmount | noRoundTwoDecimalPlaces}}
                                td.text-bold {{vm.playerDepositAnalysisDetails.total.bonusAmount | noRoundTwoDecimalPlaces}}

#modalPlayerDepositTrackingGroupTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title.text-center {{"PLAYER_DEPOSIT_TRACKING_GROUP_TITLE" | translate}}
            .modal-body.well
                div
                    table.simple-table
                        thead
                            tr
                                th(ng-if='vm.editDepositTrackingGroup' style="width:150px;") {{'ACTION_BUTTON' | translate}}
                                th {{'GROUP_NAME' | translate}}
                                th {{'REMARKS' | translate}}
                        tbody
                            tr(ng-if="vm.depositTrackingGroup.length === 0")
                                td(colspan = 3) {{ 'No data available in table' | translate }}
                            tr(ng-if="vm.depositTrackingGroup.length > 0", ng-repeat="v in vm.depositTrackingGroup track by $index")
                                td(ng-if='vm.editDepositTrackingGroup')
                                    a.text-danger(ng-click="vm.saveDepositTrackingGroup(true, v._id)") {{'DELETE' | translate}}
                                        | &nbsp (
                                        i.fa.fa-minus
                                        | )
                                td(ng-if='!vm.editDepositTrackingGroup') {{v.name}}
                                td(ng-if='!vm.editDepositTrackingGroup') {{v.remark}}
                                td(ng-if='vm.editDepositTrackingGroup')
                                    input.form-control(type="text", ng-model="v.name", required)
                                td(ng-if='vm.editDepositTrackingGroup')
                                    input.form-control(type="text", ng-model="v.remark", required)

                            tr(ng-if='vm.editDepositTrackingGroup' ng-click="vm.newRowDepositTrackingGroup(vm.newDepositTrackingGroup)")
                                td(colspan="3")
                                    strong.text-success {{'ADD' | translate}}
                                        | &nbsp (
                                        i.fa.fa-plus
                                        | )
                            tr(ng-if='vm.editDepositTrackingGroup', ng-repeat="grp in vm.newDepositTrackingGroup track by $index")
                                td {{$index+1}}
                                td
                                    input.form-control(type="text", ng-model="grp.name", required)
                                td
                                    input.form-control(type="text", ng-model="grp.remark")
            .modal-footer
                button.btn.btn-primary.margin-left-5(ng-if='!vm.editDepositTrackingGroup' ng-click='vm.editDepositTrackingGroup=!vm.editDepositTrackingGroup') {{'EDIT' | translate}}
                button.btn.btn-warning.margin-left-5(ng-if='!vm.editDepositTrackingGroup' data-dismiss='modal') {{'CLOSE' | translate}}
                button.btn.btn-success.margin-left-5(ng-if='vm.editDepositTrackingGroup' ng-click='vm.saveDepositTrackingGroup(false); vm.editDepositTrackingGroup=!vm.editDepositTrackingGroup') {{'SAVE' | translate}}
                button.btn.btn-danger.margin-left-5(ng-if='vm.editDepositTrackingGroup' ng-click='vm.editDepositTrackingGroup=!vm.editDepositTrackingGroup; vm.newDepositTrackingGroup = []') {{'CANCEL' | translate}}

#modalPlayerDepositTrackingGroupModifyTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"PLAYER_DEPOSIT_TRACKING_GROUP_MODIFY_TITLE" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .row
                            .col-md-12
                                .well
                                    label {{"PLAYER_DEPOSIT_TRACKING_GROUP_MODIFY_INSTRUCTION" | translate}}:
                                    select.form-control(ng-model='vm.selectedDepositTrackingGroup', data-width='100%')
                                        option(value='') {{'--' | translate}}
                                        option(ng-repeat='v in vm.depositTrackingGroup', value='{{v._id}}') {{v.name || translate}}
            .modal-footer
                div(style='display:inline-block;font-weight:bold;margin:10px 10px 0 0;font-size:16px') {{vm.modifyDepositTrackingGroupResult | translate}}
                button.btn.btn-success.common-button(ng-if="!vm.modifyDepositTrackingGroupResult" ng-click="vm.modifyPlayerDepositTrackingGroup(vm.selectedDepositTrackingGroupPlayerId, vm.selectedDepositTrackingGroup)")
                    i.fa.fa-check
                    text {{"CONFIRM" | translate}}
                bbutton.btn.btn-danger.common-button(data-dismiss='modal')
                    i.fa.fa-ban
                    text {{"CANCEL" | translate}}

#modalPlayerDepositTrackingMonthlyDetailsTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title.text-center ({{vm.depositTrackingMonthlyDetails.playerName}}) {{"TRACKING_DETAILS_MONTHLY_REPORT_TITLE" | translate}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'Month' | translate}}
                                th {{'DEPOSIT_VALID_CONSUMPTION' | translate}}
                                th {{'DEPOSIT_TOPUP' | translate}}
                                th {{'DEPOSIT_BONUS' | translate}}
                                th {{'DAILY_TOPUP' | translate}}
                        tbody
                            tr(ng-if="vm.depositTrackingMonthlyDetails.outputData.length === 0")
                                td(colspan = 3) {{ 'No data available in table' | translate }}
                            tr(ng-if="vm.depositTrackingMonthlyDetails.outputData.length > 0", ng-repeat="v in vm.depositTrackingMonthlyDetails.outputData")
                                td {{v.date}}
                                td {{v.validConsumption | noRoundTwoDecimalPlaces}}
                                td {{v.topUpAmount | noRoundTwoDecimalPlaces}}
                                td {{v.bonusAmount | noRoundTwoDecimalPlaces}}
                                td
                                    a(data-toggle="modal", data-target='#modalPlayerDepositTrackingDailyDetailsTable', ng-click="vm.getPlayerDepositTrackingDailyDetails(v.date)") {{'DETAILS' | translate}}
                            tr(ng-if="vm.depositTrackingMonthlyDetails.outputData.length > 0")
                                td.text-bold {{"Totalsum" | translate}}
                                td.text-bold {{vm.depositTrackingMonthlyDetails.total.validConsumption | noRoundTwoDecimalPlaces}}
                                td.text-bold {{vm.depositTrackingMonthlyDetails.total.topUpAmount | noRoundTwoDecimalPlaces}}
                                td.text-bold {{vm.depositTrackingMonthlyDetails.total.bonusAmount | noRoundTwoDecimalPlaces}}
                                td

#modalPlayerDepositTrackingDailyDetailsTable.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title.text-center ({{vm.depositTrackingDailyDetails.playerName}}) {{"TRACKING_DETAILS_DAILY_REPORT_TITLE" | translate}}
            .modal-body
                div
                    table.simple-table
                        thead
                            tr
                                th {{'Day' | translate}}
                                th {{'DEPOSIT_VALID_CONSUMPTION' | translate}}
                                th {{'DEPOSIT_TOPUP' | translate}}
                                th {{'DEPOSIT_BONUS' | translate}}
                        tbody
                            tr(ng-if="vm.depositTrackingDailyDetails.outputData.length === 0")
                                td(colspan = 3) {{ 'No data available in table' | translate }}
                            tr(ng-if="vm.depositTrackingDailyDetails.outputData.length > 0", ng-repeat="v in vm.depositTrackingDailyDetails.outputData")
                                td {{v.date}}
                                td {{v.validConsumption | noRoundTwoDecimalPlaces}}
                                td {{v.topUpAmount | noRoundTwoDecimalPlaces}}
                                td {{v.bonusAmount | noRoundTwoDecimalPlaces}}
                            tr(ng-if="vm.depositTrackingDailyDetails.outputData.length > 0")
                                td.text-bold {{"Totalsum" | translate}}
                                td.text-bold {{vm.depositTrackingDailyDetails.total.validConsumption | noRoundTwoDecimalPlaces}}
                                td.text-bold {{vm.depositTrackingDailyDetails.total.topUpAmount | noRoundTwoDecimalPlaces}}
                                td.text-bold {{vm.depositTrackingDailyDetails.total.bonusAmount | noRoundTwoDecimalPlaces}}

include ../common-widget/telephone-popover
script(src='js/lib/flot/jquery.flot.min.js')
script(src='js/lib/flot/jquery.flot.pie.min.js')
