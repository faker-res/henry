style.
    .bg-grey {
        background-color: rgba(200, 200, 200, 20);
    }
.col-sm-12(ng-if='!vm.curPlatformText')
    .text-center
        label.text-danger {{"NO_PLATFORM_MESSAGE" | translate}}
.row(ng-if='vm.curPlatformText')
    .col-md-2
        .panel.panel-primary(style="min-height:610px")
            .panel-heading.panel-heading-sm
                label {{"MERCHANT_GROUP" | translate}}
            .panel-body
                div(ng-show="vm.paymentSystemName === 'PMS' || vm.paymentSystemName === ''")
                    input#FPMSMerchantPaymentGroup(type='radio' value='FPMS' ng-model="vm.merchantGroupUsed" ng-change="vm.loadMerchantGroupData()")
                    label.radio-space(for='FPMSMerchantPaymentGroup') {{"FPMS Group" | translate}}
                    input#PMSMerchantPaymentGroup(type='radio' value='PMS' ng-model="vm.merchantGroupUsed" ng-change="vm.loadMerchantGroupData()")
                    label.radio-space(for='PMSMerchantPaymentGroup') {{"PMS Group" | translate}}
                div(ng-if='!vm.platformMerchantGroupList || vm.platformMerchantGroupList.length==0', style="height: 50px; overflow-y: auto;")
                    label.text-danger {{"NO_MERCHANT_GROUP_MESSAGE" | translate}}
                //div#merchantGroupTree(style="height: 430px; overflow-y: auto;")
                ul.list-group.treeview(ng-if='vm.platformMerchantGroupList.length > 0', style="height: 430px; overflow-y: auto;")
                    li.list-group-item(ng-repeat='(i,merchantGroup) in vm.platformMerchantGroupList', ng-click='vm.merchantGroupClicked(i,merchantGroup)', ng-class='{active: vm.SelectedMerchantGroupNode === merchantGroup}')
                        text {{merchantGroup.name}}
                        i.fa.fa-star.pull-right.margin-right-5(ng-show='merchantGroup.bDefault')
                div.paymentCard(ng-show="vm.paymentSystemName === 'PMS' || vm.paymentSystemName === ''")
                        label {{"PAYMENT_CARD_MODE" | translate}}
                        br
                        input#merchantFPMSGroupSetting(type='radio' value='false' ng-model="vm.merchantGroupPMS" ng-disabled="!checkViewPermission('Payment', 'MerchantGroup', 'UpdateCardGroupType')")
                        label.radio-space(for='merchantFPMSGroupSetting') {{"FPMS Group" | translate}}
                        input#merchantPMSGroupSetting(ng-if='!vm.selectedPlatform.data.financialSettlement.financialSettlementToggle && !vm.selectedPlatform.data.isFPMSPaymentSystem' type='radio' value='true' ng-model="vm.merchantGroupPMS" ng-disabled="!checkViewPermission('Payment', 'MerchantGroup', 'UpdateCardGroupType')")
                        label.radio-space(ng-if='!vm.selectedPlatform.data.financialSettlement.financialSettlementToggle && !vm.selectedPlatform.data.isFPMSPaymentSystem' for='merchantPMSGroupSetting') {{"PMS Group" | translate}}
                        br
                        button.btn.btn-primary(ng-click="vm.updateIsPMSGroup(vm.merchantGroupPMS, 'merchantGroupIsPMS')" ng-if="checkViewPermission('Payment', 'MerchantGroup', 'UpdateCardGroupType')") {{"CONFIRMATION" | translate}}
                br
                .btn-group.text-center(role="group" ng-show="vm.paymentSystemName === 'PMS' || vm.paymentSystemName === ''")
                    button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Create') && vm.merchantGroupUsed != 'PMS'", data-toggle="modal", ng-click='vm.newMerchantGroup={};', data-target='#modalAddMerchantGroup')
                        img.img-create
                        text {{"ADD" | translate}}
                    button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Delete') && vm.merchantGroupUsed != 'PMS'", ng-disabled="!vm.selectedPlatform || !vm.SelectedMerchantGroupNode", data-toggle="modal", data-target='#modalRemoveMerchantGroup', ng-click='')
                        img.img-delete
                        text {{"DELETE" | translate}}
                    button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Update') && vm.merchantGroupUsed != 'PMS'", ng-disabled="!vm.selectedPlatform || !vm.SelectedMerchantGroupNode", data-toggle="modal", data-target='#modalRenameMerchantGroup', ng-click='vm.initRenameMerchantGroup()')
                        img.img-edit
                        text {{"EDIT" | translate}}
                    button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Update') && vm.merchantGroupUsed != 'PMS'", ng-disabled="!vm.selectedPlatform || !(vm.platformMerchantGroupList.length>0)", data-toggle="modal", data-target='#modalSetMerchantGroupDefault')
                        img.img-edit
                        text {{"Default" | translate}}
                    button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'AddPlayer') && vm.merchantGroupUsed != 'PMS'", ng-disabled="!vm.selectedPlatform || !vm.SelectedMerchantGroupNode", data-toggle="modal", data-target='#modalAddPlayersToMerchantGroup', ng-click='vm.preparePlayerToGroupDialog("merchantGroup","#playertoMerchantGroupDataTable")')
                        img.img-create
                        text {{"ADD_PLAYER" | translate}}
                    button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'AddAllPlayer') && vm.merchantGroupUsed != 'PMS'", ng-disabled="!vm.selectedPlatform || !vm.SelectedMerchantGroupNode", data-toggle="modal", data-target='#modalAddAllPlayersToMerchantGroup', ng-click='vm.addAllPlayerToMerchantResult=""')
                        img.img-create
                        text {{"ADD_ALL_PLAYER" | translate}}
                    //- button.btn.btn-primary.common-button(ng-if="checkViewPermission('Platform', 'Bank', 'DetachProvider')", ng-disabled="!vm.selectedPlatform", data-toggle="modal", data-target='#modalTachProvider', ng-click='vm.linkProvider("detach");vm.linkProviderType="DETACH"')
                    //button.btn.btn-primary.common-button(ng-if="checkViewPermission('Platform', 'Bank', 'DetachProvider')", ng-disabled="!vm.selectedPlatform || !vm.SelectedMerchantGroupNode", ng-click='vm.confirmDetachProvider()')
                    //    text {{"DETACH" | translate}}
                    //    .fa.fa-chain-broken
                        img.img-create
                    button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Update') && vm.merchantGroupUsed != 'PMS'", data-toggle="modal", ng-click='vm.syncMerchantNoScript()')
                        img.img-create
                        text 同步商户号

                .panel(ng-show="vm.paymentSystemName !== 'FPMS'")
                    .panel.panel-primary(style="height:300px")
                        .panel-body.common-right-panel-body
                            div
                                h4 {{'Service Charge Setting' | translate}}
                                table(style='width:auto;min-width:99.9%')
                                    tbody
                                        tr
                                            td {{'PMS Service Charge' | translate}}>%
                                        tr
                                            td
                                                input.form-control(type='number', ng-model='vm.pmsServiceChargeRate', ng-disabled='vm.isServiceChargeEditingDisable')
                                        tr
                                            td
                                                br
                                        tr
                                            td {{'FPMS Service Charge' | translate}}%
                                        tr
                                            td
                                                input.form-control(type='number', ng-model='vm.fpmsServiceChargeRate', ng-disabled='vm.isServiceChargeEditingDisable')
                                br
                                .pull-right
                                    button.btn.btn-warning.common-button(ng-if='!vm.isServiceChargeEditingDisable && checkViewPermission("Payment", "MerchantGroup", "ServiceChangeSetting")' ng-click='vm.serviceChargeShowEdit("CANCEL")') {{'CANCEL' | translate}}
                                    button.btn.btn-primary.common-button(ng-if='vm.isServiceChargeEditingDisable && checkViewPermission("Payment", "MerchantGroup", "ServiceChangeSetting")' ng-click='vm.serviceChargeShowEdit("EDIT")') {{'Edit' | translate}}
                                    button.btn.btn-primary.common-button(ng-if='!vm.isServiceChargeEditingDisable && checkViewPermission("Payment", "MerchantGroup", "ServiceChangeSetting")' ng-click='vm.updateServiceChargeSetting();vm.serviceChargeShowEdit("UPDATE")') {{'SUBMIT' | translate}}

    .col-md-10(style="padding-left:0;padding-right:15px")
        .panel.panel-primary(style="min-height:610px")
            .panel-heading.panel-heading-sm
                label {{"Merchant Group" | translate}} : {{vm.SelectedMerchantGroupNode.name}} ({{vm.SelectedMerchantGroupNode.displayName}})
            .panel-body
                .text-center(ng-if='!vm.SelectedMerchantGroupNode')
                    label.text-danger {{"NO_MERCHANT_GROUP_MESSAGE" | translate}}
                .col-sm-12(ng-class="{'col-sm-6':(vm.merchantGroupUsed == 'PMS' || vm.paymentSystemName !== 'FPMS')}")
                    .well
                        .search-filters-item
                            .control-label {{"Backstage Merchant ID" | translate}}
                            input.form-control(type='text', ng-model='vm.merchantFilterOptions.backstageMerchantId')
                        .threeBoxes(ng-if="vm.merchantGroupUsed != 'PMS' && vm.paymentSystemName === 'FPMS'")
                            .control-label {{"IS_IN_GROUP" | translate}}
                            select.form-control(ng-model="vm.merchantFilterOptions.isIncluded")
                                option(value='all') {{'any' | translate}}
                                option(value='yes') {{'IN_GROUP' | translate}}
                                option(value='no') {{'NOT_IN_GROUP' | translate}}
                        .text-right.widthto100
                            button.btn.btn-primary(data-dismiss='modal', ng-click="vm.merchantPayFilter()") {{"FILTER" | translate}}
                .col-sm-6(ng-if="vm.merchantGroupUsed == 'PMS' || vm.paymentSystemName !== 'FPMS'")
                    .well
                        .search-filters-item
                            .control-label {{"Player's Name (PMS Group Search)" | translate}}
                            input.form-control(type='text', ng-model='vm.pmsGroupPlayerName', ng-change='vm.searchPMSMerchantGroup()')
                        .text-right.widthto100
                            button.btn.btn-primary(data-dismiss='modal', ng-click="vm.playerPMSMerchantGroupSearch()") {{"SEARCH" | translate}}

                span {{"All Pages" | translate}}: {{vm.totalMerchantShows()}}
                table#merchantGroupTable.table(ng-if='vm.SelectedMerchantGroupNode')
                    thead
                        tr
                            th(ng-show="vm.merchantGroupUsed == 'FPMS' && vm.paymentSystemName === 'FPMS'") {{'SELECT' | translate}}
                            th(data-toggle="modal", data-target="#modalFilterMerchantStatus", style="cursor: pointer")
                                u {{'STATUS' | translate}}
                            th(data-toggle="modal", data-target="#modalFilterMerchantDevice", style="cursor: pointer")
                                u {{'Target Device' | translate}}
                            th(data-toggle="modal", data-target="#modalFilterMerchantOnlineTopUp", style="cursor: pointer")
                                u {{'Online Topup Type' | translate}}
                            th(data-toggle="modal", data-target="#modalFilterMerchantThirdParty", style="cursor: pointer")
                                u {{'Third Party Platform' | translate}}
                            th {{'merchantNo' | translate}}
                            th {{'Backstage Merchant ID' | translate}}
                            th {{'SINGLE_MINIMUM' | translate}}
                            th {{'SINGLE_LIMIT' | translate}}
                            th {{'DAY_LIMIT' | translate}}
                            th {{'Service Charge Ratio' | translate}}%
                    tbody
                        tr(ng-repeat='(i,v) in vm.allMerchantList' ng-class="{'bg-grey' : v.isIncluded == false}" ng-show="v.show$")
                            td(ng-show="vm.merchantGroupUsed == 'FPMS' && vm.paymentSystemName === 'FPMS'")
                                input(type="checkbox" ng-model="v.selected")
                            td(ng-class="{'text-disabled': v.status === 'DISABLED'}").text-success {{v.status === 'DISABLED' ? 'DISABLE' : v.status | translate}}
                            td {{merchantTargetDeviceJson[v.targetDevices] | translate}}
                            td {{merchantTopupTypeJson[v.topupType] | translate}}
                            td {{vm.allMerchantTypeList[v.merchantTypeId].name | translate}}
                                img(async=on ng-if='v.merchantTypeId', ng-src='{{vm.allMerchantTypeList[v.merchantTypeId].showIconURL}}')
                            td {{v.merchantNo}}
                            td {{v.name}}
                            td {{v.permerchantminLimits}}
                            td {{v.permerchantLimits}}
                            td {{v.transactionForPlayerOneDay}}
                            td(ng-init="v.editRate = false")
                                a(href='', ng-if='!v.editRate && !v.customizeRate && !v.systemCustomRate && !checkViewPermission("Payment", "MerchantGroup", "EditServiceChargeRatio")') {{v.rate ? (v.rate * 100).toFixed(2) : 0}}%
                                a(href='', ng-if='!v.editRate && v.customizeRate && !checkViewPermission("Payment", "MerchantGroup", "EditServiceChargeRatio")', style='color:red') {{v.customizeRate ? (v.customizeRate * 100).toFixed(2) : 0}}%
                                a(href='', ng-if='!v.editRate && !v.customizeRate && v.systemCustomRate && !checkViewPermission("Payment", "MerchantGroup", "EditServiceChargeRatio")', style='color:orange') {{(v.systemCustomRate * 100).toFixed(2)}}%
                                a(href='', ng-if='!v.editRate && !v.customizeRate && !v.systemCustomRate && checkViewPermission("Payment", "MerchantGroup", "EditServiceChargeRatio")', ng-click='vm.editMerchantRateFlag(i)') {{v.rate ? (v.rate * 100).toFixed(2) : 0}}%
                                a(href='', ng-if='!v.editRate && v.customizeRate && checkViewPermission("Payment", "MerchantGroup", "EditServiceChargeRatio")', style='color:red', ng-click='vm.editMerchantRateFlag(i)') {{v.customizeRate ? (v.customizeRate * 100).toFixed(2) : 0}}%
                                a(href='', ng-if='!v.editRate && !v.customizeRate && v.systemCustomRate && checkViewPermission("Payment", "MerchantGroup", "EditServiceChargeRatio")', style='color:orange', ng-click='vm.editMerchantRateFlag(i)') {{(v.systemCustomRate * 100).toFixed(2)}}%
                                input.form-control(name='merchantCustomizeRateTextBox', id='merchantCustomizeRateTextBox', type='text' ng-if='checkViewPermission("Payment", "MerchantGroup", "EditServiceChargeRatio") && v.editRate', ng-model='v.customizeRate', ng-change='vm.validateCustomizeRateIsNumber(v.customizeRate, i)',  ng-keypress='enterSubmitMerchantCustomizeRate($event, v, v.customizeRate)', ng-blur='vm.backToOriRate(v)')

                .text-right.widthto100(ng-show="vm.paymentSystemName === 'PMS' || vm.paymentSystemName === ''")
                    button.btn.btn-info.btn-space(ng-click="vm.selectMerchant(true)" ng-if="vm.merchantGroupUsed != 'PMS'") {{"Select All" | translate}}
                    button.btn.btn-info.btn-space(ng-click="vm.selectMerchant(false)" ng-if="vm.merchantGroupUsed != 'PMS'") {{"Clear All" | translate}}
                    button.btn.btn-primary.btn-space(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Update') && vm.merchantGroupUsed != 'PMS'", ng-click='vm.removeMerchantFromGroup()')
                            i.fa.fa-minus-square.symbol
                            text {{"EXCLUDE" | translate}}
                    button.btn.btn-primary.btn-space(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Update') && vm.merchantGroupUsed != 'PMS'", ng-click='vm.addmerchantToGroup()')
                            i.fa.fa-plus-square.symbol
                            text {{"INCLUDE" | translate}}
                //#MerchantList.panel-group(ng-if='vm.SelectedMerchantGroupNode')
                    .panel.panel-default
                        .panel-heading.panel-heading-sm(data-toggle='collapse', data-parent="#MerchantList", href='#includedMerchants', ng-click='vm.showMerchantCate="include";vm.toggleBankType()')
                            h4.panel-title
                                text {{'Included Merchants' | translate}}
                                span(ng-if='vm.includedMerchants') &nbsp;:&nbsp;({{vm.includedMerchants.length}})
                                text.blink.margin-left-5.text-danger(ng-if='!vm.includedMerchants') {{'loading merchants' | translate}}...
                        #includedMerchants.panel-collapse.collapse.in
                            .panel-body(style='height:250px;overflow-y:auto')
                                a.platformBankcardDiv(ng-repeat='(i,v) in vm.includedMerchants', class='{{vm.highlightMerchant[v.name]}}', ng-click='vm.merchantClicked(i,v,"in")')
                                    table.bg-pale
                                        tr
                                            td.text-center
                                            td {{'STATUS' | translate}}
                                            td(ng-class="{'text-disabled': v.status === 'DISABLED'}").text-success {{v.status| translate}}
                                        tr
                                            td.text-center
                                            td {{'Target Device' | translate}}
                                            td.text-success {{merchantTargetDeviceJson[v.targetDevices] | translate}}
                                        tr
                                            td.text-center
                                            td {{'Online Topup Type' | translate}}
                                            td.text-success {{merchantTopupTypeJson[v.topupType] | translate}}
                                        tr
                                            td.text-center
                                            td {{'Third Party Platform' | translate}}
                                            td.text-success {{vm.allMerchantTypeList[v.merchantTypeId].name | translate}}
                                                img(ng-if='v.merchantTypeId', src='{{vm.allMerchantTypeList[v.merchantTypeId].showIconURL}}')
                                        tr
                                            td.text-center
                                            td {{'merchantNo' | translate}}
                                            td.text-success {{v.merchantNo}}
                                        tr
                                            td.text-center
                                            td {{'Backstage Merchant ID' | translate}}
                                            td.text-success {{v.name}}
                                        tr
                                            td.text-center
                                            td {{'SINGLE_LIMIT' | translate}}
                                            td.text-success {{v.permerchantLimits}}
                                        tr
                                            td.text-center
                                            td {{'DAY_LIMIT' | translate}}
                                            td.text-success {{v.transactionForPlayerOneDay}}


                                        //tr
                                        //    td.text-center(rowspan="7")
                                        //        i.fa.fa-money.text-danger
                                        //    td {{'TITLE' | translate}}
                                        //    td.text-success {{v.name}}
                                        //tr
                                        //    td {{'ACCOUNT' | translate}}
                                        //    td.text-success {{v.merchantNo}}
                                        //tr
                                        //    td {{'Topup Type' | translate}}
                                        //    td.text-success {{merchantTopupTypeJson[v.topupType] | translate}}
                                        //tr
                                        //    td {{'Merchant Use' | translate}}
                                        //    td.text-success {{merchantUseTypeJson[v.merchantUse] | translate}}
                                        //tr
                                        //    td {{'Status' | translate}}
                                        //    td.text-success {{v.status | translate}}
                                        //tr
                                        //    td {{'Merchant Type ID' | translate}}
                                        //    td.text-success {{vm.allMerchantTypeList[v.merchantTypeId].name | translate}}
                                        //        img(ng-if='v.merchantTypeId', src='{{vm.allMerchantTypeList[v.merchantTypeId].showIconURL}}')
                                        //tr
                                        //    td {{'SINGLE_LIMIT' | translate}}
                                        //    td.text-success {{v.permerchantLimits | translate}}
                                        //tr
                                        //    td {{'DAY_LIMIT' | translate}}
                                        //    td.text-success {{v.transactionForPlayerOneDay | translate}}
                    .panel.panel-default
                        .panel-heading.panel-heading-sm(data-toggle='collapse', data-parent="#MerchantList", href='#excludedMerchants', ng-click='vm.showMerchantCate="exclude";vm.toggleBankType()')
                            h4.panel-title
                                text {{'Excluded Merchants' | translate}}
                                span(ng-if='vm.excludedMerchants') &nbsp;:&nbsp;({{vm.excludedMerchants.length}})
                                text.blink.margin-left-5.text-danger(ng-if='!vm.excludedMerchants') {{'loading merchants' | translate}}...
                        #excludedMerchants.panel-collapse.collapse
                            .panel-body(style='height:250px;overflow-y:auto')
                                a.platformBankcardDiv(ng-repeat='(i,v) in vm.excludedMerchants', class='{{vm.highlightMerchant[v.name]}}', ng-click='vm.merchantClicked(i,v,"ex")')
                                    table.bg-pale
                                        tr
                                            td.text-center
                                            td {{'STATUS' | translate}}
                                            td(ng-class="{'text-disabled': v.status === 'DISABLED'}").text-success {{v.status| translate}}
                                        tr
                                            td.text-center
                                            td {{'Target Device' | translate}}
                                            td.text-success {{merchantTargetDeviceJson[v.targetDevices] | translate}}
                                        tr
                                            td.text-center
                                            td {{'Online Topup Type' | translate}}
                                            td.text-success {{merchantTopupTypeJson[v.topupType] | translate}}
                                        tr
                                            td.text-center
                                            td {{'Third Party Platform' | translate}}

                                            td.text-success {{vm.allMerchantTypeList[v.merchantTypeId].name | translate}}
                                                img(ng-if='v.merchantTypeId', src='{{vm.allMerchantTypeList[v.merchantTypeId].showIconURL}}')
                                        tr
                                            td.text-center
                                            td {{'merchantNo' | translate}}
                                            td.text-success {{v.merchantNo}}
                                        tr
                                            td.text-center
                                            td {{'Backstage Merchant ID' | translate}}
                                            td.text-success {{v.name}}
                                        tr
                                            td.text-center
                                            td {{'SINGLE_LIMIT' | translate}}
                                            td.text-success {{v.permerchantLimits}}
                                        tr
                                            td.text-center
                                            td {{'DAY_LIMIT' | translate}}
                                            td.text-success {{v.transactionForPlayerOneDay}}
                                        //tr
                                        //    td.text-center(rowspan="5")
                                        //        i.fa.fa-money.text-danger
                                        //    td {{'TITLE' | translate}}
                                        //    td.text-success {{v.name}}
                                        //tr
                                        //    td {{'ACCOUNT' | translate}}
                                        //    td.text-success {{v.merchantNo}}
                                        //tr
                                        //    td {{'Topup Type' | translate}}
                                        //    td.text-success {{merchantTopupTypeJson[v.topupType] | translate}}
                                        //tr
                                        //    td {{'Merchant Use' | translate}}
                                        //    td.text-success {{merchantUseTypeJson[v.merchantUse] | translate}}
                                        //tr
                                        //    td {{'Merchant Type ID' | translate}}
                                        //    td.text-success {{vm.allMerchantTypeList[v.merchantTypeId].name | translate}}
                                        //        img(ng-if='v.merchantTypeId', src='{{vm.allMerchantTypeList[v.merchantTypeId].showIconURL}}')
                                        //tr
                                        //    td {{'SINGLE_LIMIT' | translate}}
                                        //    td.text-success {{v.permerchantLimits | translate}}
                                        //tr
                                        //    td {{'DAY_LIMIT' | translate}}
                                        //    td.text-success {{v.transactionForPlayerOneDay | translate}}
                .panel.panel-info(ng-if='vm.curMerchant')
                    .panel-heading.panel-heading-sm
                        h4.panel-title(style='display:inline-block') {{'Merchant' | translate}} : {{vm.curMerchant.name}}
                    .panel-body(style='padding:5px')
                        .merchantPropFlex
                            .merchantPropdiv
                                text {{'Merchant No' | translate}}
                                label.text-success {{vm.curMerchant.merchantNo}}
                            .merchantPropdiv
                                text {{'TITLE' | translate}}
                                label.text-success {{vm.curMerchant.name}}
                            .merchantPropdiv
                                text {{'Merchant Type ID' | translate}}
                                label.text-success {{vm.allMerchantTypeList[vm.curMerchant.merchantTypeId].name | translate}}
                            .merchantPropdiv
                                text {{'Merchant Use' | translate}}
                                label.text-success {{merchantUseTypeJson[vm.curMerchant.merchantUse] | translate}}
                            .merchantPropdiv
                                text {{'REMARK' | translate}}
                                label.text-success {{vm.curMerchant.remark}}
                            .merchantPropdiv
                                text {{'Target Devices' | translate}}
                                label.text-success {{merchantTargetDeviceJson[vm.curMerchant.targetDevices] | translate}}
                            .merchantPropdiv
                                text {{'Topup Type' | translate}}
                                label.text-success {{merchantTopupTypeJson[vm.curMerchant.topupType] | translate}}

                            //.merchantPropdiv(ng-repeat='(i,v) in vm.curMerchant')
                                text {{i}}
                                label.text-success {{v}}
                div(ng-if='vm.curMerchant')
                    div(ng-if='vm.showMerchantCate=="include"')
                        button.btn.btn-primary.common-button.pull-right(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Update')", ng-click='vm.removeMerchantFromGroup()')
                            i.fa.fa-minus-square
                            text {{"EXCLUDE" | translate}}
                    div(ng-if='vm.showMerchantCate=="exclude"')
                        button.btn.btn-primary.common-button.pull-right(ng-if="checkViewPermission('Payment', 'MerchantGroup', 'Update')", ng-click='vm.addmerchantToGroup()')
                            i.fa.fa-plus-square
                            text {{"INCLUDE" | translate}}

#modalAddMerchantGroup.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Add Merchant Group" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .well
                            .form-group
                                .control-label {{"Merchant Group Name" | translate}}
                                input.form-control(type='text', ng-model='vm.newMerchantGroup.name')
                            .form-group
                                .control-label {{"Merchant Group Display Name" | translate}}
                                input.form-control(type='text', ng-model='vm.newMerchantGroup.displayName')
                            .form-group
                                .control-label {{"Merchant Group Code" | translate}}
                                input.form-control(type='text', ng-model='vm.newMerchantGroup.code')
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal', ng-click="vm.addMerchantGroup(vm.newMerchantGroup)") {{"CONFIRM" | translate}}
                button.btn.btn-warning.common-button(data-dismiss='modal') {{"CANCEL" | translate}}
#modalRemoveMerchantGroup.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Remove Merchant Group" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .well
                            .form-group
                                .control-label {{"Merchant Group Name" | translate}}
                                label {{vm.SelectedMerchantGroupNode.name}}
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal', ng-click="vm.removeMerchantGroup(vm.SelectedMerchantGroupNode)") {{"CONFIRM" | translate}}
                button.btn.btn-warning.common-button(data-dismiss='modal') {{"CANCEL" | translate}}
#modalRenameMerchantGroup.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Rename Merchant Group" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .well
                            .form-group
                                .control-label {{"Merchant Group Name" | translate}}
                                input.form-control(type='text', ng-model='vm.newMerchantGroup.name')
                            .form-group
                                .control-label {{"Merchant Group display Name" | translate}}
                                input.form-control(type='text', ng-model='vm.newMerchantGroup.displayName')
                            .form-group
                                .control-label {{"Merchant Group Code" | translate}}
                                input.form-control(type='text', ng-model='vm.newMerchantGroup.code')
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal', ng-click="vm.renameMerchantGroup()") {{"CONFIRM" | translate}}
                button.btn.btn-warning.common-button(data-dismiss='modal') {{"CANCEL" | translate}}
#modalSetMerchantGroupDefault.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Merchant Group" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .well
                            .form-group
                                label.control-label {{"Please choose default merchant group" | translate}}
                                div(ng-repeat='(i,v) in vm.platformMerchantGroupList')
                                    label {{v.name}} ({{v.displayName}})
                                        input.pull-left.margin-right-5(type='radio', name='defaultMerchantGroup', ng-model='vm.defaultMerchantGroup', ng-value='v._id')
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal', ng-click="vm.submitDefaultMerchantGroup()") {{"CONFIRM" | translate}}
                button.btn.btn-warning.common-button(data-dismiss='modal') {{"CANCEL" | translate}}
#modalAddPlayersToMerchantGroup.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"ADD_PLAYER" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        label {{"ADD_PLAYER_TO_MERCHANT_GROUP"|translate}}&nbsp;:&nbsp;{{vm.SelectedMerchantGroupNode.name}}
                        br
                        .well
                            .inlineBlk.margin-right-5
                                label {{'MERCHANT_GROUP' | translate}}
                                select.form-control(ng-model='vm.playerToGroupFilterObj.filter.merchantGroup')
                                    option(value='all') {{'ALL' | translate}}
                                    option(ng-repeat='(i,v) in vm.platformMerchantGroupList', value='{{v._id}}') {{v.name}}({{v.displayName}})
                            .inlineBlk.margin-right-5
                                label {{'PLAYER_LEVEL' | translate}}
                                select.form-control(ng-model='vm.playerToGroupFilterObj.filter.playerLevel')
                                    option(value='all') {{'ALL' | translate}}
                                    option(ng-repeat='(i,v) in vm.allPlayerLvl', value='{{v._id}}') {{v.name | translate}}
                            .inlineBlk.margin-right-5
                                label {{'USER_NAME' | translate}}
                                input.form-control(type='text', ng-model='vm.playerToGroupFilterObj.filter.name')
                            .inlineBlk.margin-right-5
                                label {{'MIN_TOPUP_TIMES' | translate}}
                                input.form-control(type='number', ng-model='vm.playerToGroupFilterObj.filter.topUpTimes')
                            .inlineBlk.margin-right-5
                                label {{'CREDIT' | translate}}
                                input.form-control(type='number', ng-model='vm.playerToGroupFilterObj.filter.validCredit')
                            .inlineBlk
                                button.btn.btn-primary.common-button(ng-click='vm.playerToGroupFilter(true,"merchant")') {{'SEARCH' | translate}}
                            .inlineBlk(ng-show='vm.loadingPlayerTable')
                                label.blink.text-danger {{'Loading' | translate}}
                        text.text-danger(ng-show='vm.players.length==0') {{"No player is found."|translate}}
                        label {{"Total" | translate}} {{vm.playerToGroupFilterObj.totalCount}} {{"records" | translate}}
                        table#playertoMerchantGroupDataTable.display(style="width:100%")
                            thead
                        #playertoMerchantGroupDataTablePage
            .modal-footer
                button.btn.btn-primary.common-button(ng-click="vm.submitAddPlayersToMerchantGroup()") {{"ADD" | translate}}
                button.btn.btn-warning.common-button(data-dismiss='modal') {{"CANCEL" | translate}}
#modalAddAllPlayersToMerchantGroup.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"ADD_PLAYER" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .well
                            label {{"Add All Player to Merchant group"|translate}}&nbsp;:&nbsp;{{vm.SelectedMerchantGroupNode.name}}
                            br
                            label {{"Please confirm your action." | translate}}
            .modal-footer
                button.btn.btn-primary.common-button(ng-show='!vm.addAllPlayerToMerchantResult' ng-click="vm.submitAddAllPlayersToMerchantGroup()") {{"CONFIRM" | translate}}
                button.btn.btn-warning.common-button(ng-show='!vm.addAllPlayerToMerchantResult' data-dismiss='modal') {{"CANCEL" | translate}}
                button.btn.btn-success.common-button(ng-show='vm.addAllPlayerToMerchantResult' data-dismiss='modal') {{"CONFIRM" | translate}}
                label(ng-show='vm.addAllPlayerToMerchantResult') {{vm.addAllPlayerToMerchantResult}}

#modalFilterMerchantOnlineTopUp.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Online Topup Type'" | translate}} {{"Show Options" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .col-md-3(ng-repeat="(topupTypeId, show) in vm.merchantFilterOptions.topupType")
                            input(type="checkbox" ng-model="vm.merchantFilterOptions.topupType[topupTypeId]")
                            span {{merchantTopupTypeJson[topupTypeId] | translate}}
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal', ng-click="vm.merchantPayFilter()") {{"FILTER" | translate}}
                button.btn.btn-info.common-button(ng-click="vm.changeMerchantFilter('topupType', true)") {{"Select All" | translate}}
                button.btn.btn-info.common-button(ng-click="vm.changeMerchantFilter('topupType', false)") {{"Clear All" | translate}}

#modalFilterMerchantThirdParty.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Third Party Platform" | translate}} {{"Show Options" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .col-md-3(ng-repeat="(merchantTypeId, show) in vm.merchantFilterOptions.merchantTypeId")
                            input(type="checkbox" ng-model="vm.merchantFilterOptions.merchantTypeId[merchantTypeId]")
                            span {{vm.allMerchantTypeList[merchantTypeId].name | translate}}
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal', ng-click="vm.merchantPayFilter()") {{"FILTER" | translate}}
                button.btn.btn-info.common-button(ng-click="vm.changeMerchantFilter('merchantTypeId', true)") {{"Select All" | translate}}
                button.btn.btn-info.common-button(ng-click="vm.changeMerchantFilter('merchantTypeId', false)") {{"Clear All" | translate}}

#modalFilterMerchantDevice.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Target Device" | translate}} {{"Show Options" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .col-md-3(ng-repeat="(targetDevicesId, show) in vm.merchantFilterOptions.targetDevices")
                            input(type="checkbox" ng-model="vm.merchantFilterOptions.targetDevices[targetDevicesId]")
                            span {{merchantTargetDeviceJson[targetDevicesId] | translate}}
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal', ng-click="vm.merchantPayFilter()") {{"FILTER" | translate}}
                button.btn.btn-info.common-button(ng-click="vm.changeMerchantFilter('targetDevices', true)") {{"Select All" | translate}}
                button.btn.btn-info.common-button(ng-click="vm.changeMerchantFilter('targetDevices', false)") {{"Clear All" | translate}}

#modalFilterMerchantStatus.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"STATUS" | translate}} {{"Show Options" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .col-md-3(ng-repeat="(status, show) in vm.merchantFilterOptions.status")
                            input(type="checkbox" ng-model="vm.merchantFilterOptions.status[status]")
                            span {{status === "DISABLED" ? "DISABLE" : status | translate}}
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal', ng-click="vm.merchantPayFilter()") {{"FILTER" | translate}}
