//div(ng-if='vm.pageName === "Payment Monitor"')
div
    h1
        .label.label-success 在线支付
    br
    #paymentMonitorQuery.block-query.col-md-12.well
        div
            label {{'topupType' | translate}}
            select.form-control(ng-model='vm.paymentMonitorQuery.mainTopupType', required)
                option(value='') {{"any" | translate}}
                option(value='') {{"any" | translate}}
                option(ng-repeat='(i,v) in vm.topUpTypeList', value='{{v}}') {{"TOPUP"+i | translate}}
        div(ng-show='!vm.paymentMonitorQuery.mainTopupType || vm.paymentMonitorQuery.mainTopupType=="2"',style='max-width:125px')
            label {{'Online Topup Type' | translate}}
            select.form-control(ng-model='vm.paymentMonitorQuery.topupType')
                option(value='') {{'any' | translate}}
                option(value='1') 网银支付(NetPay)
                option(value='2') 微信扫码(WechatQR)
                option(value='3') 支付宝扫码(AlipayQR)
                option(value='4') 微信App支付(WechatApp)
                option(value='5') 支付宝App支付(AlipayApp)
                option(value='6') 快捷支付(FASTPAY)
                option(value='7') QQ扫码(QQPAYQR)
        div(ng-show='!vm.paymentMonitorQuery.mainTopupType || vm.paymentMonitorQuery.mainTopupType=="2"',style='max-width:125px')
            label {{'Merchant Group' | translate}}
            select.form-control(ng-model='vm.paymentMonitorQuery.merchantGroup',ng-options='mer.list as mer.name for mer in vm.merchantGroups')
                option(value='') {{'any' | translate}}
        div(ng-show='!vm.paymentMonitorQuery.mainTopupType || vm.paymentMonitorQuery.mainTopupType=="2"',style='max-width:125px')
            label {{'Merchant No' | translate}}
            select.form-control(ng-model='vm.paymentMonitorQuery.merchantNo',ng-options='index as name for (index, name) in vm.merchantNumbers')
                option(value='') {{'any' | translate}}
        //div(ng-show='!vm.paymentMonitorQuery.mainTopupType || vm.paymentMonitorQuery.mainTopupType=="1"',style='max-width:125px')
        //    label {{'depositMethod' | translate}}
        //    select.form-control(ng-model='vm.paymentMonitorQuery.depositMethod')
        //        option(value='') {{'any' | translate}}
        //        option(value='1') 网银转账(OnlineTransfer)
        //        option(value='2') 自动取款机(ATM)
        //        option(value='3') 柜台存款(Counter)
        div(style='max-width:125px')
            label {{'PLAYER_NAME' | translate}}
            input.form-control(type='text', ng-model='vm.paymentMonitorQuery.playerName')
        div
            label.control-label {{'Start date' | translate}}
            .startTime
        div
            label.control-label {{'End date' | translate}}
            .endTime
        div
            label &nbsp;
            button.btn.btn-warning(ng-click='vm.resetTopUpMonitorQuery()') {{'Reset' | translate}}
        div
            label &nbsp;
            button.btn.btn-success(ng-click='vm.getPaymentMonitorRecord(true)') {{'SEARCH' | translate}}
            span#paymentMonitorTableSpin.collapse
                i.fa.fa-spinner.fa-spin
    .clearfix
    .proposalMessage
        text {{'LAST_REFRESH_TIME' | translate}}  : {{vm.lastTopUpRefresh}}
        label.text-danger.newProposalAlert
        a(ng-click='vm.getPaymentMonitorRecord()')
            .fa.fa-refresh
        .pull-right
            label.inlineBlk.pull-right {{'Auto Refresh' | translate}}
                input#autoRefreshProposalFlag.margin-left-5(type='checkbox', checked)
            .inlineBlk.hidden
                text {{"Time left until next refresh" | translate}} :&nbsp;
                text.timeLeftRefreshOperation
                text s
    label {{"Total" | translate}} {{vm.paymentMonitorQuery.totalCount}} {{"records" | translate}}
    table#paymentMonitorTable.common-table.display(style="min-width:100% ;overflow: scroll")
    #paymentMonitorTablePage
#modalProposal.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false, aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                span
                    ul.nav.nav-tabs
                        li
                            label {{vm.selectedProposal.type.name | translate}}
                        li.active
                            a(data-toggle="tab", href="#ProposalDetail", ng-click="")
                                .fa.fa-user
                                | {{ 'DETAIL' | translate }}
                        //li(ng-if='vm.chartData')
                        //    a(data-toggle="tab", href="#Workflow", ng-click="")
                        //        .fa.fa-user
                        //        | {{ 'WORKFLOW' | translate }}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .tab-content
                            #ProposalDetail.tab-pane.fade.in.active
                                include ./proposal-dialog-detail
            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal') {{"OK" | translate}}
br
#proposalDataTableDiv.tab-pane.fade.in.active
    h1
        .label.label-success 提案列表
    br
    #search.well
        .inlineBlk(ng-show="checkViewPermission('Operation', 'Proposal', 'queryByProposalId')")
            div.all-proposal-type(ng-repeat="item in vm.allProposalType", style="display: inline-block;")
                .checkbox
                    label
                        input(type="checkbox", name="{{item.name}}", value="{{item.name}}")
                        {{item.name | translate}}
            br
        //-     label {{"Proposal No" | translate}}
        //-     input.form-control(ng-model='vm.queryProposalId', ng-change='vm.queryProposalIdUpdate()')
        //- .inlineBlk.selectProposalTypeDiv(ng-show="checkViewPermission('Operation', 'Proposal', 'queryByProposalType')")
        //-     label {{'FILTER_PROPOSAL_TYPE' | translate}}
        //-     //select.form-control#selectProposalType(multiple="multiple", style='min-width:100px')
        //-     //    option(ng-repeat='(i,v) in vm.allProposalType', value='{{i}}') {{v.name | translate}}

        //-     select.form-control#selectProposalType(multiple="multiple", style='min-width:100px;height:34px;', ng-options='i.name as i.name | translate group by vm.getProposalTypeOptionValue(i) | translate for (k,i) in ( vm.allProposalType | unique: "name" ) track by i.name', ng-model='vm.actionLogQuery.action')

        .inlineBlk(ng-show="vm.rightPanelTitle == 'ALL_PROPOSAL' && checkViewPermission('Operation', 'Proposal', 'queryByProposalStatus')")
            label {{'FILTER_PROPOSAL_STATUS' | translate}}
            select.form-control#selectProposalStatus(multiple="multiple", style='min-width:100px;height:34px;')
                option(ng-repeat='(i,v) in vm.proposalStatusList', value='{{v}}') {{v | translate}}
        .inlineBlk(ng-show="vm.rightPanelTitle == 'ALL_PROPOSAL' && checkViewPermission('Operation', 'Proposal', 'queryByProposalStatus')")
            label {{'ENTRY_TYPE' | translate}}
            select.form-control(ng-model='vm.queryProposalEntryType', ng-options='i as v | translate for (i,v) in constProposalEntryType')
                option(value='') {{'any' | translate}}
        //.inlineBlk
            label {{'FILTER_PROPOSAL_CONTENT' | translate}}
            input.form-control#proposalSearch.form-control(type="text", placeholder='{{"FILTER_CONTENT" | translate}}', ng-model="vm.searchText")
        .inlineBlk(ng-show="checkViewPermission('Operation', 'Proposal', 'queryByProposalCredit')")
            label {{"Qty_Min" | translate }} {{"Credit Amount" | translate}}
            input.form-control(ng-model='vm.queryProposalMinCredit', type='number', min=0, style='width:90px')
        .inlineBlk(ng-show="checkViewPermission('Operation', 'Proposal', 'queryByProposalCredit')")
            label {{"Qty_Max" | translate }} {{"Credit Amount" | translate}}
            input.form-control(ng-model='vm.queryProposalMaxCredit', type='number', min=0, style='width:90px')
        .inlineBlk(ng-show="checkViewPermission('Operation', 'Proposal', 'queryByProposalPlayer')")
            label {{"RELATED_USER" | translate}}
            input.form-control(ng-model='vm.queryProposalRelatedUser', type='text')
        .inlineBlk(ng-show="checkViewPermission('Operation', 'Proposal', 'queryByProposalDate')")
            label {{'START_DATE' | translate}}
            #start-datetimepicker.input-append.form-control
                input(style='width:calc(100% - 15px)',data-format="yyyy/MM/dd HH:mm:ss PP", type='text')
                span.add-on
                    i.fa.fa-calendar(data-time-icon='fa fa-clock-o', data-date-icon='fa fa-calendar')
        .inlineBlk(ng-show="checkViewPermission('Operation', 'Proposal', 'queryByProposalDate')")
            label {{'END_DATE' | translate}}
            br
            #end-datetimepicker.input-append.form-control
                input(style='width:calc(100% - 15px)', data-format='yyyy/MM/dd HH:mm:ss PP', type='text')
                span.add-on
                    i.fa.fa-calendar(data-time-icon='fa fa-clock-o', data-date-icon='fa fa-calendar')
        .inlineBlk(ng-show="checkViewPermission('Operation', 'Proposal', 'queryByProposalPlayer')")
            label {{"Set Date Range" | translate}}
            select.form-control(ng-model='vm.dateRange',ng-options='i as v | translate for (i,v) in {"day":"Today","week":"This Week","month":"This Month"}',ng-change='vm.setDateRange(vm.dateRange)')
        .inlineBlk.pull-right(style='width:100px;padding-top:20px')
            button.common-button.btn.btn-primary(ng-if='vm.queryProposalId', ng-click='vm.getOneProposal()') {{'SEARCH' | translate}}
            button.common-button.btn.btn-primary(ng-if='!vm.queryProposalId', ng-click='vm.searchProposalByQuery(true)') {{'SEARCH' | translate}}
        .inlineBlk.pull-right(style='width:100px;padding-top:20px')
            button.common-button.btn.btn-warning(ng-click='vm.resetFilter()') {{'Reset' | translate}}
    .clearfix
    .proposalMessage
        text {{'LAST_REFRESH_TIME' | translate}}  : {{vm.timeAllProposal}}
        label.text-danger.newProposalAlert
        a(ng-click='vm.loadProposalQueryData(true)')
            .fa.fa-refresh
        .pull-right
            label.inlineBlk.pull-right {{'Auto Refresh' | translate}}
                input#autoRefreshProposalFlag2.margin-left-5(type='checkbox', checked)
            .inlineBlk.hidden
                text {{"Time left until next refresh" | translate}} :&nbsp;
                text.timeLeftRefreshOperation
                text s
    .row
        .col-md-12
            label {{"Total" | translate}} {{vm.queryProposal.totalCount}} {{"records" | translate}}
            table.common-table#proposalDataTable.display(style="width:100%;min-width:100%;max-height:450px;")
            #proposalDataTablePage