#modalPlayerInfo.modal.fade(role='dialog', data-backdrop=true, keyboard=true,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{'Player' | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body.col-xs-12
                h4 {{"Player Information" | translate}}
                div.newcontanier.col-xs-12
                    div
                        h5 {{'Basic' | translate}}
                        hr
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"PLAYER_NAME" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.name}}

                            .col-sm-3
                                .col-sm-5
                                    label {{"PLAYER_ID" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.playerId}}

                            .col-sm-3
                                .col-sm-5
                                    label {{"REMARK" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.remark || 'NONE' | translate}}

                            .col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-click="vm.openEditPlayerDialog('basicInfo');", ng-if="checkViewPermission('Player', 'Player', 'Edit')&&vm.selectedSinglePlayer.isRealPlayer", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1") {{"EDIT" | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"realName" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.realName || 'NONE' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"partner" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.partnerName || 'NONE' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"GENDER" | translate}}
                                .col-sm-7
                                    text {{vm.getGenderFromBool(vm.selectedSinglePlayer.gender) || 'NONE' | translate}}
                            .col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-click='vm.getPlayerInfoHistory()') {{"EDIT_HISTORY" | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"NICK_NAME" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.nickName || 'NONE' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"REFERRAL" | translate}}
                                .col-sm-7
                                    text {{vm.showReferralName || 'NONE' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"DOB" | translate}}
                                .col-sm-7
                                    text {{vm.convertDOBFormat(vm.selectedSinglePlayer.DOB) || 'NONE' | translate}}
                            .col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Player', 'Player', 'ResetPassword')", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1", data-toggle="modal", ng-click='vm.initResetPlayerPasswordModal()', data-target='#modalPlayerPasswordReset') {{"EDIT_WEBSITE_PASS" | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"Referral ID" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.referralId || 'NONE' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"Referral URL" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.referralUrl || 'NONE' | translate}}

                            .col-sm-3

                            .col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Player', 'Player', 'ModifyGamePassword')", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1", data-toggle="modal", ng-click='vm.prepareModifyPlayerGamePassword()' data-target='#modalModifyGamePassword') {{"EDIT_PROVIDER_PASS" | translate}}

                        //div.col-xs-12
                            .col-sm-offset-10.col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Player', 'Player', 'ModifyGamePassword')", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1", data-toggle="modal", ng-click='vm.prepareModifyPlayerGamePassword()' data-target='#modalModifyGamePassword') {{"EDIT_PROVIDER_PASS" | translate}}

                    div
                        h5 {{'CONTACT_INFO' | translate}}
                        hr
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-5
                                .col-sm-3
                                    label {{"TELEPHONE" | translate}}
                                .col-sm-8
                                    text.
                                        {{vm.getEncPhoneNumber(vm.selectedSinglePlayer) || 'Unknown' | translate}}&nbsp;
                                        ({{vm.selectedSinglePlayer.phoneCity || 'Unknown' | translate}},&nbsp;
                                        {{vm.selectedSinglePlayer.phoneProvince || 'Unknown' | translate}}/
                                        {{vm.selectedSinglePlayer.phoneType || 'Unknown' | translate}})
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"WECHAT" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.wechat || 'Unknown' | translate}}
                            .col-sm-offset-6.col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Player', 'Player', 'EditContact')&&vm.selectedSinglePlayer.isRealPlayer", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1", data-toggle="modal", ng-click="vm.openEditPlayerDialog('contactInfo')") {{"EDIT" | translate}}
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"QQ" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.qq || 'Unknown' | translate}}
                            .col-sm-offset-6.col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-click='vm.getPlayerContactHistory()') {{"EDIT_HISTORY" | translate}}
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"EMAIL" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.email || vm.qqAddress || 'Unknown' | translate}}

                    div
                        //h5(ng-if="!checkViewPermission('Player', 'Player', 'BindMultiplePaymentInformation') && vm.selectedSinglePlayer.isRealPlayer") {{'WITHDRAW_INFO' | translate}}
                        h5(ng-if="vm.selectedSinglePlayer.isRealPlayer") {{'WITHDRAW_INFO_1' | translate}}
                        hr
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_NAME" | translate}}
                                .col-sm-7
                                    text {{vm.allBankTypeList[vm.selectedSinglePlayer.bankName] || vm.selectedSinglePlayer.bankName || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_NAME" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.bankAccountName || 'Unknown' | translate}}
                            .col-sm-offset-3.col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Player', 'Player', 'PaymentInformation')&&vm.selectedSinglePlayer.isRealPlayer",ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1", data-toggle="modal", ng-click="vm.openEditPlayerDialog('withdrawInfo');") {{"EDIT" | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.encodedBankAccount || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_PROVINCE" | translate}}
                                .col-sm-7
                                    text {{vm.showProvinceStr ? vm.showProvinceStr : (vm.selectedSinglePlayer.bankAccountProvince || 'Unknown') | translate}}
                            .col-sm-offset-3.col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Player', 'Player', 'PaymentInformationHistory')",ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1", ng-click='vm.getPaymentInfoHistory()') {{"EDIT_HISTORY" | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_CITY" | translate}}
                                .col-sm-7
                                    text {{vm.showCityStr ? vm.showCityStr : (vm.selectedSinglePlayer.bankAccountCity || 'Unknown') | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_DISTRICT" | translate}}
                                .col-sm-7
                                    text {{vm.showDistrictStr ? vm.showDistrictStr : 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"Bank Address" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.bankAddress || 'Unknown' | translate}}
                            .col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-if="checkViewPermission('Player', 'Player', 'BindMultiplePaymentInformation') && vm.selectedSinglePlayer.isRealPlayer", ng-disabled="!vm.canEditPlayer() || vm.selectedPlayersCount!= 1", ng-click="vm.openEditPlayerDialog('withdrawInfo2');") {{"BIND_MULTIPLE_PAYMENT_INFORMATION" | translate}}

                    div(ng-if="vm.selectedSinglePlayer.isRealPlayer")
                        h5 {{'WITHDRAW_INFO_2' | translate}}
                        hr
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_NAME" | translate}}
                                .col-sm-7
                                    text {{vm.allBankTypeList[vm.selectedSinglePlayer.multipleBankDetailInfo.bankName2] || vm.selectedSinglePlayer.multipleBankDetailInfo.bankName2 || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_NAME" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.multipleBankDetailInfo.bankAccountName2 || 'Unknown' | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.multipleBankDetailInfo.encodedBankAccount2 || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_PROVINCE" | translate}}
                                .col-sm-7
                                    text {{vm.showProvinceStr2 ? vm.showProvinceStr2 : (vm.selectedSinglePlayer.multipleBankDetailInfo.bankAccountProvince2 || 'Unknown') | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_CITY" | translate}}
                                .col-sm-7
                                    text {{vm.showCityStr2 ? vm.showCityStr2 : (vm.selectedSinglePlayer.multipleBankDetailInfo.bankAccountCity2 || 'Unknown') | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_DISTRICT" | translate}}
                                .col-sm-7
                                    text {{vm.showDistrictStr2 ? vm.showDistrictStr2 : 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"Bank Address" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.multipleBankDetailInfo.bankAddress2 || 'Unknown' | translate}}

                    div(ng-if="vm.selectedSinglePlayer.isRealPlayer")
                        h5 {{'WITHDRAW_INFO_3' | translate}}
                        hr
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_NAME" | translate}}
                                .col-sm-7
                                    text {{vm.allBankTypeList[vm.selectedSinglePlayer.multipleBankDetailInfo.bankName3] || vm.selectedSinglePlayer.multipleBankDetailInfo.bankName3 || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_NAME" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.multipleBankDetailInfo.bankAccountName3 || 'Unknown' | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.multipleBankDetailInfo.encodedBankAccount3 || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_PROVINCE" | translate}}
                                .col-sm-7
                                    text {{vm.showProvinceStr3 ? vm.showProvinceStr3 : (vm.selectedSinglePlayer.multipleBankDetailInfo.bankAccountProvince3 || 'Unknown') | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_CITY" | translate}}
                                .col-sm-7
                                    text {{vm.showCityStr3 ? vm.showCityStr3 : (vm.selectedSinglePlayer.multipleBankDetailInfo.bankAccountCity3 || 'Unknown') | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"BANK_ACCOUNT_DISTRICT" | translate}}
                                .col-sm-7
                                    text {{vm.showDistrictStr3 ? vm.showDistrictStr3 : 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"Bank Address" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.multipleBankDetailInfo.bankAddress3 || 'Unknown' | translate}}

                    div
                        h5 {{"Topup Group" | translate}}
                        hr
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"BankCardGroup" | translate}}
                                .col-sm-7
                                    text {{vm.platformBankCardGroupListCheck[vm.selectedSinglePlayer.bankCardGroup] | translate}}

                            .col-sm-3
                                .col-sm-5
                                    label {{"ONLINE_TOP_UP_GROUP" | translate}}
                                .col-sm-7
                                    text {{vm.platformMerchantGroupListCheck[vm.selectedSinglePlayer.merchantGroup] | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"PERSONAL_ALIPAY_GROUP" | translate}}
                                .col-sm-7
                                    text {{vm.platformAlipayGroupListCheck[vm.selectedSinglePlayer.alipayGroup] | translate}}

                            .col-sm-3
                                .col-sm-5
                                    label {{"PERSONAL_WECHAT_GROUP" | translate}}
                                .col-sm-7
                                    text {{vm.platformWechatPayGroupListCheck[vm.selectedSinglePlayer.wechatPayGroup] | translate}}

                            .col-sm-offset-3.col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-click='vm.openEditPlayerDialog("topUpInfo");', ng-if="checkViewPermission('Player', 'Player', 'Edit')&&vm.selectedSinglePlayer.isRealPlayer", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1") {{"EDIT" | translate}}
                    div
                        h5 {{'REGISTRATION_INFO' | translate}}
                        hr
                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"REGISTRATION_IP" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.loginIps && vm.selectedSinglePlayer.loginIps[0] || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{'COUNTRY' | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.country || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{'PROVINCE' | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.province || 'Unknown' | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{"CITY" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.city || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"PROMOTE_WAY" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.promoteWay || 'Unknown' | translate}}
                            .col-sm-offset-3.col-sm-2
                                button.btn.btn-primary.vertical-button-group(ng-click='vm.showIPHistory()') {{"View Details" | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{'Registration Domain' | translate}}
                                .col-sm-7
                                    a(href='{{vm.selectedSinglePlayer.domain}}', title='{{vm.selectedSinglePlayer.domain}}', target='_blank') {{vm.selectedSinglePlayer.$displayDomain || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{'SOURCE_URL' | translate}}
                                .col-sm-7
                                    a(href='{{vm.selectedSinglePlayer.sourceUrl}}', title='{{vm.selectedSinglePlayer.sourceUrl}}', target='_blank') {{vm.selectedSinglePlayer.$displaySourceUrl || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"REGISTRATION_ADMIN" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.csOfficer.adminName || 'Unknown' | translate}}

                        div.col-xs-12
                            .col-sm-offset-1.col-sm-3
                                .col-sm-5
                                    label {{'bindedDeviceId' | translate}}
                                .col-sm-7
                                    text {{vm.encryptField(vm.selectedSinglePlayer.guestDeviceId) || 'Unknown' | translate}}
                            .col-sm-3
                                .col-sm-5
                                    label {{"registrationInterface" | translate}}
                                .col-sm-7
                                    text {{vm.selectedSinglePlayer.registrationInterface$ || 'Unknown' | translate}}

                button.pull-right.btn.btn-primary.margin-top-10(ng-click="vm.showSimilarPlayersTable=!vm.showSimilarPlayersTable; vm.showSimilarPlayerTab();") {{"SHOW_SIMILAR_PLAYERS" | translate}}


        #similarPlayersTable.panel(ng-if="vm.showSimilarPlayersTable")
            .panel-heading.panel-heading-sm
                h4.text-center {{"SIMILAR_PLAYERS" | translate}}
            .panel-body
                ul.nav.nav-tabs.common-nav-tabs
                    li(ng-class="vm.selectedSimilarPlayerTab === 'similar-phone' ? 'active' : null")
                        a.common-tab(data-toggle="tab", ng-click="vm.showSimilarPlayerTab('similar-phone')") {{"PLAYER_SIMILAR_PHONE" | translate}}
                    li(ng-class="vm.selectedSimilarPlayerTab === 'similar-ip' ? 'active' : null")
                        a.common-tab(data-toggle="tab", ng-click="vm.showSimilarPlayerTab('similar-ip')") {{"PLAYER_SIMILAR_IP" | translate}}

                .panel.panel-primary(style="border-radius:0 !important;")
                    .panel-body
                        div(ng-show="vm.selectedSimilarPlayerTab === 'similar-phone'")
                            #similarPhoneForPlayer.adminLogQueryDiv
                            label {{"Total" | translate}} {{vm.similarPhoneForPlayer.totalCount}} {{"records" | translate}}
                                .inlineBlk.margin-left-5(ng-if='vm.similarPhoneForPlayer.loading')
                                    i.fa.fa-spin.fa-spinner
                            table#similarPhoneForPlayerTable.common-table.wordWrap.tbodyNoWrap.display.paymentGroup-btn
                            #similarPhoneForPlayerTablePage

                        div(ng-show="vm.selectedSimilarPlayerTab === 'similar-ip'")
                            #similarIpForPlayer.adminLogQueryDiv
                            label {{"Total" | translate}} {{vm.similarIpForPlayer.totalCount}} {{"records" | translate}}
                                .inlineBlk.margin-left-5(ng-if='vm.similarIpForPlayer.loading')
                                    i.fa.fa-spin.fa-spinner
                            table#similarIpForPlayerTable.common-table.wordWrap.tbodyNoWrap.display.paymentGroup-btn
                            #similarIpForPlayerTablePage

                    //
                        .panel.panel-primary
                            .panel-heading.panel-heading-sm
                                h5.text-center {{"Similar Players" | translate}}
                            .panel-body
                                table#similarPlayersTable.simple-table.display(style='max-width:100%')
                                    thead(style='overflow-y:auto')
                                        tr
                                            th {{'PLAYER_Id' | translate}}
                                            th {{'NAME' | translate}}
                                            th {{'PROPERTY' | translate}}
                                            th {{'VALUE' | translate}}
                                    tbody
                                        tr(ng-repeat='(i,v) in vm.similarPlayersForPlayer')
                                            td {{v.playerObjId.playerId || "NONE" | translate}}
                                            td {{v.playerObjId.name || "NONE" | translate}}
                                            td {{v.field || "NONE" | translate}}
                                            td
                                                text(ng-if='v.field == "phoneNumber" && v.content.length>30') encrypted
                                                text(ng-if='!v.field == "phoneNumber" || v.content.length<=30') {{v.content || "NONE" | translate}}

#modalPlayerInfoHistory.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{'Player' | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body
                .row
                    .col-md-12
                        label {{"Total" | translate}} {{vm.playerInfoHistoryCount}} {{"records" | translate}}
                        table#playerInfoHistoryTbl.common-table.display(style='min-width:100%;width:inherit')

#modalPlayerPasswordReset.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog(style='width:60%;')
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{'RESET_PLAYER_PASSWORD' | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .well
                            .form-group
                                text.control-label {{"The password of player"|translate}}
                                //input.form-control(ng-model='vm.PlayerPassword.PlayerName')
                                text.text-success(ng-repeat="(i,v) in vm.selectedPlayers") &nbsp;{{v.name}}
                                span &nbsp;{{"will be reset. Are you sure?"|translate}}
                            .form-group
                                input(type='checkbox', ng-model='vm.resetPartnerNewPassword')
                                text {{"RESET_PARTNER_PASSWORD"|translate}}
                            .form-group
                                label.control-label {{'NEW_PASSWORD' | translate}} ({{'optional' | translate}})
                                input.form-control(ng-model='vm.customNewPassword', placeholder='{{"Leaving empty will generate a random password." | translate}}')
                                text {{"Note: " | translate}}{{"Leaving empty will generate a random password." | translate}}
                        .well(ng-if='vm.playerNewPassword')
                            .form-group
                                text The new password for&nbsp;
                                span.text-success {{vm.isOneSelectedPlayer().name}}
                                span &nbsp;is&nbsp;
                                strong.text-danger {{vm.playerNewPassword}}
            .modal-footer
                button.common-button.margin-right-5.btn.btn-success(ng-if='!vm.playerNewPassword', ng-click='vm.submitResetPlayerPassword()') {{'RESET_PASSWORD' | translate}}
                button.common-button.margin-right-5.btn.btn-success(ng-if='vm.playerNewPassword', data-dismiss='modal') {{'OK' | translate}}
                button.common-button.margin-right-5.btn.btn-warning(ng-if='!vm.playerNewPassword', data-dismiss='modal') {{"CANCEL" | translate}}

#modalModifyGamePassword.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"ModifyGamePassword" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        form(name='form_modifyGamePassword').well
                            .form-group
                                label.control-label {{'PROVIDER' | translate}}
                                select.form-control(ng-model='vm.playerModifyGamePassword.provider', required)
                                    option(ng-repeat='provider in vm.platformProviderList', value='{{provider.providerId}}') {{provider.name}}
                            .form-group
                                label.control-label {{'NEW_PASSWORD' | translate}}
                                input.form-control(ng-model='vm.playerModifyGamePassword.newPassword', required)
            .modal-footer
                button.common-button.margin-right-5.btn.btn-primary(data-dismiss='modal',ng-disabled='form_modifyGamePassword.$invalid', ng-click="vm.modifyGamePassword();") {{"UPDATE" | translate}}
                button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}
                label.inlineBlk.margin-right-5(ng-if='vm.playerBonus.resMsg') {{vm.playerModifyGamePassword.resMsg}}

#modalPlayerContactHistory.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog(style='width:90%;')
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{'Player' | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body
                .row
                    .col-md-12
                        label {{"Total" | translate}} {{vm.playerContactHistoryCount}} {{"records" | translate}}
                        table#playerContactHistoryTbl.common-table.display(style='min-width:100%;width:inherit')

#modalPlayerPaymentHistory.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog(style='width:90%;')
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{'Player' | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body
                .row
                    .col-md-12
                        h5 {{'WITHDRAW_INFO_1' | translate}}
                        label {{"Total" | translate}} {{vm.paymetHistoryCount}} {{"records" | translate}}
                        table#playerPaymentHistoryTbl.common-table.display(style='min-width:100%;width:inherit')
                .row
                    .col-md-12
                        h5 {{'WITHDRAW_INFO_2' | translate}}
                        label {{"Total" | translate}} {{vm.paymetHistoryCount2}} {{"records" | translate}}
                        table#playerPaymentHistoryTbl2.common-table.display(style='min-width:100%;width:inherit')
                .row
                    .col-md-12
                        h5 {{'WITHDRAW_INFO_3' | translate}}
                        label {{"Total" | translate}} {{vm.paymetHistoryCount3}} {{"records" | translate}}
                        table#playerPaymentHistoryTbl3.common-table.display(style='min-width:100%;width:inherit')

#playerIpHistory.collapse
    .panel.panel-info
        .panel-heading
            .panel-title {{'REGISTRATION' | translate}}
        .panel-body
            .inlineBlk
                text {{'registrationTime' | translate}} :&nbsp;
                label {{vm.dateReformat(vm.playerIpHistoryData.reg[0].loginTime)}}
            .inlineBlk
                text {{'IP_ADDRESS' | translate}}:&nbsp;
                label {{vm.playerIpHistoryData.reg[0].loginIP}}
            .inlineBlk
                text {{'country' | translate}}:&nbsp;
                label {{vm.playerIpHistoryData.reg[0].country || 'Unknown' | translate}}
            .inlineBlk
                text {{'city' | translate}}:&nbsp;
                label {{vm.playerIpHistoryData.reg[0].city || 'Unknown' | translate}}
    .panel.panel-info
        .panel-heading
            .panel-title {{'LAST_LOGIN_IP' | translate}}
        .panel-body
            .col-md-12(style='max-height:300px')
                table#playerIpHistoryTable.datatable-sm.common-table.display(style="width:100%")


#modalPlayerCredibilityRemarks.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{'UPDATE_PLAYER_CREDIBILITY_REMARK' | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        span {{vm.credibilityRemarkUpdateMessage | translate}}
                        div
                            div.col-md-4
                                .well
                                    label {{"REDUCE_SCORE" | translate}}
                                    table.paddingTbl.paymentGroup-btn
                                        thead
                                            tr
                                                th.alignLeft  {{"remark" | translate}}
                                                th.alignLeft  {{"score" | translate}}
                                                th.alignLeft  {{"SELECT" | translate}}
                                        tbody
                                            tr(ng-repeat='(i, data) in vm.negativeRemarks')
                                                td
                                                    text {{data.name}}
                                                td
                                                    text {{data.score}}
                                                td
                                                    input.selectRemark(type="checkbox", ng-model="data.selected", ng-change="vm.checkAnyPlayerRemarkRemoved()", ng-if="vm.platformPageName !='batchPermit'")
                                                    input.selectRemark(type="checkbox", ng-change='vm.forbidModification(data._id, isTrue, "forbidCredibilityAddList", "forbidCredibilityRemoveList")', ng-model="isTrue", ng-if="vm.platformPageName =='batchPermit'")
                                                    span(id="{{'c-'+data._id}}")
                            div.col-md-4
                                .well
                                    label {{"ADD_SCORE" | translate}}
                                    table.paddingTbl.paymentGroup-btn
                                        thead
                                            tr
                                                th.alignLeft  {{"remark" | translate}}
                                                th.alignLeft  {{"score" | translate}}
                                                th.alignLeft  {{"SELECT" | translate}}
                                        tbody
                                            tr(ng-repeat='(i, data) in vm.positiveRemarks')
                                                td
                                                    text {{data.name}}
                                                td
                                                    text {{data.score}}
                                                td
                                                    input.selectRemark(type="checkbox", ng-model="data.selected", ng-change="vm.checkAnyPlayerRemarkRemoved()", ng-if="vm.platformPageName !='batchPermit'")
                                                    input.selectRemark(type="checkbox", ng-change='vm.forbidModification(data._id, isTrue, "forbidCredibilityAddList", "forbidCredibilityRemoveList")', ng-model="isTrue", ng-if="vm.platformPageName =='batchPermit'")
                                                    span(id="{{'c-'+data._id}}")
                            div.col-md-4
                                .well
                                    label {{"REMINDER" | translate}}
                                    table.paddingTbl.paymentGroup-btn
                                        thead
                                            tr
                                                th.alignLeft  {{"remark" | translate}}
                                                th.alignLeft  {{"score" | translate}}
                                                th.alignLeft  {{"SELECT" | translate}}
                                        tbody
                                            tr(ng-repeat='(i, data) in vm.neutralRemarks')
                                                td
                                                    text {{data.name}}
                                                td
                                                    text {{data.score}}
                                                td
                                                    input.selectRemark(type="checkbox", ng-model="data.selected", ng-change="vm.checkAnyPlayerRemarkRemoved()", ng-if="vm.platformPageName !='batchPermit'", ng-show="!data.isFixed")
                                                    input.selectRemark(type="checkbox", ng-change='vm.forbidModification(data._id, isTrue, "forbidCredibilityAddList", "forbidCredibilityRemoveList")', ng-model="isTrue", ng-if="vm.platformPageName =='batchPermit'", ng-show="!data.isFixed")
                                                    span(id="{{'c-'+data._id}}")
                .panel.panel-primary
                    .panel-body
                        div.col-md-6
                            label {{'REMARKS' | translate}}:
                            div
                                textarea.form-control(rows="15", ng-model="vm.credibilityRemarkComment", placeholder="{{'Player Credibility' | translate}}{{'REMARKS' | translate}}")
                        div.col-md-6(ng-if="vm.platformPageName != 'batchPermit'")
                            label {{'CREDIBILITY_RECORD' | translate}}
                                table(align="center", border="1").paddingTbl.paymentGroup-btn
                                    thead
                                        tr
                                            th {{"OPERATOR_NAME" | translate}}
                                            th {{"TIME" | translate}}
                                            th {{"CREDIBILITY" | translate}}
                                            th {{"remark" | translate}}
                                    tbody
                                        tr(ng-repeat='(i, data) in vm.playerCredibilityComment')
                                            td
                                                text {{data.admin}}
                                            td
                                                text {{data.createTime}}
                                            td
                                                text {{data.remarks$}}
                                            td
                                                text {{data.comment}}

                //button.btn.btn-primary.common-button(ng-if="!vm.playerCredibilityRemarksUpdated && vm.platformPageName !='batchPermit' ", ng-click="vm.submitRemarkUpdate()", ng-disabled="vm.somePlayerRemarksRemoved && !vm.credibilityRemarkComment") {{"CONFIRM" | translate}}
                button.btn.btn-primary.common-button(ng-if="!vm.playerCredibilityRemarksUpdated && vm.platformPageName !='batchPermit' ", ng-click="vm.submitRemarkUpdate()") {{"CONFIRM" | translate}}
                button.btn.btn-primary.common-button(ng-if="!vm.playerCredibilityRemarksUpdated && vm.platformPageName =='batchPermit' ", ng-click="vm.localRemarkUpdate()") {{"CONFIRM" | translate}}
                button.btn.btn-success.common-button(ng-if="vm.playerCredibilityRemarksUpdated", data-dismiss='modal') {{'OK' | translate}}

#modalPlayerAccountingDetail.modal.fade(style="overflow: auto !important;", tabindex='-1', role='dialog', data-backdrop=false, keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', ng-click='vm.closeCreditTransferLog("#modalPlayerAccountingDetail")')
                h4.modal-title {{'PLAYER' | translate}} : {{vm.gameProviderCreditPlayerName}} ({{"TOTAL_CREDIT"|translate}} : {{vm.playerTotalCredit || 0 | noRoundTwoDecimalPlaces}})  ({{"ANY_LOBBY"|translate}} : {{vm.creditTransfer.showValidCredit || 0 | noRoundTwoDecimalPlaces}}) ({{"REWARDAMOUNT"|translate}} : {{vm.creditTransfer.showRewardAmount || 0 | noRoundTwoDecimalPlaces}})
            .modal-body
                //button.common-button.margin-right-5.btn.btn-success(ng-disabled='vm.transferAllCredit.isProcessing', ng-click='vm.transferAllCreditToPlayer()') {{'Transfer All from Providers' | translate}}
                //button.common-button.margin-right-5.btn.btn-success(ng-disabled='vm.fixPlayerRewardAmount.rewardInfo.length > 0 || vm.fixPlayerRewardAmount.isProcessing', ng-click='vm.sendFixPlayerRewardAmount()') {{'Fix Player RewardAmount' | translate}}
                ul.nav.nav-tabs.common-nav-tabs
                    li(ng-class="vm.selectedPlayerAccountingDetailTab == 'current-credit' ? 'active' : null")
                        a.common-tab(data-toggle="tab", ng-click="vm.showPlayerAccountingDetailTab('current-credit')") {{"PLAYER_CURRENT_CREDIT" | translate}}
                    li(ng-class="vm.selectedPlayerAccountingDetailTab == 'proposal-log' ? 'active' : null")
                        a.common-tab(data-toggle="tab", ng-click="vm.showPlayerAccountingDetailTab('proposal-log');vm.prepareShowProposal();") {{"PLAYER_PROPOSAL_LOG" | translate}}
                    li(ng-class="vm.selectedPlayerAccountingDetailTab == 'bet-log' ? 'active' : null", ng-show="checkViewPermission('Player', 'Player', 'PlayerExpenses');")
                        a.common-tab(data-toggle="tab", ng-click="vm.showPlayerAccountingDetailTab('bet-log');vm.prepareShowPlayerExpense(); vm.getProviderListByPlatform();") {{"PLAYER_BET_LOG" | translate}}
                    li(ng-class="vm.selectedPlayerAccountingDetailTab == 'credit-log' ? 'active' : null", ng-show="checkViewPermission('Player', 'Credit', 'CreditChangeLog')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showPlayerAccountingDetailTab('credit-log');vm.showPagedPlayerCreditChangeLog();") {{"PLAYER_CREDIT_LOG" | translate}}
                    li(ng-class="vm.selectedPlayerAccountingDetailTab == 'platform-transfer-log' ? 'active' : null", ng-show="checkViewPermission('Player', 'Player', 'PlatformCreditTransferLog')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showPlayerAccountingDetailTab('platform-transfer-log');vm.showPlatformCreditTransferLog();") {{"PLAYER_PLATFORM_TRANSFER_LOG" | translate}}
                    li(ng-class="vm.selectedPlayerAccountingDetailTab == 'midnight-balance-log' ? 'active' : null", ng-show="checkViewPermission('Player', 'Credit', 'playerDailyCreditLog')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showPlayerAccountingDetailTab('midnight-balance-log');vm.initPlayerCreditLog();") {{"PLAYER_MIDNIGHT_BALANCE_LOG" | translate}}
                    li(ng-class="vm.selectedPlayerAccountingDetailTab == 'rewardTask-log' ? 'active' : null", ng-show="checkViewPermission('Player', 'Reward', 'rewardTaskLog')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showPlayerAccountingDetailTab('rewardTask-log');vm.showPagedPlayerRewardTaskLog();") {{"PLAYER_REWARDTASK_LOG" | translate}}

                .panel.panel-primary(style="border-radius:0 !important;")
                    .panel-body
                        div(ng-show="vm.selectedPlayerAccountingDetailTab == 'current-credit'")
                            label#fixedRewardAmountResult.margin-left-5
                            label.pull-right.blink(ng-show='vm.creditTransfer.needClose') {{'Please close the dialog to refresh the data.' | translate}}
                            table.simple-table
                                thead
                                    tr
                                        th {{'PROVIDER' | translate}}
                                        th {{'PROVIDER_ID' | translate}}
                                        th {{'CREDIT' | translate}}
                                        th {{'TRANSFER' | translate}}
                                tbody
                                    tr(ng-repeat='(i,v) in vm.sortedPlatformProviderList')
                                        td {{v.name}}
                                        td {{v.providerId}}
                                        td
                                            i.fa.fa-spinner.fa-spin(ng-if='!vm.playerCredit[v.providerId]')
                                            text(ng-if='vm.playerCredit[v.providerId]') {{vm.playerCredit[v.providerId].gameCredit}}
                                        td(class='prov{{v.providerId}}', ng-if='!vm.transferAllCredit.isProcessing')
                                            i.fa.fa-spinner.fa-spin(ng-if='!vm.playerCredit[v.providerId]')
                                            div(ng-if='vm.playerCredit[v.providerId]')
                                                div(ng-show='!vm.creditTransfer.transferResult')
                                                    label.radio-inline(ng-show='vm.playerCredit[v.providerId].gameCredit>=1') {{'from Provider' | translate}}
                                                        input.pull-left.relative(type='radio', data-provider='{{v}}', name='credit_transfer_type', ng-click='vm.transferCreditFromProviderClicked(v.providerId)', value='in')
                                                    label.radio-inline(ng-show='vm.creditTransfer.showValidCredit + vm.creditTransfer.showRewardAmount>=1') {{'to Provider' | translate}}
                                                        input.pull-left.relative(type='radio', data-provider='{{v}}', name='credit_transfer_type', ng-click='vm.transferCreditToProviderClicked(v.providerId)', value='out')
                                                p
                                                div(ng-show='vm.creditTransfer.focusProvider==v.providerId')
                                                    div(ng-show='!vm.creditTransfer.transferResult')
                                                        button.common-button.margin-right-5.btn.btn-success(ng-click='vm.confirmCreditTransfer(v.providerId)') {{'CONFIRM' | translate}}
                                                        button.common-button.margin-right-5.btn.btn-warning(ng-click='vm.closeCreditTransferLog("#modalPlayerAccountingDetail")') {{'CANCEL' | translate}}
                                                        i.fa.fa-spin.fa-spinner.text-danger(ng-show='vm.creditTransfer.isProcessing')
                                                    div(ng-show='vm.creditTransfer.transferResult')
                                                        button.common-button.margin-right-5.btn.btn-success(ng-click='vm.closeCreditTransferLog("#modalPlayerAccountingDetail")') {{'OK' | translate}}
                                                        label {{vm.creditTransfer.transferResult | translate}}
                                        td(class='prov{{v.providerId}}', ng-if='vm.transferAllCredit.isProcessing')
                                            text.text-danger {{vm.transferAllCredit[v.providerId].text | translate}}
                                            i.fa.fa-spinner.fa-spin(ng-if='vm.transferAllCredit[v.providerId].finished== false')
                        div(ng-show="vm.selectedPlayerAccountingDetailTab == 'proposal-log'")
                            #playerProposalData.adminLogQueryDiv
                                .inlineBlk
                                    label {{'START_DATE' | translate}}
                                    .startTime
                                .inlineBlk
                                    label {{'END_DATE' | translate}}
                                    .endTime
                                .inlineBlk
                                    label(style='width:200px;') {{"Proposal Type"|translate}}
                                    select.form-control#selectProposalType(multiple="multiple", ng-options='i._id as i.name | translate group by vm.getProposalTypeOptionValue(i) | translate for (k,i) in ( vm.allProposalType | unique: "name" ) track by i.name', ng-model='abc')
                                .inlineBlk
                                    label(style='width:150px;') {{"CUSTOMIZED_PROMO_NAME"|translate}}
                                    select.form-control#selectRewardType(multiple="multiple", ng-options='i._id as i.name for (k,i) in ( vm.rewardList | unique: "name" ) track by i.name', ng-model='bbc')
                                .inlineBlk
                                    label(style='width:150px;') {{"PROMO_CODE_NAME"|translate}}
                                    select.form-control#selectPromoType(multiple="multiple", ng-options='i._id as i.name for (k,i) in ( vm.promoTypeList | unique: "name" ) track by i.name', ng-model='cbc')
                                .inlineBlk
                                    label {{"Proposal Status"|translate}}
                                    select.form-control(ng-model='vm.proposalFilterstatus', style='max-width:300px', required)
                                        option(value='all') {{'all' | translate}}
                                        option(ng-repeat='(i,v) in vm.proposalStatusList', value='{{v}}', ng-selected='vm.proposalFilterstatus==v._id') {{v | translate}}
                                .inlineBlk
                                    button.btn.btn-primary(ng-click='vm.getPlayerProposalByFilter(true)') {{'SEARCH' | translate}}
                                .inlineBlk(ng-if='vm.playerProposal.loading')
                                    i.fa.fa-spin.fa-spinner
                            label {{"Total" | translate}} {{vm.playerProposal.totalCount}} {{"records" | translate}}
                            table#playerProposalTable.common-table.wordWrap.tbodyNoWrap.display.paymentGroup-btn
                            #playerProposalTablePage
                        div(ng-show="vm.selectedPlayerAccountingDetailTab == 'bet-log'")
                            #playerExpense.adminLogQueryDiv
                                .inlineBlk
                                    label {{'START_DATE' | translate}}
                                    .startTime
                                .inlineBlk
                                    label {{'END_DATE' | translate}}
                                    .endTime
                                //.inlineBlk
                                //    label {{'Game' | translate}}
                                //    input.form-control(ng-model='vm.queryPara.playerExpense.gameName')
                                .inlineBlk
                                    label {{'GAME_PROVIDER' | translate}}
                                    select.form-control(ng-model='vm.queryPara.playerExpense.providerId', ng-options='a._id as a.name for (i,a) in vm.providerListByPlatform')
                                        option(value='') {{'any' | translate}}
                                .inlineBlk
                                    label {{'ROUND_NUMBER OR PLAY_NUMBER' | translate}}
                                    input.form-control(ng-model='vm.queryPara.playerExpense.roundNoOrPlayNo')
                                .inlineBlk
                                    label {{'GAME_TYPE (FUZZY SEARCH)' | translate}}
                                    input.form-control(ng-model='vm.queryPara.playerExpense.cpGameType')
                                //.inlineBlk
                                //    label {{'CONSUMPTION_RETURN_ABILITY' | translate}}
                                //    select.form-control.limit(ng-model='vm.queryPara.playerExpense.dirty', required)
                                //        option(value='') {{'any' | translate}}
                                //        option(value='N') {{'ABLE' | translate}}
                                //        option(value='Y') {{'UNABLE' | translate}}
                                .inlineBlk
                                    button.btn.btn-primary(ng-click='vm.getPlayerExpenseByFilter(true)') {{'SEARCH' | translate}}
                            .well
                                .row
                                    .col-md-12
                                        pre
                                            text {{"Total Amount"|translate}}:
                                            label {{vm.totalConsumptionAmount}}&nbsp
                                            text {{"Total Valid Amount"|translate}}:
                                            label {{vm.totalConsumptionValidAmount}}&nbsp
                                            text {{"Total Bonus Amount"|translate}}:
                                            label {{vm.totalConsumptionBonusAmount}}
                                        p
                                        label {{"Total" | translate}} {{vm.playerExpenseLog.totalCount}} {{"records" | translate}}
                                        i.fa.fa-spin.fa-spinner(ng-show='vm.playerExpenseLog.loading')
                                        table#playerExpenseTable.common-table.display.paymentGroup-btn
                                        #playerExpenseTablePage
                        div(ng-show="vm.selectedPlayerAccountingDetailTab == 'credit-log'")
                            #playerCreditChangeLog.adminLogQueryDiv
                                .inlineBlk
                                    label {{'START_DATE' | translate}}
                                    .startTime
                                .inlineBlk
                                    label {{'END_DATE' | translate}}
                                    .endTime
                                .inlineBlk
                                    label {{'Type' | translate}}
                                    select.form-control.limit(ng-model='vm.playerCreditChangeLog.type', required)
                                        option(value='none') {{'any' | translate}}
                                        option(ng-repeat='(i,v) in creditChangeTypeStrings', value='{{v}}') {{v | translate}}
                                .inlineBlk
                                    button.btn.btn-primary(ng-click='vm.getPagedPlayerCreditChangeLog(true)') {{'SEARCH' | translate}}
                                .inlineBlk(ng-if='vm.playerCreditChangeLog.loading')
                                    i.fa.fa-spin.fa-spinner
                            label {{"Total" | translate}} {{vm.playerCreditChangeLog.totalCount}} {{"records" | translate}}
                            table#playerCreditChangeLogTable.common-table.wordWrap.tbodyNoWrap.display.paymentGroup-btn
                            #playerCreditChangeLogTablePage
                        div(ng-show="vm.selectedPlayerAccountingDetailTab == 'platform-transfer-log'")
                            #platformCreditTransferLog.adminLogQueryDiv
                                .inlineBlk
                                    label {{ 'playerName' | translate }}
                                    input.form-control(ng-model='vm.queryPlatformCreditTransferPlayerName')
                                .inlineBlk
                                    label {{ 'START_DATE' | translate }}
                                    .startTime
                                .inlineBlk
                                    label {{ 'END_DATE' | translate }}
                                    .endTime
                                .inlineBlk
                                    label {{ 'Type' | translate }}
                                    select.form-control(ng-model='vm.queryPlatformCreditTransferType')
                                        option(value='') {{'any' | translate}}
                                        option(value='transferin') {{'TransferIn' | translate}}
                                        option(value='transferout') {{'TransferOut' | translate}}
                                .inlineBlk
                                    label {{ 'provider' | translate }}
                                    select.form-control(ng-model='vm.queryPlatformCreditTransferProvider', ng-options='a.providerId as a.name for a in vm.platformProviderList')
                                        option(value='') {{'any' | translate}}

                                .inlineBlk
                                    label {{ 'STATUS' | translate }}
                                    select.form-control(ng-model='vm.queryPlatformCreditTransferStatus', style='min-width:100px;height:34px;')
                                        option(value='') {{'all' | translate}}
                                        option(value='default') {{'SUCCESS' | translate}} + {{'FAIL' | translate}} + {{'OVERTIME' | translate}}
                                        option(ng-repeat='(i,v) in vm.allPlayerCreditTransferStatus', value='{{v}}') {{i | translate}}
                                .inlineBlk
                                    button.btn.btn-primary(ng-click='vm.getPagedPlatformCreditTransferLog(true)') {{'SEARCH' | translate}}
                                .inlineBlk(ng-if='vm.platformCreditTransferLog.loading')
                                    i.fa.fa-spin.fa-spinner
                            table#platformCreditTransferLogTable.common-table.wordWrap.tbodyNoWrap.display.paymentGroup-btn
                            #platformCreditTransferLogTablePage

                            .clearfix
                            button.common-button.margin-right-5.btn.btn-success(ng-click="vm.prepareRepairTransfer()") {{'RepairTransaction' | translate}}
                            div(ng-show='vm.showPlatformRepair')
                                table.col-md-10.col-md-offset-1.paddingTbl.text-center.datatable-sm(ng-show='vm.linkedPlayerTransferId')
                                    tbody
                                        tr
                                            td(style='width:25%') {{'playerName' | translate}} : {{vm.selectedThisPlayer.name}}
                                            td {{'LOCKED_CREDIT' | translate}}
                                            td {{vm.selectedThisPlayer.lockedCredit | number:2}} ({{'curData' | translate}})
                                            td --->
                                            td
                                                label.text-danger {{vm.creditChange.finalLockedAmount}} ({{'updateData' | translate}})
                                        tr
                                            td(style='width:25%') {{'transferID' | translate}} : {{vm.linkedPlayerTransferId}}
                                            td {{'VALID_CREDIT' | translate}}
                                            td {{vm.selectedThisPlayer.validCredit | number:2}} ({{'curData' | translate}})
                                            td --->
                                            td
                                                label.text-danger {{vm.creditChange.finalValidAmount}} ({{'updateData' | translate}})
                                .row
                                    .col-md-6
                                        label.control-label {{'REMARKS' | translate}}
                                    .col-md-12.textareaDetail
                                        textarea.form-control(type = "textarea",name = "Remarks", rows = '5', placeholder="{{'REMARKS' | translate}}", ng-model="vm.creditChange.remark")
                                button.common-button.margin-right-5.btn.btn-success(ng-disabled='!vm.linkedPlayerTransferId || (vm.linkedPlayerTransfer.status == 1)', ng-click="vm.submitRepairTransfer()") {{'SUBMIT' | translate}}

                        div(ng-show="vm.selectedPlayerAccountingDetailTab == 'midnight-balance-log'")
                            #playerCreditLogQuery.well
                                .inlineBlk
                                    label {{"Start date" | translate}}
                                    .startTime
                                .inlineBlk
                                    label {{"End date" | translate}}
                                    .endTime
                                button.btn.btn-primary.common-button(ng-click='vm.getPlayerCreditLogData(true)', style='vertical-align: bottom') {{"SEARCH" | translate}}
                            div
                                label {{"Total" | translate}} {{vm.playerCreditLog.totalCount}} {{"records" | translate}}
                                table#playerCreditLogTbl.common-table.display.paymentGroup-btn
                                #playerCreditLogTblPage.height30
                        div(ng-show="vm.selectedPlayerAccountingDetailTab == 'rewardTask-log'")
                            #playerRewardTaskLog.adminLogQueryDiv
                                .inlineBlk
                                    label {{'START_DATE' | translate}}
                                    .startTime
                                .inlineBlk
                                    label {{'END_DATE' | translate}}
                                    .endTime
                                //.inlineBlk
                                //    label {{'Type' | translate}}
                                //    select.form-control.limit(ng-model='vm.playerRewardTaskLog.type', required)
                                //        option(value='none') {{'any' | translate}}
                                //        option(ng-repeat='(i,v) in creditChangeTypeStrings', value='{{v}}') {{v | translate}}
                                .inlineBlk
                                    button.btn.btn-primary(ng-click='vm.getPagedPlayerRewardTaskLog(true)') {{'SEARCH' | translate}}
                                .inlineBlk(ng-if='vm.playerRewardTaskLog.loading')
                                    i.fa.fa-spin.fa-spinner
                            label {{"Total" | translate}} {{vm.playerRewardTaskLog.totalCount}} {{"records" | translate}}
                            table#playerRewardTaskLogTable.common-table.wordWrap.tbodyNoWrap.display.paymentGroup-btn
                            #playerRewardTaskLogTablePage
            .modal-footer
                div(ng-show="vm.selectedPlayerAccountingDetailTab == 'current-credit'")
                    button.common-button.margin-right-5.btn.btn-success(ng-disabled='vm.transferAllCredit.isProcessing', ng-click='vm.transferAllCreditToPlayer()') {{'Transfer All from Providers' | translate}}
                div(ng-show="vm.selectedPlayerAccountingDetailTab == 'proposal-log'")
                div(ng-show="vm.selectedPlayerAccountingDetailTab == 'bet-log'")
                div(ng-show="vm.selectedPlayerAccountingDetailTab == 'credit-log'")
                div(ng-show="vm.selectedPlayerAccountingDetailTab == 'platform-transfer-log'")
                div(ng-show="vm.selectedPlayerAccountingDetailTab == 'midnight-balance-log'")
                div(ng-show="vm.selectedPlayerAccountingDetailTab == 'rewardTask-log'")


#modalPlayerApiLog.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Player API Log" | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body
                #playerApiLogQuery.well.col-xs-12
                    .search-filters-item
                        label {{'PRODUCT_NAME'| translate}} ({{'Multiple' | translate}})
                        select.form-control(ng-model='vm.actionLogPlatformList', ng-options='v._id as v.name$ for v in vm.allPlatformData', multiple, bsp, data-actions-box='true')
                    .search-filters-item
                        label {{"Start date" | translate}}
                        .startTime
                    .search-filters-item
                        label {{"End date" | translate}}
                        .endTime
                    .search-filters-item
                        label {{"API Action" | translate}}
                        select.form-control.apiAction(ng-model='vm.playerApiLog.apiAction')
                            option(value="") {{'all' | translate}}
                            option(value="main site") {{'Login to main site' | translate}}
                            option(ng-repeat='(i,v) in vm.platformProviderList', value='{{v._id}}') {{"LOGIN" | translate}}{{v.name | translate}}
                    .search-filters-item
                        label {{"IP_ADDRESS" | translate}}
                        input.form-control(ng-model='vm.playerApiLog.ipAddress')
                    .search-filters-item(ng-if="vm.selectedSinglePlayer == null")
                        label {{"Player Name (Can be empty)" | translate}}
                        input.form-control(ng-model='vm.playerApiLog.playerName')
                    .col-xs-12.text-right
                        button.btn.btn-primary(ng-click='vm.getPlayerApiLogData(true)') {{"SEARCH" | translate}}
                div
                    label {{"Total" | translate}} {{vm.playerApiLog.totalCount}} {{"records" | translate}}
                    table#playerApiLogTbl.common-table.display.paymentGroup-btn
                    #playerApiLogTblPage.height30

#modalPlayerRewardPointsLog.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"Player Reward Points Log" | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body
                div
                    label {{"Total" | translate}} {{vm.playerRewardPointsLog.totalCount}} {{"records" | translate}}
                    table#playerRewardPointsLogTbl.common-table.display.paymentGroup-btn
                    #playerRewardPointsLogTblPage.height30



#modalAddPlayerFeedback.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"FEEDBACK_PLAYER" | translate}}
            .modal-body
                .panel.panel-primary
                    ul.nav.nav-tabs.common-nav-tabs.popupHeaderMenu
                        .pull-left.padding-all-5
                        li.active(id = 'addFeedbackTab', ng-show="checkViewPermission('Player', 'Feedback','AddFeedback')")
                            a.common-tab(data-toggle="tab", ng-disabled="!vm.canEditPlayer() || vm.selectedPlayersCount != 1", ng-click="vm.feedbackModalTab = 'addFeedbackPanel'")
                                .fa.fa-file-text.margin-right-5
                                text.span {{"ADD_FEEDBACK" | translate}}
                        li(id = 'feedbackHistoryTab',ng-show="checkViewPermission('Player', 'Feedback','FeedbackHistory')")
                            a.common-tab(data-toggle="tab", ng-disabled="!vm.canEditPlayer() || vm.selectedPlayersCount != 1", ng-click="vm.feedbackModalTab = 'feedbackHistoryPanel'; vm.prepareShowFeedbackRecord( vm.canEditPlayer() );")
                                .fa.fa-file-text.margin-right-5
                                text.span {{"Feedback History" | translate}}

                #addFeedbackPanel.panel-body(ng-if="vm.feedbackModalTab === 'addFeedbackPanel'")
                    form(name='form_feedback').well
                        .form-group
                            label.control-label {{'PLAYER_NAME' | translate}}
                            label.form-control {{vm.isOneSelectedPlayer().name}}
                        //.form-group
                            label.control-label {{'TEST_PLAYER_ID' | translate}}
                            input.form-control(ng-model='vm.playerFeedback.adminId')
                        .form-group
                            label.control-label {{'FEEDBACK_RESULTS' | translate}}
                            button.btn.btn-primary(style='margin-left:20px;', ng-click="vm.addPlayerFeedbackResultData={};vm.deletePlayerFeedbackResultData={};", ng-show="checkViewPermission('Player', 'Feedback','ModifyFeedbackResult')", data-toggle="modal", data-target="#modalAddPlayerFeedbackResult") {{"ADD" | translate}}
                            select.form-control.margin-top-5(ng-model='vm.playerFeedback.result', required)
                                option(ng-repeat='(i,v) in vm.allPlayerFeedbackResults', value='{{v.key}}') {{v.value}}
                        .form-group

                            label.control-label {{'FEEDBACK_TOPIC' | translate}}
                            button.btn.btn-primary(style='margin-left:20px;',ng-click="vm.addPlayerFeedbackTopicData={};vm.deletePlayerFeedbackTopicData={};", ng-show="checkViewPermission('Player', 'Feedback','ModifyFeedbackTopic')", data-toggle="modal", data-target="#modalAddPlayerFeedbackTopic") {{"ADD" | translate}}
                            select.form-control.margin-top-5(ng-model='vm.playerFeedback.topic', required)
                                option(ng-repeat='(i,v) in vm.playerFeedbackTopic', value='{{v.key}}') {{v.value}}
                        .form-group
                            label.control-label {{'FEEDBACK_CONTENT' | translate}}
                            .textareaDetail
                                textarea.form-control(rows='4', ng-model='vm.playerFeedback.content')

                #feedbackHistoryPanel.panel-body(ng-show="vm.feedbackModalTab === 'feedbackHistoryPanel'")
                    .well.searchDiv
                        .inlineBlk
                            label {{"Start date"|translate}}
                            .startTime
                        .inlineBlk
                            label {{"End date"|translate}}
                            .endTime
                        .inlineBlk
                            button.common-button.btn.btn-primary(ng-click='vm.getFeedbackRecord()') {{'FILTER' | translate}}
                            i.fa.fa-spinner.fa-spin(ng-if='vm.playerFeedbackRecord.searching')
                    #playerFeedbackRecord
                        label {{"Total" | translate}} {{vm.playerFeedbackRecord.totalCount}} {{"records" | translate}}
                            .inlineBlk.margin-left-5(ng-if='vm.playerFeedbackRecord.searching')
                                i.fa.fa-spin.fa-spinner
                    table#playerFeedbackRecordTable.common-table.wordWrap.tbodyNoWrap.display.paymentGroup-btn
                    #playerFeedbackRecordTablePage

            .modal-footer(ng-if="vm.feedbackModalTab === 'addFeedbackPanel'")
                button.common-button.margin-right-5.btn.btn-primary(data-dismiss='modal',ng-disabled='form_feedback.$invalid || !vm.isFeedbackValid()', ng-click="vm.updatePlayerFeedback();") {{"ADD" | translate}}
                button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}

#modalPlayerTopUp.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"TOP_UP" | translate}}
            .modal-body
                ul.nav.nav-tabs.common-nav-tabs
                    li(ng-class="vm.selectedTopupTab == 'manual' ? 'active' : null", ng-if="checkViewPermission('Player', 'TopUp', 'ApplyManualTopup')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showTopupTab('manual');vm.initPlayerManualTopUp();") {{"MANUAL_TOPUP" | translate}} {{"BACKUP_LIST" | translate}}
                    li(ng-class="vm.selectedTopupTab == 'alipay' ? 'active' : null", ng-if="checkViewPermission('Player', 'TopUp', 'ApplyAlipayTopup')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showTopupTab('alipay');vm.initPlayerAlipayTopUp();") {{"ALIPAY" | translate}}
                    li(ng-class="vm.selectedTopupTab == 'wechatpay' ? 'active' : null", ng-if="checkViewPermission('Player', 'TopUp', 'ApplyWechatPayTopup')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showTopupTab('wechatpay');vm.initPlayerWechatPayTopUp();") {{"WECHATPAY" | translate}}

                .row(ng-show="vm.selectedTopupTab == 'manual'")
                    .col-md-12(ng-show='vm.existingManualTopup===null || vm.existingManualTopup')
                        .well.margin-bottom-5(ng-if='vm.existingManualTopup===null')
                            label.blink {{"Searching existing manual topup request..." | translate}}
                        .well.margin-bottom-5(ng-if='vm.existingManualTopup')
                            .lineThrough(ng-if='vm.existingManualTopup.isCanceled')
                                button.btn.btn-primary.pull-right(disabled) {{'Cancel' | translate}}
                                label.margin-right-5 {{'validTime' | translate}} : {{vm.dateReformat(vm.existingManualTopup.data.validTime)}}
                                label.margin-right-5 {{'CREDIT' | translate}} : {{vm.existingManualTopup.data.amount}}
                            div(ng-if='!vm.existingManualTopup.isCanceled')
                                i.fa.fa-exclamation-triangle.text-danger.margin-right-5
                                label.margin-right-5 {{"Player has pending manual topup request already." | translate}}
                                label.margin-right-5 {{'validTime' | translate}} : {{vm.dateReformat(vm.existingManualTopup.data.validTime)}}
                                label.margin-right-5 {{'CREDIT' | translate}} : {{vm.existingManualTopup.data.amount}}
                                button.btn.btn-primary.pull-right(ng-click='vm.cancelPlayerManualTop()') {{'CANCEL' | translate}}
                    .col-md-12(ng-show='vm.existingManualTopup===false || vm.existingManualTopup.isCanceled')
                        form(name='form_manual_topup', style="border-radius:0 4px 4px 4px;box-shadow:none;").well
                            .form-group-col-md-6
                                label {{'CREDIT' | translate}}
                                //text.small.margin-left-5 ({{'minTopUpAmount' | translate}} {{vm.selectedPlatform.data.minTopUpAmount}} {{'minFirstTimeTopUpAmount1' | translate}})
                                input.form-control(type='number', min=0, ng-model='vm.playerManualTopUp.amount', required)
                            .form-group-col-md-6
                                label.control-label {{'Bankcard' | translate}}
                                select.form-control.spicker(ng-options='a.displayText for a in vm.bankCards', ng-model='vm.chosenBankAcc', ng-change='vm.pickBankCardAcc(vm.chosenBankAcc)', bsp, data-live-search="true")
                                    option(value='')
                            .form-group-col-md-6
                                label.control-label {{'DEPOSIT_METHOD' | translate}}
                                select.form-control(ng-model='vm.playerManualTopUp.depositMethod', ng-change='vm.selectedDepositMethod(vm.playerManualTopUp.depositMethod)')
                                    option(ng-repeat="(i,v) in vm.depositMethodList", value='{{v}}') {{i | translate}}
                            .form-group-col-md-6
                                label.control-label(ng-hide='!vm.playerManualTopUp.depositMethod || vm.playerManualTopUp.depositMethod === "2"') {{'ACCNAME' | translate}}
                                input.form-control(ng-model='vm.playerManualTopUp.realName',ng-hide='!vm.playerManualTopUp.depositMethod || vm.playerManualTopUp.depositMethod === "2"')
                            .form-group-col-md-6
                                label.control-label {{'PROVINCE_ID' | translate}}
                                select.form-control(ng-model='vm.playerManualTopUp.provinceId', ng-change='vm.getZoneList(vm.playerManualTopUp.provinceId)', ng-disabled='vm.freezeZoneSelection', ng-required='!vm.playerManualTopUp.depositMethod ||vm.playerManualTopUp.depositMethod === "1" || vm.playerManualTopUp.depositMethod === "2"')
                                    option(ng-repeat='(i,v) in vm.provinceList', value='{{v.id}}') {{v.name}}
                            .form-group-col-md-6
                                label.control-label {{'CITY_ID' | translate}}
                                select.form-control(ng-model='vm.playerManualTopUp.cityId', ng-change='vm.getZoneList(vm.playerManualTopUp.provinceId,vm.playerManualTopUp.cityId)', ng-disabled='vm.freezeZoneSelection', ng-required='!vm.playerManualTopUp.depositMethod ||vm.playerManualTopUp.depositMethod === "1" || vm.playerManualTopUp.depositMethod === "2"')
                                    option(ng-repeat='(i,v) in vm.cityList', value='{{v.id}}') {{v.name}}
                            .form-group-col-md-6
                                label.control-label {{'DISTRICT_ID' | translate}}
                                select.form-control(ng-model='vm.playerManualTopUp.districtId', ng-disabled='vm.freezeZoneSelection')
                                    option(ng-repeat='(i,v) in vm.districtList', value='{{v.id}}') {{v.name}}
                            .form-group-col-md-6
                                label {{'promoCode' | translate}}
                                input.form-control(type='text', ng-model='vm.playerManualTopUp.bonusCode')
                            .form-group-col-md-6
                                label {{'topUpReturnCode' | translate}}
                                input.form-control(type='text', ng-model='vm.playerManualTopUp.topUpReturnCode')
                            .form-group-col-md-6
                                label(ng-hide='vm.playerManualTopUp.depositMethod === "3"') {{'remark' | translate}}
                                label(ng-show='vm.playerManualTopUp.depositMethod === "3"') {{'counterRemark' | translate}}
                                input.form-control(type='text', ng-model='vm.playerManualTopUp.remark')
                            .form-group-col-md-6
                                label {{'orderNoInfo' | translate}}
                                input.form-control(type='text', ng-model='vm.playerManualTopUp.orderNo')
                            .form-group-col-md-6
                                label {{'DEPOSIT_TIME' | translate}}
                                .createTime

                .row(ng-show="vm.selectedTopupTab == 'alipay'")
                    .col-md-12(ng-show="vm.existingAlipayTopup===null||vm.existingAlipayTopup")
                        .well.margin-bottom-5(ng-if='vm.existingAlipayTopup===null')
                            label.blink {{"Searching existing Alipay topup request..." | translate}}
                        .well.margin-bottom-5(ng-if='vm.existingAlipayTopup')
                            .lineThrough(ng-if='vm.existingAlipayTopup.isCanceled')
                                button.btn.btn-primary.pull-right(disabled) {{'Cancel' | translate}}
                                label.margin-right-5 {{'validTime' | translate}} : {{vm.dateReformat(vm.existingAlipayTopup.data.validTime)}}
                                label.margin-right-5 {{'CREDIT' | translate}} : {{vm.existingAlipayTopup.data.amount}}
                            div(ng-if='!vm.existingAlipayTopup.isCanceled')
                                i.fa.fa-exclamation-triangle.text-danger.margin-right-5
                                label.margin-right-5 {{"Player has pending Alipay topup request already." | translate}}
                                label.margin-right-5 {{'validTime' | translate}} : {{vm.dateReformat(vm.existingAlipayTopup.data.validTime)}}
                                label.margin-right-5 {{'CREDIT' | translate}} : {{vm.existingAlipayTopup.data.amount}}
                                button.btn.btn-primary.pull-right(ng-click='vm.cancelPlayerAlipayTopUp()') {{'CANCEL' | translate}}
                    .col-md-12(ng-show='vm.existingAlipayTopup===false || vm.existingAlipayTopup.isCanceled')
                        form.col-md-12(name='form_alipay_topup', style="border-radius:0 4px 4px 4px;box-shadow:none;").well
                            .form-group.col-md-12
                                .control-label
                                label {{'CREDIT' | translate}}
                                //text.small.margin-left-5 ({{'minTopUpAmount' | translate}} 1)
                                input.form-control(type='number', min=0, ng-model='vm.playerAlipayTopUp.amount', required)
                            .form-group.col-md-6
                                .control-label
                                label {{'Alipay' | translate}}
                                select.form-control#alipayOption(ng-model='vm.alipaysAcc',ng-change='vm.pickAlipayAcc(vm.alipaysAcc)', ng-options='a as a.displayText for a in vm.allAlipaysAcc | orderBy : "accountNumber"',  data-live-search="true", bsp )
                                    option(value='') {{'any' | translate}}
                            .form-group.col-md-6
                                .control-label
                                label {{'alipayName' | translate}}
                                input.form-control(ng-model='vm.playerAlipayTopUp.alipayName', required)
                            .form-group.col-md-12
                                .control-label
                                label {{'alipayAccount' | translate}}
                                input.form-control(ng-model='vm.playerAlipayTopUp.alipayAccount', required)
                            .form-group.col-md-12
                                .control-label
                                label {{'realName' | translate}}
                                input.form-control(ng-model='vm.playerAlipayTopUp.realName')
                            .form-group.col-md-12
                                .control-label
                                label {{'promoCode' | translate}}
                                input.form-control(ng-model='vm.playerAlipayTopUp.bonusCode')
                            .form-group.col-md-12
                                .control-label
                                label {{'topUpReturnCode' | translate}}
                                input.form-control(ng-model='vm.playerAlipayTopUp.topUpReturnCode')
                            .form-group.col-md-12
                                .control-label
                                label {{'REMARK' | translate}}
                                input.form-control(ng-model='vm.playerAlipayTopUp.remark')
                            .form-group.col-md-12
                                label {{'orderNoInfo' | translate}}
                                input.form-control(type='text', ng-model='vm.playerAlipayTopUp.orderNo')
                            .form-group.col-md-12
                                .inlineBlk
                                label {{'DEPOSIT_TIME' | translate}}
                                .createTime


                .row(ng-show="vm.selectedTopupTab == 'wechatpay'")
                    .col-md-12(ng-show='vm.existingWechatPayTopup===null || vm.existingWechatPayTopup')
                        .well.margin-bottom-5(ng-if='vm.existingWechatPayTopup===null')
                            label.blink {{"Searching existing WechatPay topup request..." | translate}}
                        .well.margin-bottom-5(ng-if='vm.existingWechatPayTopup')
                            .lineThrough(ng-if='vm.existingWechatPayTopup.isCanceled')
                                button.btn.btn-primary.pull-right(disabled) {{'Cancel' | translate}}
                                label.margin-right-5 {{'validTime' | translate}} : {{vm.dateReformat(vm.existingWechatPayTopup.data.validTime)}}
                                label.margin-right-5 {{'CREDIT' | translate}} : {{vm.existingWechatPayTopup.data.amount}}
                            div(ng-if='!vm.existingWechatPayTopup.isCanceled')
                                i.fa.fa-exclamation-triangle.text-danger.margin-right-5
                                label.margin-right-5 {{"Player has pending Alipay topup request already." | translate}}
                                label.margin-right-5 {{'validTime' | translate}} : {{vm.dateReformat(vm.existingWechatPayTopup.data.validTime)}}
                                label.margin-right-5 {{'CREDIT' | translate}} : {{vm.existingWechatPayTopup.data.amount}}
                                button.btn.btn-primary.pull-right(ng-click='vm.cancelPlayerWechatPayTopUp()') {{'CANCEL' | translate}}
                    .col-md-12(ng-show='vm.existingWechatPayTopup===false || vm.existingWechatPayTopup.isCanceled')
                        form.col-md-12(name='form_wechatPay_topup', style="border-radius:0 4px 4px 4px;box-shadow:none;").well
                            .form-group.col-md-12
                                .control-label
                                label {{'CREDIT' | translate}}
                                //text.small.margin-left-5 ({{'minTopUpAmount' | translate}} {{vm.selectedPlatform.data.minTopUpAmount}})
                                input.form-control(type='number', min=0, ng-model='vm.playerWechatPayTopUp.amount', required)
                            .form-group.col-md-6
                                .control-label
                                label {{'WechatPay' | translate}}
                                select.form-control#wechatpayOption(ng-model='vm.wechatpaysAcc',ng-change='vm.pickWechatPayAcc(vm.wechatpaysAcc)',  ng-options='a as a.displayText for a in vm.allWechatpaysAcc | orderBy : "nickName"',  data-live-search="true", bsp)
                                    option(value='') {{'any' | translate}}
                            .form-group.col-md-6
                                .control-label
                                label {{'wechatPayName' | translate}}
                                input.form-control(ng-model='vm.playerWechatPayTopUp.wechatPayName', required)
                            .form-group.col-md-6
                                .control-label
                                label {{'QRMode' | translate}}
                                select.form-control(ng-model='vm.playerWechatPayTopUp.notUseQR')
                                    option(value="true") {{'CS_QR' | translate}}
                                    option(value="") {{'Settlement_QR' | translate}}
                            .form-group.col-md-6
                                .control-label
                                label {{'wechatPayAccount' | translate}}
                                input.form-control(ng-model='vm.playerWechatPayTopUp.wechatPayAccount', required)
                            .form-group.col-md-12
                                .control-label
                                label {{'promoCode' | translate}}
                                input.form-control(ng-model='vm.playerWechatPayTopUp.bonusCode')
                            form-group.col-md-12
                                .control-label
                                label {{'topUpReturnCode' | translate}}
                                input.form-control(ng-model='vm.playerWechatPayTopUp.topUpReturnCode')
                            .form-group.col-md-12
                                .control-label
                                label {{'REMARK' | translate}}
                                input.form-control(ng-model='vm.playerWechatPayTopUp.remark' ng-required="!vm.playerWechatPayTopUp.notUseQR")
                            .form-group.col-md-12
                                label {{'orderNoInfo' | translate}}
                                input.form-control(type='text', ng-model='vm.playerWechatPayTopUp.orderNo')
                            .form-group.col-md-12
                                .inlineBlk
                                label {{'DEPOSIT_TIME' | translate}}
                                .createTime

            .modal-footer
                //manual
                div(ng-show="vm.selectedTopupTab == 'manual'")
                    button.common-button.margin-right-5.btn.btn-success(disabled, ng-show='vm.playerManualTopUp.submitted') {{'Submitted' | translate}}
                    button.common-button.margin-right-5.btn.btn-success(ng-disabled='form_manual_topup.$invalid || form_manual_topup.$pristine || (vm.existingManualTopup && !vm.existingManualTopup.isCanceled)',ng-show='!vm.playerManualTopUp.submitted', ng-click='vm.applyPlayerManualTopUp()') {{'APPLY' | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}
                    table.simple-table.display(style="width: calc(100% - 210px);min-width:inherit", ng-show="vm.playerManualTopUp.submitted && vm.playerManualTopUp.responseData")
                        thead
                            tr
                                th {{"proposalId" | translate}}
                                th {{"bankCardNo" | translate}}
                                th {{"cardOwner" | translate}}
                                th {{"validTime" | translate}}
                        tbody
                            tr
                                td {{vm.playerManualTopUp.responseData.proposalId}}
                                td {{vm.playerManualTopUp.responseData.result.bankCardNo}}
                                td {{vm.playerManualTopUp.responseData.result.cardOwner}}
                                td {{vm.playerManualTopUp.responseData.result.validTime}}
                    label.inlineBlk.wordWrap(ng-if='vm.playerManualTopUp.submitted && vm.playerManualTopUp.responseMsg', style="width: calc(100% - 210px)") {{vm.playerManualTopUp.responseMsg}}
                //alipay
                div(ng-show="vm.selectedTopupTab == 'alipay'")
                    button.common-button.margin-right-5.btn.btn-success(disabled, ng-show='vm.playerAlipayTopUp.submitted') {{'Submitted' | translate}}
                    button.common-button.margin-right-5.btn.btn-success(ng-disabled='form_alipay_topup.$invalid || form_alipay_topup.$pristine || (vm.existingAlipayTopup && !vm.existingAlipayTopup.isCanceled)', ng-show='!vm.playerAlipayTopUp.submitted', ng-click='vm.applyPlayerAlipayTopUp()') {{'APPLY' | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}
                    label.inlineBlk.wordWrap(ng-if='vm.playerAlipayTopUp.submitted && vm.playerAlipayTopUp.responseMsg', style="width: calc(100% - 210px)") {{vm.playerAlipayTopUp.responseMsg}}
                //wechatpay
                div(ng-show="vm.selectedTopupTab == 'wechatpay'")
                    button.common-button.margin-right-5.btn.btn-success(disabled, ng-show='vm.playerWechatPayTopUp.submitted') {{'Submitted' | translate}}
                    button.common-button.margin-right-5.btn.btn-success(ng-disabled='form_wechatPay_topup.$invalid || form_wechatPay_topup.$pristine || (vm.existingWechatPayTopup && !vm.existingWechatPayTopup.isCanceled)', ng-show='!vm.playerWechatPayTopUp.submitted', ng-click='vm.applyPlayerWechatPayTopUp()') {{'APPLY' | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}
                    label.inlineBlk.wordWrap(ng-if='vm.playerWechatPayTopUp.submitted && vm.playerWechatPayTopUp.responseMsg', style="width: calc(100% - 210px)") {{vm.playerWechatPayTopUp.responseMsg}}

#modalPlayerBonus.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"APPLY_BONUS" | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body
                form(name='form_player_bonus').well
                    .form-group-col-md-6
                        label.control-label {{'CREDIT' | translate}}
                        input.leftALignNumber.form-control(type='number' min="0" ng-model='vm.playerBonus.amount' required)
                    .form-group-col-md-6
                        label.control-label {{'HONOREE_DETAIL' | translate}}
                        input.form-control(ng-model='vm.playerBonus.honoreeDetail')
                    .form-group-col-md-6
                        label.control-label {{'WITHDRAWAL_BANK' | translate}}
                        select.form-control(ng-model='vm.playerBonus.withdrawalBank', ng-options="v as v.encodedBankAccount + ' - ' + v.bankNameStr + ' - ' + v.bankAccountName for (i,v) in vm.playerBankList")
                    .form-group-col-md-6.margin-top-5
                        label.control-label.margin-right-5 {{'FORCE' | translate}}
                        input(type='checkbox', ng-model='vm.playerBonus.bForce')
            .modal-footer
                button.common-button.margin-right-5.btn.btn-success(ng-disabled='form_player_bonus.$invalid || form_player_bonus.$pristine', ng-show='vm.playerBonus.showSubmit', ng-click='vm.applyPlayerBonus()') {{'APPLY' | translate}}
                button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CLOSE" | translate}}
                label.inlineBlk.margin-right-5(ng-if='vm.playerBonus.resMsg') {{vm.playerBonus.resMsg}}
                i.fa.fa-spin.fa-spinner.margin-right-5(ng-if='!vm.playerBonus.showSubmit && !vm.playerBonus.resMsg')

#modalPlayerAddRewardTask.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content(style='max-height: 90vh')
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"REWARD_ACTION" | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body(style='height: 80vh;overflow-y:auto;')
                ul.nav.nav-tabs.common-nav-tabs
                    li(ng-class="vm.selectedRewardSettingsTab == 'manual-reward' ? 'active' : null", ng-if="checkViewPermission('Player', 'Reward', 'AddRewardTask')", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1")
                        a.common-tab(data-toggle="tab", ng-click="vm.showRewardSettingsTab('manual-reward');vm.initPlayerAddRewardTask();") {{"Add Reward Task" | translate}}
                    li(ng-class="vm.selectedRewardSettingsTab == 'system-reward' ? 'active' : null", ng-if="checkViewPermission('Player', 'Reward', 'applyReward')", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1")
                        a.common-tab(data-toggle="tab", ng-click="vm.showRewardSettingsTab('system-reward');vm.initPlayerApplyReward();") {{"APPLY_REWARD" | translate}}
                    //li(ng-class="vm.selectedRewardSettingsTab == 'unlock-reward' ? 'active' : null", ng-if="checkViewPermission('Platform', 'Player', 'ManualUnlockRewardTask')", ng-disabled="!vm.canEditPlayer()|| vm.selectedPlayersCount!= 1")
                        a.common-tab(data-toggle="tab", ng-click="vm.showRewardSettingsTab('unlock-reward');vm.initManualUnlockRewardTask();") {{"Manual Unlock Reward Task" | translate}}
                    li(ng-class="vm.selectedRewardSettingsTab == 'reward-progress' ? 'active' : null", ng-if="checkViewPermission('Player', 'Reward', 'rewardTaskLog')", ng-disabled="!vm.canEditPlayer() || vm.selectedPlayersCount!= 1")
                        a.common-tab(data-toggle="tab", ng-click="vm.showRewardSettingsTab('reward-progress');vm.initManualUnlockRewardTask();vm.initRewardTaskLog();") {{"RewardTask Progress Log" | translate}}
                .panel.panel-primary(style="border-radius:0 !important;")
                    .panel-body
                        //.well(ng-show="vm.platformAction=='delete'")
                            p
                                #WarningIcon.fa.fa-exclamation-triangle
                                label.margin-right-5 {{"DELETE_PLATFORM_MESSAGE" | translate}}
                                strong.text-danger {{vm.selectedPlatform.text}} ?

                        //#modalPlayerAddRewardTask
                        form(name='form_add_reward_task', ng-show="vm.selectedRewardSettingsTab == 'manual-reward'").well
                            .form-group(ng-if='vm.selectedPlatform.data.useProviderGroup')
                                label.control-label {{'Provider group' | translate}}
                                select.form-control(ng-model='vm.playerAddRewardTask.providerGroup')
                                    option(value='') {{'ANY_LOBBY' | translate}}
                                    option(ng-repeat='(i,v) in vm.gameProviderGroup', value='{{v._id}}') {{ v.name }}
                            .form-group(ng-if='!vm.selectedPlatform.data.useProviderGroup')
                                label.control-label {{'REWARD_NAME' | translate}}
                                input.form-control(ng-model='vm.playerAddRewardTask.type', required)
                            .form-group(ng-if='!vm.selectedPlatform.data.useProviderGroup')
                                label.control-label {{'Provider' | translate}}
                                div
                                    .inlinkBlk(ng-repeat='(i,v) in vm.platformProviderList')
                                        label {{v.name}}
                                            input.pull-left.margin-right-5(type='checkbox', ng-model='vm.playerAddRewardTask.provider[v._id]')
                            .form-group
                                label.control-label {{'UNLOCKAMOUNT' | translate}}
                                input.leftALignNumber.form-control(type='number', min=0, ng-model='vm.playerAddRewardTask.requiredUnlockAmount', required)
                            .form-group
                                label.control-label {{'rewardAmount' | translate}}
                                input.leftALignNumber.form-control(type='number', min=0, ng-model='vm.playerAddRewardTask.currentAmount', required)
                            .form-group
                                label.control-label {{'useConsumption' | translate}}
                                input.leftALignNumber.form-control(type='checkbox', ng-model='vm.playerAddRewardTask.useConsumption')
                            .form-group
                                label.control-label {{'remark' | translate}}
                                textarea.form-control(type = "textarea", name = "Remarks", rows = '5', placeholder="{{'REMARKS' | translate}}", ng-model="vm.playerAddRewardTask.remark")

                        //#modalPlayerApplyReward
                        form(name='form_player_reward', ng-show="vm.selectedRewardSettingsTab == 'system-reward'").well
                            label.form-control(ng-show='!vm.showApplyRewardEvent') {{'There are no applicable reward need to be applied.' | translate}}
                            .form-group(ng-show='vm.showApplyRewardEvent')
                                label.control-label {{"REWARD_EVENT" | translate}}
                                select.form-control(ng-model='vm.playerApplyRewardPara.rewardObj',ng-change='vm.playerApplyRewardCodeChange(vm.playerApplyRewardPara.rewardObj)', required)
                                    optgroup(ng-repeat='(key,value) in vm.rewardEventGroup', ng-if='value.hasCount', label='{{value._id? value.name: (value.name | translate)}}')
                                        option(ng-show='!value._id', value='{"name": "", "code": "MANUAL_PLAYER_LEVEL_UP_REWARD"}') {{""}}
                                        option(ng-show='!value._id', value='{"name": "", "code": "MANUAL_PLAYER_LEVEL_MAINTAIN_REWARD"}') {{""}}
                                        option(ng-repeat='(i,v) in vm.allRewardEvent | filter: vm.filterEndedRewardEvent', ng-show='v.rewardGroup == value.name', ng-if='v.needApply || v.condition.applyType == 1 || v.condition.applyType == 4', value='{{v}}') {{v.name}}({{v.code}})
                            .form-group(ng-if='vm.playerApplyRewardShow.TopupRecordSelect')
                                label.control-label {{'TOP_UP_LIST' | translate}}
                                .clearfix
                                label.control-label(ng-show='!vm.playerAllTopupRecords') {{'Loading' | translate}}
                                    i.fa.fa-spin.fa-spinner
                                select.form-control(ng-model='vm.playerApplyRewardPara.topUpRecordId', ng-if='vm.playerApplyRewardShow.selectTopupRecordsMulti===false', required)
                                    option(ng-repeat='(i,v) in vm.playerAllTopupRecords', ng-disabled="v.isDisabled ? true: false", value='{{v._id}}') {{vm.dateReformat(v.createTime)}} --- (${{v.amount}})
                                .form-control(ng-repeat='(i,v) in vm.playerAllTopupRecords', ng-if='vm.playerApplyRewardShow.selectTopupRecordsMulti')
                                    label {{vm.dateReformat(v.createTime)}} --- (${{v.amount}})
                                        input.margin-right-5.pull-left(type='checkbox', ng-model='vm.playerApplyRewardShow.topUpRecordIds[v._id]')
                            .form-group(ng-if='vm.playerApplyRewardShow.festivalSelect')
                                label.control-label {{'FESTIVAL_LIST' | translate}}
                                .clearfix
                                select.form-control(ng-model='vm.playerApplyRewardPara.festivalItemId', required)
                                    option(ng-repeat='(i,v) in vm.festivalByPlayerLevel', ng-disabled="v.isDisabled ? true: false", value='{{v.id}}') {{v.festivalName}}
                            .form-group(ng-if='vm.playerApplyRewardShow.AmountInput')
                                label.control-label {{'CREDIT' | translate}}
                                input.form-control(type='number', ng-model='vm.playerApplyRewardPara.amount', required)
                            .form-group(ng-if='vm.playerApplyRewardShow.showReferral')
                                label.control-label {{'referralName' | translate}}
                                input.form-control(style='width:calc(100% - 20px);display: inline-block', ng-model='vm.playerApplyRewardPara.referralName', ng-change='vm.checkPlayerExist("name",vm.playerApplyRewardPara.referralName)', required)
                                i#playerValidFalse.margin-left-5.fa.fa-times.text-danger.hidden(style='width:10px;')
                                i#playerValidTrue.margin-left-5.fa.fa-check.text-success.hidden(style='width:10px;')
                            .well(ng-if='vm.playerApplyRewardShow.showLoseReturn', style="background: white;")
                                //label {{'rewardAmount' | translate}} : {{vm.playerApplyRewardShow.showRewardAmount}}
                                div
                                    .label-value
                                        label {{'Define Lose Value' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.defineLoseValue$}}
                                    .label-value
                                        label {{'Reward interval' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.interval}}
                                    .label-value
                                        label {{'settlementStartTime' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.startTime}}
                                    .label-value
                                        label {{'settlementEndTime' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.endTime}}
                                    .label-value(ng-if="vm.playerApplyRewardShow.returnData.defineLoseValue == 2 || vm.playerApplyRewardShow.returnData.defineLoseValue == 3")
                                        label {{'intervalConsumptionSum' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.intervalConsumptionSum}}
                                    .label-value(ng-if="vm.playerApplyRewardShow.returnData.defineLoseValue == 2")
                                        label {{'intervalRewardSum' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.intervalRewardSum}}
                                    .label-value(ng-if="vm.playerApplyRewardShow.returnData.defineLoseValue == 1")
                                        label {{'intervalTopupSum' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.intervalTopupSum}}
                                    .label-value(ng-if="vm.playerApplyRewardShow.returnData.defineLoseValue == 1")
                                        label {{'intervalBonusSum' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.intervalBonusSum}}
                                    .label-value(ng-if="vm.playerApplyRewardShow.returnData.defineLoseValue == 1")
                                        label {{'playerCreditLogSum' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.playerCreditLogSum}}

                                    .label-value
                                        label {{'Reward (Amount OR %)' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.rewardPercent}}
                                    .label-value
                                        label {{'maxReward' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.maxReward}}
                                    .label-value
                                        label {{'Spending times needed' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.spendingAmount}}
                                    .label-value(style="color:red;")
                                        label {{'Reward Proposal Amount' | translate}}&nbsp;:&nbsp;
                                        label {{vm.playerApplyRewardShow.returnData.rewardAmount}}

                            .well(ng-if='vm.playerApplyRewardShow.consumptionSlipReward', style="background: white;")
                                .row
                                    .col-md-12
                                        label {{"Total" | translate}} {{vm.consumptionSlipReward.totalCount}} {{"records" | translate}}
                                        </br>
                                        label {{"The available application quantity of the interval time" | translate}} :  {{vm.playerApplyRewardShow.returnData.appliedTime}} / {{vm.playerApplyRewardShow.returnData.quota}}
                                        </br>
                                        label {{"The total top-up amount of the interval time" | translate}} :  {{vm.playerApplyRewardShow.returnData.topUpAmountInterval}}
                                        i.fa.fa-spin.fa-spinner(ng-show='vm.consumptionSlipReward.loading')
                                        table#playerConsumptionSlipRewardTable.common-table.display.paymentGroup-btn
                                        #playerConsumptionSlipRewardTablePage

                            .form-group(ng-if='vm.playerApplyRewardShow.showConsumptionReturn')
                                label {{'rewardAmount' | translate}} : {{vm.playerApplyRewardShow.showRewardAmount}}
                                table#playerConsumptionReturnsTbl.noWrap.text-center.display(style='min-width:100%;width:100%')
                                    thead
                                        tr
                                            th {{'GAMETYPE' | translate}}
                                            th {{'RATIO' | translate}}
                                            th {{'totalNonXIMAAmt' | translate}}
                                            th {{'CONSUMPTIONAMOUNT' | translate}}
                                            th {{'RETURNAMOUNT' | translate}}
                                    tbody
                                        tr(ng-repeat='(i,v) in vm.playerApplyRewardShow.consumptionReturnData')
                                            td {{i}}
                                            td {{v.ratio}}
                                            td {{v.nonXIMAAmt}}
                                            td {{v.consumptionAmount}}
                                            td {{v.returnAmount}}
                                        tr(style = "background-color:magenta; color: white")
                                            td {{'Totalsum' | translate}}
                                            td {{'-'}}
                                            td {{vm.totalConsumptionReturnData.totalNonXIMA}}
                                            td {{vm.totalConsumptionReturnData.totalConsumption}}
                                            td {{vm.totalConsumptionReturnData.totalReturnAmt}}
                            .well(ng-show='vm.playerApplyEventResult.success')
                                label.text-success {{'SUCCESS' | translate}}
                            .well(ng-show='vm.playerApplyEventResult && !vm.playerApplyEventResult.success')
                                label.text-danger {{'FAIL' | translate}}
                                label.form-control(ng-if='!vm.playerApplyRewardShow.showConsumptionReturn') {{(vm.playerApplyEventResult.error.message || vm.playerApplyEventResult.error.errorMessage) | translate}}
                                label.form-control(style='width:80%;display:inline-block;' ng-if='vm.playerApplyRewardShow.showConsumptionReturn') {{ vm.playerApplyEventResult.error.message | translate}}
                                button.btn.btn-primary.common-button(ng-if='vm.playerApplyRewardShow.showConsumptionReturn && (vm.playerApplyEventResult.error.message.indexOf("") !== -1 || vm.playerApplyEventResult.error.errorMessage.indexOf("") !== -1 )'
                                    ng-click='vm.applyPlayerReward(true)' style='vertical-align: bottom;margin-left: 10px;') {{"force submit" | translate}}
                                button.btn.btn-primary.common-button(ng-if='vm.playerApplyEventResult && vm.playerApplyEventResult.error && vm.playerApplyEventResult.error.status === 466' ng-click='vm.applyPlayerReward(true)' style='vertical-align: bottom;margin-left: 10px;') {{"force submit" | translate}}

                        //#modalManualUnlockRewardTask
                        table.simple-table(ng-if="vm.selectedRewardSettingsTab == 'unlock-reward'")
                            thead
                                tr
                                    th {{'UNLOCK' | translate}}
                                    th {{'TYPE' | translate}}
                                    th {{'CREATE_TIME' | translate}}
                                    th {{'STATUS' | translate}}
                                    th {{'initAMOUNT' | translate}}
                                    th {{'currentAMOUNT' | translate}}
                                    th {{'UNLOCKAMOUNT' | translate}}
                                    th {{'REWARD_EVENT' | translate}}
                                    th {{'provider' | translate}}
                            tbody(ng-repeat='rewardTask in vm.curRewardTask')
                                tr
                                    td
                                        input(type='checkbox', ng-model="rewardTask.checked", ng-change="vm.updateManualUnlockRewardTaskIndexList($index, rewardTask.checked)", ng-init="rewardTask.checked=true", ng-if="$index === 0")
                                        input(type='checkbox', ng-model="rewardTask.checked", ng-change="vm.updateManualUnlockRewardTaskIndexList($index, rewardTask.checked)")
                                    td {{rewardTask.type | translate}}
                                    td {{vm.dateReformat(rewardTask.createTime)}}
                                    td {{rewardTask.status | translate}}
                                    td {{rewardTask.initAmount || 0}}
                                    td {{rewardTask.currentAmount || 0}}
                                    td {{rewardTask.unlockedAmount || rewardTask.unlockedBonusAmount || 0}} / {{rewardTask.requiredUnlockAmount || rewardTask.requiredBonusAmount}}
                                    td {{rewardTask.eventId.name}} ({{rewardTask.eventId.code}})
                                    td
                                        text {{ rewardTask.targetEnable ? "Allow:" : "Disable:" | translate }}
                                        text(ng-repeat='(i,v) in rewardTask.targetProviders') &nbsp;{{v.name}}

                        //#modalRewardTaskLog
                        #rewardTaskLogQuery.well(ng-show="vm.selectedRewardSettingsTab == 'reward-progress'")
                            .inlineBlk
                                label {{"Start date" | translate}}
                                .startTime
                            .inlineBlk
                                label {{"End date" | translate}}
                                .endTime
                            .inlineBlk
                                label {{"UnlockStatus" | translate}}
                                select.form-control(ng-model='vm.unlockStatus', ng-init='vm.unlockStatus="all"')
                                    option(value='all') {{'any' | translate}}
                                    option(value='Started') {{'LOCK' | translate}}
                                    option(value='Done') {{'DONE' | translate}}
                            .inlineBlk
                                label {{"RewardProposalId" | translate}}
                                input.input-sm.form-control(ng-model="vm.rewardProposalId")
                            .inlineBlk
                                label {{"Deposit ProposalId" | translate}}
                                input.input-sm.form-control(ng-model="vm.topUpProposalId")
                            .inlineBlk(ng-show='vm.selectedPlatform.data.useProviderGroup')
                                label {{"providerGroup" | translate}}
                                select.form-control(ng-model='vm.selectedProviderGroupID', ng-init='vm.selectedProviderGroupID="all"')
                                    option(value='all') {{'any' | translate}}
                                    option(value='free') {{'Valid Progress' | translate}}
                                    option(ng-repeat='(i,v) in vm.gameProviderGroup', value='{{v._id}}') {{v.name}}

                            button.btn.btn-primary.common-button(ng-click='vm.unlockSearch()', style='vertical-align: bottom') {{"SEARCH" | translate}}

                            div
                                table.table.table-bordered(style='background-color:white;overflow-y:scroll')
                                    tr
                                        td
                                            div(style='display:inline-block;') {{"ANY_LOBBY" | translate }} :
                                            div(style='display:inline-block;padding-left:3px;') {{vm.currentFreeAmount}}
                                            // {{vm.freeAmount}}
                                        td(ng-repeat='(i,v) in vm.playerCreditDetails', ng-if="v.nickName!=''")
                                            div(style='display:inline-block;') {{v.nickName}} :
                                            div(style='display:inline-block;padding-left:3px;') {{v.validCredit || '0'}}

                            div(ng-show="vm.selectedPlatform.data.useProviderGroup")
                                table#rewardTaskGroupLogTbl.common-table.display.paymentGroup-btn
                                #rewardTaskGroupLogTblPage.height30

                            div
                                table#rewardTaskLogTbl.common-table.display.paymentGroup-btn
                                #rewardTaskLogTblPage.height30

            .modal-footer
                //#modalPlayerAddRewardTask
                div(ng-show="vm.selectedRewardSettingsTab == 'manual-reward'")
                    button.common-button.margin-right-5.btn.btn-success(ng-disabled='form_add_reward_task.$invalid || form_add_reward_task.$pristine', ng-show='vm.playerAddRewardTask.showSubmit', ng-click="vm.submitAddPlayerRewardTask()") {{'ADD' | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CLOSE" | translate}}
                    label.inlineBlktext-danger.margin-right-5(ng-if='vm.playerAddRewardTask.resMsg') {{vm.playerAddRewardTask.resMsg}}
                    i.fa.fa-spin.fa-spinner.margin-right-5(ng-if='!vm.playerAddRewardTask.showSubmit && !vm.playerAddRewardTask.resMsg')
                //#modalPlayerApplyReward
                div(ng-show="vm.selectedRewardSettingsTab == 'system-reward'")
                    label.text-success(ng-show="vm.applyXM") {{'Apply Player Consumption Return InProgress' | translate}}
                    button.common-button.margin-right-5.btn.btn-success(ng-if="checkViewPermission('Player','Reward','applyReward') && !vm.playerApplyEventResult && vm.playerApplyRewardShow.manualSignConsecutiveLogin", ng-click='vm.applyPreviousConsecutiveLoginReward()') {{"PREVIOUS_CONSECUTIVE_LOGIN" | translate}}
                    button.common-button.margin-right-5.btn.btn-success(ng-if="checkViewPermission('Player','Reward','applyReward') && !vm.playerApplyEventResult",ng-disabled='form_player_reward.$invalid || form_player_reward.$pristine || !vm.playerApplyRewardPara.code || (vm.playerApplyRewardShow.showReferral && !vm.playerApplyRewardPara.referPlayer)', ng-click='vm.applyPlayerReward()') {{'APPLY' | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CLOSE" | translate}}
                //#modalManualUnlockRewardTask
                div(ng-show="vm.selectedRewardSettingsTab == 'reward-progress'")
                    //ng-disabled='!vm.rewardTaskGroupDetails',
                    button.common-button.margin-right-5.btn.btn-success(ng-show="vm.isUnlockTaskGroup",ng-disabled="!vm.dynRewardTaskGroupIndex || vm.dynRewardTaskGroupIndex.length==0", ng-click="vm.unlockTaskGroup()") {{'Unlock Reward' | translate}}
                    button.common-button.margin-right-5.btn.btn-success(ng-show="!vm.isUnlockTaskGroup", ng-disabled="vm.selectedRewards.length==0", ng-click="vm.submitManualUnlockRewardTask(vm.selectedRewards)") {{'Unlock Reward' | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CLOSE" | translate}}
                    label.inlineBlktext-danger.margin-right-5 {{vm.manualUnlockRewardTask.resMsg}}

#modalReapplyLostOrder.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"ALL_REAPPLY_ORDER" | translate}} : {{vm.selectedSinglePlayer.name}}
            .modal-body
                ul.nav.nav-tabs.common-nav-tabs
                    li(ng-class="vm.selectedReapplyLostOrderTab == 'credit' ? 'active' : null", ng-show="checkViewPermission('Player', 'Player', 'RepairTransaction')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showReapplyLostOrderTab('credit');vm.prepareShowPlayerCredit();") {{"CREDIT_ORDER_LOST" | translate}}
                    li(ng-class="vm.selectedReapplyLostOrderTab == 'payment' ? 'active' : null", ng-show="checkViewPermission('Player', 'Player', 'RepairPayment')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showReapplyLostOrderTab('payment');") {{"PAYMENT_ORDER_LOST" | translate}}
                .panel.panel-primary(style="border-radius:0 !important;")
                    .panel-body
                        .well(ng-show="vm.selectedReapplyLostOrderTab == 'credit'")
                            table.col-md-10.col-md-offset-1.paddingTbl.text-center.datatable-sm
                                tbody
                                    tr
                                        td {{'LOCKED_CREDIT' | translate}}
                                        td {{vm.selectedSinglePlayer.lockedCredit | number:2}} ({{'curData' | translate}})
                                        td --->
                                        td
                                            label.text-danger {{vm.creditChange.finalLockedAmount}} ({{'updateData' | translate}})
                                    tr
                                        td {{'VALID_CREDIT' | translate}}
                                        td {{vm.selectedSinglePlayer.validCredit | number:2}} ({{'curData' | translate}})
                                        td --->
                                        td
                                            label.text-danger {{vm.creditChange.finalValidAmount}} ({{'updateData' | translate}})
                            .row
                                .col-md-12
                                    label.control-label {{"PLEASE_CHOOSE" | translate}} {{'Link Transfer Record' | translate}} :
                                    label.inlineBlk.text-danger.margin-left-5 {{vm.linkedPlayerTransferId || 'NONE' | translate}}
                            .row
                                .col-md-12
                                    table#playerCreditAdjustTbl.display.common-table(style='min-width:100%;width:100%', ng-show='vm.playerTransferErrorLog!=null')
                                    i.fa.fa-refresh.fa-spin.fa-2x.text-danger(ng-show='vm.playerTransferErrorLog===null')
                            .row
                                .col-md-6
                                    label.control-label {{'REMARKS' | translate}}
                                .col-md-12.textareaDetail
                                    textarea.form-control(type = "textarea",name = "Remarks", rows = '5', placeholder="{{'REMARKS' | translate}}", ng-model="vm.creditChange.remark")

                        .well(ng-show="vm.selectedReapplyLostOrderTab == 'payment'")
                            label {{'Select a payment request' | translate}}
                            table#playerRepairPaymentTbl.noWrap.text-center.display.paymentGroup-btn
                                thead
                                    tr
                                        th {{'TIME' | translate}}
                                        th {{'proposalId' | translate}}
                                        th {{'requestId' | translate}}
                                        th {{'CREDIT' | translate}}
                                        th {{'Merchant' | translate}}
                                        th {{'merchantUseType' | translate}}
                                        th {{'topupType' | translate}}
                                        th {{'STATUS' | translate}}
                                tbody
                                    tr(ng-repeat='(i,v) in vm.allPendingRequest')
                                        td {{v.createTime$}}
                                        td {{v.proposalId}}
                                        td {{v.data.requestId}}
                                        td {{v.data.amount}}
                                        td {{v.data.merchantNo}}
                                        td {{v.merchantUseType$ | translate}}
                                        td {{v.topupType$ | translate}}
                                        td {{v.status | translate}}

            .modal-footer
                div(ng-show="vm.selectedReapplyLostOrderTab == 'credit'")
                    button.common-button.margin-right-5.btn.btn-primary(data-dismiss='modal',ng-disabled='!vm.linkedPlayerTransferId || (vm.linkedPlayerTransfer.status == 1)', ng-click="vm.repairTransaction();") {{"UPDATE" | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}
                div(ng-show="vm.selectedReapplyLostOrderTab == 'payment'")
                    button.common-button.margin-right-5.btn.btn-success(ng-if="vm.repairProposalId && vm.submitRepairePayementStep!=2" ng-click='vm.submitRepairPayment()')
                        | {{'Repair Payment' | translate}} {{vm.repairProposalId}}
                        i.fa.fa-spin.fa-refresh(ng-show='vm.submitRepairePayementStep==1')
                    button.common-button.margin-right-5.btn.btn-success(ng-if="checkViewPermission('Player','Player','RepairPayment')",ng-show='!vm.repairProposalId', disabled) {{'Repair Payment' | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal', ng-show='vm.submitRepairePayementStep!=2') {{"CANCEL" | translate}}
                    button.common-button.margin-right-5.btn.btn-success(data-dismiss='modal', ng-show='vm.submitRepairePayementStep==2') {{"Completed" | translate}} {{vm.repairProposalId}}

#modalPlayerCreditAdjustment.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{vm.creditChange.modaltitle | translate}} : {{vm.selectedSinglePlayer.name}} {{vm.selectedSinglePlayer.realName && '(' + vm.selectedSinglePlayer.realName + ')'}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        label {{'VALID_CREDIT' | translate}}
                        table.col-md-12.paddingTbl.text-center.datatable-sm
                            tbody
                                tr
                                    td.col-md-4.oblique {{'curData' | translate}}
                                    td.col-md-4.oblique {{'CHANGE_AMOUNT' | translate}}
                                    td.col-md-4.oblique {{'updateData' | translate}}
                                tr
                                    td {{vm.creditChange.validCredit}}
                                    //td {{vm.selectedSinglePlayer.validCredit | number:2}}
                                    td
                                        input.text-success(type='number', ng-model='vm.creditChange.updateAmount', ng-change="vm.getFinalValidAmount();")
                                    td
                                        label.text-danger {{vm.creditChange.finalValidAmount || 0 | number:2}}
                                        .text-danger(ng-show='vm.creditChange.finalValidAmount<0') {{'Player credit cannot be less than 0' | translate}}
                        .row
                            .col-md-6
                                label.control-label {{'REMARKS' | translate}}
                            .col-md-12.textareaDetail
                                textarea.form-control(type = "textarea",name = "Remarks", rows = '5', placeholder="{{'REMARKS' | translate}}", ng-model="vm.creditChange.remark")
            .modal-footer
                button.common-button.margin-right-5.btn.btn-primary(data-dismiss='modal',ng-disabled='!vm.creditChange.updateAmount || vm.creditChange.finalValidAmount<0', ng-click="vm.updatePlayerCredit();") {{"UPDATE" | translate}}
                button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}

#modalPlayerRewardPointsAdjustment.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{'REWARD_POINTS_ADJUSTMENT' | translate}} : {{vm.selectedSinglePlayer.name}} {{vm.selectedSinglePlayer.realName && '(' + vm.selectedSinglePlayer.realName + ')'}}
            .modal-body(ng-show='!vm.selectedPlatform.data.usePointSystem')
                .well
                    label.text-danger {{'FAIL' | translate}}
                    label.form-control {{"Point system is disabled for this platform" | translate}}
            .modal-body(ng-show='vm.isOneSelectedPlayer().permission && !vm.isOneSelectedPlayer().permission.rewardPointsTask && vm.selectedPlatform.data.usePointSystem')
                .well
                    label.text-danger {{'FAIL' | translate}}
                    label.form-control {{"Player does not have reward points task permission" | translate}}
            .modal-body(ng-show='vm.isOneSelectedPlayer().permission && vm.isOneSelectedPlayer().permission.rewardPointsTask && vm.selectedPlatform.data.usePointSystem')
                ul.nav.nav-tabs.common-nav-tabs
                    li(ng-class="vm.selectedRewardPointsAdjustmentTab == 'change' ? 'active' : null", ng-show="checkViewPermission('Player', 'Reward', 'RewardPointsChange')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showRewardPointsAdjustmentTab('change');") {{"VALID_REWARD_POINTS" | translate}}
                    li(ng-class="vm.selectedRewardPointsAdjustmentTab == 'convert' ? 'active' : null", ng-show="checkViewPermission('Player', 'Reward', 'RewardPointsConvert')")
                        a.common-tab(data-toggle="tab", ng-click="vm.showRewardPointsAdjustmentTab('convert');") {{"ADVANCE_REWARD_POINTS_CONVERT" | translate}}
                .panel.panel-primary(style="border-radius:0 !important;")
                    .panel-body
                        // rewardPointsChange
                        .well(ng-show="vm.selectedRewardPointsAdjustmentTab == 'change'")
                            table.col-md-12.paddingTbl.text-center.datatable-sm
                                tbody
                                    tr
                                        td.col-md-4.oblique {{'CURRENT_REWARD_POINTS' | translate}}
                                        td.col-md-4.oblique {{'CHANGE_REWARD_POINTS' | translate}}
                                        td.col-md-4.oblique {{'UPDATED_REWARD_POINTS' | translate}}
                                    tr
                                        td {{vm.isOneSelectedPlayer().rewardPointsObjId.points}}
                                        td
                                            input.text-success(type='number', ng-model='vm.rewardPointsChange.updateAmount', ng-change="vm.rewardPointsChange.finalValidAmount=vm.isOneSelectedPlayer().rewardPointsObjId.points + vm.rewardPointsChange.updateAmount")
                                        td
                                            label.text-danger {{vm.rewardPointsChange.finalValidAmount || 0 }}
                                            .text-danger(ng-show='vm.rewardPointsChange.finalValidAmount<0') {{'Player reward points cannot be less than 0' | translate}}
                            .row
                                .col-md-6
                                    label.control-label {{'REMARKS' | translate}}
                                .col-md-12.textareaDetail
                                    textarea.form-control(name="Remarks", rows='5', placeholder="{{'REMARKS' | translate}}", ng-model="vm.rewardPointsChange.remark")
                        // rewardPointsConvert
                        .well(ng-show="vm.selectedRewardPointsAdjustmentTab == 'convert'")
                            table.col-md-12.paddingTbl.text-center.datatable-sm
                                tbody
                                    tr
                                        td.col-md-3 {{'BEFORE_REWARD_POINTS_CONVERT' | translate}}
                                        td.col-md-3 {{'REWARD_POINTS_CONVERT_AMOUNT' | translate}}
                                            span(ng-if="vm.playerRewardPointsConversionRate") &nbsp;({{vm.playerRewardPointsConversionRate}} : 1)
                                        td.col-md-3.strong.text-disabled {{'REWARD_POINTS_CONVERT_DAILY_LIMIT' | translate}}
                                        td.col-md-3 {{'AFTER_REWARD_POINTS_CONVERT' | translate}}
                                    tr
                                        td {{vm.isOneSelectedPlayer().rewardPointsObjId.points}}
                                        td
                                            input.text-success(type='number', ng-model='vm.rewardPointsConvert.updateAmount', ng-change="vm.rewardPointsConvert.finalValidAmount=vm.isOneSelectedPlayer().rewardPointsObjId.points - vm.rewardPointsConvert.updateAmount")
                                        td
                                            label.text-disabled {{vm.playerRewardPointsDailyConvertedPoints}}
                                            label.text-disabled &nbsp;
                                            label.text-disabled / {{vm.playerRewardPointsDailyLimit}}
                                            .text-danger(ng-show='vm.rewardPointsConvert.updateAmount + vm.playerRewardPointsDailyConvertedPoints > vm.playerRewardPointsDailyLimit') {{'Player convert amount reach daily reward points convert limit' | translate}}
                                        td
                                            label.text-danger {{vm.rewardPointsConvert.finalValidAmount || 0}}
                                            .text-danger(ng-show='vm.rewardPointsConvert.finalValidAmount<0') {{'Player reward points cannot be less than 0' | translate}}
                            .row
                                .col-md-6
                                    label.control-label {{'REMARKS' | translate}}
                                .col-md-12.textareaDetail
                                    textarea.form-control(name="Remarks", rows='5', placeholder="{{'REMARKS' | translate}}", ng-model="vm.rewardPointsConvert.remark")
            .modal-footer
                div(ng-show="vm.selectedRewardPointsAdjustmentTab == 'change'")
                    button.common-button.margin-right-5.btn.btn-primary(data-dismiss='modal',ng-disabled='!vm.rewardPointsChange.updateAmount || vm.rewardPointsChange.finalValidAmount<0', ng-click="vm.updatePlayerRewardPointsRecord();") {{"UPDATE" | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}
                div(ng-show="vm.selectedRewardPointsAdjustmentTab == 'convert'")
                    button.common-button.margin-right-5.btn.btn-primary(data-dismiss='modal',ng-disabled='!vm.rewardPointsConvert.updateAmount || vm.rewardPointsConvert.finalValidAmount<0 || vm.rewardPointsConvert.updateAmount + vm.playerRewardPointsDailyConvertedPoints > vm.playerRewardPointsDailyLimit', ng-click="vm.convertPlayerRewardPoints();") {{"UPDATE" | translate}}
                    button.common-button.margin-right-5.btn.btn-warning(data-dismiss='modal') {{"CANCEL" | translate}}

#modalPlayerPermissionChangeLog.modal.fade(tabindex='-1', role='dialog', data-backdrop=true, keyboard=true,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog.modal-medium
        #playerPermissionHistory.modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{'Player' | translate}} : {{vm.popOverPlayerPermission.name}}
            .modal-body
                .well.searchDiv
                    .inlineBlk
                        label {{"Start date"|translate}}
                        .startTime
                    .inlineBlk
                        label {{"End date"|translate}}
                        .endTime
                    .inlineBlk
                        button.common-button.btn.btn-primary(ng-click='vm.getPlayerPermissionChangeByPlayerTab("update")') {{'FILTER' | translate}}
                        i.fa.fa-spinner.fa-spin(ng-if='vm.playerPermissionQuery.searching')
                label(ng-if='!vm.playerPermissionQuery.searching') {{'total' | translate}} {{vm.playerPermissionHistory.length || 0}} {{'records' | translate}}
                .panel.panel-primary
                    .panel-head
                        .panel-title
                            .col-xs-3 {{"date" | translate}}
                            .col-xs-2 {{"CONTENT" | translate}}
                            .col-xs-2 {{"STATUS" | translate}}
                            .col-xs-2 {{"ADMIN" | translate}}
                            .col-xs-3 {{"remark" | translate}}
                    .panel-body(style='max-height:400px;overflow-y:auto')
                        .row(ng-repeat='(i,v) in vm.playerPermissionHistory', class='{{i%2==0 ? "bg-grey":""}}')
                            .col-xs-3 {{vm.dateReformat(v.createTime)}}
                            .col-xs-4
                                div(ng-repeat='(k,l) in v.oldData')
                                    label(style="width:90px; margin-left: -1em;") {{k | translate}}
                                    text(style="margin-left:2em;", class='{{l ? "text-primary" : "text-danger"}}') {{l === true ? 'Open' : 'Closed' | translate}}
                                    text &nbsp;-->&nbsp;
                                    text(class='{{v.newData[k] ? "text-primary" : "text-danger"}}') {{v.newData[k] === true ? 'Open' : 'Closed'| translate}}
                                    br

                            .col-xs-2 {{v.admin.adminName || ' '}}
                            .col-xs-3 {{v.remark}}

#modalRewardPointsLogDetail.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                span
                    ul.nav.nav-tabs
                        li
                            label(style="font-size: 1.5em;") {{ 'Reward Points' | translate}}
                        li.active
                            a(data-toggle="tab", href="#detail", ng-click="")
                                .fa.fa-user
                                | {{ 'DETAIL' | translate }}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .tab-content
                            #ProposalDetail.tab-pane.fade.in.active
                                div
                                    .titleBackground.margin-bottom-5.text-center {{'Basic' | translate}}
                                    .label-value
                                        label {{'TITLE' | translate}}&nbsp;:&nbsp;
                                        label {{vm.rewardPointsLogDetail.category | translate}}
                                    .label-value
                                        label {{'STATUS' | translate}}&nbsp;:&nbsp;
                                        label {{vm.rewardPointsLogDetail.status | translate}}
                                    .label-value
                                        label {{'PROPOSAL_NO' | translate}}&nbsp;:&nbsp;
                                        label {{vm.rewardPointsLogDetail.proposalId || 'none' | translate}}
                                    .label-value
                                        label {{'CREATION_TIME' | translate}}&nbsp;:&nbsp;
                                        label {{vm.dateReformat(vm.rewardPointsLogDetail.createTime)}}

                                    div(style='min-height:30px')
                                        hr
                                div.proposalDataDetail(ng-switch="vm.selectedProposal.type.name")
                                    label {{'UPDATE_DETAIL' | translate}}
                                    div(ng-switch-default)
                                        table.table(style='width:100%')
                                            tr
                                                td {{ 'Reward Point ID' | translate}}
                                                td {{ vm.rewardPointsLogDetail.pointLogId }}
                                            tr
                                                td {{ 'Member Account' | translate}}
                                                td {{ vm.rewardPointsLogDetail.playerName }}
                                            tr
                                                td {{ 'Player Level' | translate}}
                                                td {{ vm.rewardPointsLogDetail.playerLevelName | translate }}
                                            tr(ng-if='vm.rewardPointsLogDetail.currentDayAppliedAmount != null')
                                                td {{ 'dailyMaxRewardPoint' | translate}}
                                                td {{ vm.rewardPointsLogDetail.currentDayAppliedAmount}} / {{vm.rewardPointsLogDetail.maxDayApplyAmount}}
                                            tr
                                                td {{ 'rewardPointsCategory' | translate}}
                                                td {{ vm.rewardPointsLogDetail.category | translate}}
                                            tr
                                                td {{ 'rewardPoints' | translate}}
                                                td {{ vm.rewardPointsLogDetail.amount }}
                                            tr(ng-if='vm.rewardPointsLogDetail.rewardPeriod')
                                                td {{ 'eventRefreshPeriod' | translate}}
                                                td {{ vm.rewardPointsLogDetail.rewardPeriod }}
                                            tr(ng-if='vm.rewardPointsLogDetail.rewardTitle')
                                                td {{ 'rewardTitle' | translate}}
                                                td {{ vm.rewardPointsLogDetail.rewardTitle }}
                                            tr(ng-if='vm.rewardPointsLogDetail.rewardContent')
                                                td {{ 'rewardContent' | translate}}
                                                td {{ vm.rewardPointsLogDetail.rewardContent }}
                                            tr
                                                td {{ 'remark' | translate}}
                                                td {{ vm.rewardPointsLogDetail.remark }}
                                            tr(ng-if='vm.rewardPointsLogDetail.proposal && vm.rewardPointsLogDetail.proposal.data.exchangeRatio')
                                                td {{ 'exchangeRatio' | translate}}
                                                td {{ vm.rewardPointsLogDetail.proposal.data.exchangeRatio }}
                                            tr(ng-repeat='(i,v) in vm.rewardPointsLogDetail.rewardTarget' ng-switch='i')
                                                td {{ i | translate}}
                                                td(ng-switch-when='merchantTopupMainType') {{ vm.topUpTypeList[v] | translate}}
                                                td(ng-switch-when='merchantTopupType') {{ vm.merchantTopupTypeJson[v] | translate}}
                                                td(ng-switch-when='depositMethod') {{ depositMethod[v] | translate}}
                                                td(ng-switch-when='bankType') {{ vm.allBankTypeList[v] | translate}}
                                                td(ng-switch-default) {{ v }}



            .modal-footer
                button.btn.btn-primary.common-button(data-dismiss='modal') {{"OK" | translate}}

#modalProposal.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                span
                    ul.nav.nav-tabs
                        li
                            label {{vm.selectedProposal.type.name | translate}}
                        li.active
                            a(data-toggle="tab", href="#ProposalDetail", ng-click="")
                                .fa.fa-user
                                | {{ 'DETAIL' | translate }}
                        li(ng-if='vm.chartData')
                            a(data-toggle="tab", href="#Workflow", ng-click="")
                                .fa.fa-user
                                | {{ 'WORKFLOW' | translate }}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .tab-content
                            #ProposalDetail.tab-pane.fade.in.active
                                include ./proposal-dialog-detail
            .modal-footer
                .inlineBlk(ng-show='vm.selectedProposal.isLocked && !vm.selectedProposal.showUnlockBtn')
                    label.form-control {{'Lock Status' | translate}} : {{vm.selectedProposal.isLocked.adminName}}
                .inlineBlk(ng-show='!vm.selectedProposal.isLocked || vm.selectedProposal.showUnlockBtn')
                    button.btn.btn-success.common-button(data-dismiss='modal', ng-if='(vm.selectedProposal.process.status=="Pending" || vm.selectedProposal.status=="Pending") && vm.rightPanelTitle == "APPROVAL_PROPOSAL" && checkViewPermission("Operation", "Proposal","ApproveProposal")', ng-click="vm.updateProposal(vm.selectedProposal._id, true)") {{"APPROVE" | translate}}
                    button.btn.btn-danger.common-button(data-dismiss='modal', ng-if='(vm.selectedProposal.process.status=="Pending" || vm.selectedProposal.status=="Pending") && vm.rightPanelTitle == "APPROVAL_PROPOSAL" && checkViewPermission("Operation", "Proposal","RejectProposal")', ng-click="vm.updateProposal(vm.selectedProposal._id, false)") {{"REJECT" | translate}}
                button.btn.btn-warning.common-button(ng-if='vm.selectedProposal.showCancel', ng-click="vm.submitCancelProposal(vm.selectedProposal)") {{"Cancel Proposal" | translate}}
                .inlineBlk(ng-if='vm.selectedProposal.cancelling')
                    label {{'Cancelling Proposal' | translate}}
                    i.fa.fa-spin.fa-2x.fa-spinner
                label.inlineBlk(ng-if='vm.selectedProposal.cancelled') {{"Cancel" | translate}}
                button.btn.btn-primary.common-button(data-dismiss='modal') {{"OK" | translate}}
                button.btn.btn-primary.common-button(ng-if='vm.selectedProposal.status==="AutoAudit" && !vm.changeStatusToPendingFromAutoAuditMessage && !vm.selectedProposal.cancelling && !vm.selectedProposal.cancelled', ng-click='vm.changeStatusToPendingFromAutoAudit()') {{"Manual" | translate}}
                button.btn.btn-success.common-button(ng-if="vm.showCopyProposal()" ng-click="vm.copyTopUpProposal()") {{"COPY_TO_CLIPBOARD" | translate}}
                button.btn.btn-danger.common-button(ng-if='checkViewPermission("Player", "Proposal", "Force Pairing") && vm.selectedProposal.status=="Pending" ' +
                '&& (vm.selectedProposal.type.name == "ManualPlayerTopUp" || vm.selectedProposal.type.name == "PlayerAlipayTopUp" || vm.selectedProposal.type.name == "PlayerWechatTopUp")'
                data-toggle="modal", data-target="#modalProposalTopUpForcePairing") {{"Force Pairing" | translate}}
                label.inlineBlk.wordWrap(ng-if='vm.changeStatusToPendingFromAutoAuditMessage') {{vm.changeStatusToPendingFromAutoAuditMessage}}
                .inlineBlk.pull-left(ng-show='vm.rightPanelTitle == "APPROVAL_PROPOSAL"')
                    label.inlineBlk {{'remark' | translate}}
                    input#proposalRemark.inlineBlk.proposalRemark.form-control(style='width:400px;')

#modalProposalTopUpForcePairing.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false aria-hidden='true' style="z-index:1052;")
    .modal-dialog(style='width:50%;top:20%;')
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                span(style="font-weight:bold;font-size:24px;") {{"Force Pairing" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        h4 {{"Force Pairing, Please enter reference number." | translate}}
                        input(type="text" ng-model="vm.forcePairingReferenceNumber")
                div(style='text-align:right')
                    button.btn.btn-danger.common-button(data-dismiss='modal') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button(data-dismiss='modal' ng-click="vm.forcePairingWithReferenceNumber()") {{"CONFIRMATION" | translate}}

#newPlayerModal.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                span
                    ul.nav.nav-tabs
                        li
                            label {{vm.selectedProposal.type.name | translate}}
                        li.active
                            a(data-toggle="tab", href="#ProposalDetail", ng-click="")
                                .fa.fa-user
                                | {{ 'DETAIL' | translate }}
                        li(ng-if='vm.chartData')
                            a(data-toggle="tab", href="#Workflow", ng-click="")
                                .fa.fa-user
                                | {{ 'WORKFLOW' | translate }}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .tab-content
                            #ProposalDetail.tab-pane.fade.in.active
                                include ./proposal-dialog-detail-newplayer
            .modal-footer
                .inlineBlk(ng-show='vm.selectedProposal.isLocked && !vm.selectedProposal.showUnlockBtn')
                    label.form-control {{'Lock Status' | translate}} : {{vm.selectedProposal.isLocked.adminName}}
                .inlineBlk(ng-show='!vm.selectedProposal.isLocked || vm.selectedProposal.showUnlockBtn')
                    button.btn.btn-success.common-button(data-dismiss='modal', ng-if='(vm.selectedProposal.process.status=="Pending" || vm.selectedProposal.status=="Pending") && vm.rightPanelTitle == "APPROVAL_PROPOSAL" && checkViewPermission("Operation", "Proposal","ApproveProposal")', ng-click="vm.updateProposal(vm.selectedProposal._id, true)") {{"APPROVE" | translate}}
                    button.btn.btn-danger.common-button(data-dismiss='modal', ng-if='(vm.selectedProposal.process.status=="Pending" || vm.selectedProposal.status=="Pending") && vm.rightPanelTitle == "APPROVAL_PROPOSAL" && checkViewPermission("Operation", "Proposal","RejectProposal")', ng-click="vm.updateProposal(vm.selectedProposal._id, false)") {{"REJECT" | translate}}
                button.btn.btn-warning.common-button(ng-if='vm.selectedProposal.showCancel', ng-click="vm.submitCancelProposal(vm.selectedProposal)") {{"Cancel Proposal" | translate}}
                .inlineBlk(ng-if='vm.selectedProposal.cancelling')
                    label {{'Cancelling Proposal' | translate}}
                    i.fa.fa-spin.fa-2x.fa-spinner
                label.inlineBlk(ng-if='vm.selectedProposal.cancelled') {{"Cancel" | translate}}
                button.btn.btn-primary.common-button(data-dismiss='modal') {{"OK" | translate}}
                button.btn.btn-primary.common-button(ng-if='vm.selectedProposal.status==="AutoAudit" && !vm.changeStatusToPendingFromAutoAuditMessage && !vm.selectedProposal.cancelling && !vm.selectedProposal.cancelled', ng-click='vm.changeStatusToPendingFromAutoAudit()') {{"Manual" | translate}}
                label.inlineBlk.wordWrap(ng-if='vm.changeStatusToPendingFromAutoAuditMessage') {{vm.changeStatusToPendingFromAutoAuditMessage}}
                .inlineBlk.pull-left(ng-show='vm.rightPanelTitle == "APPROVAL_PROPOSAL"')
                    label.inlineBlk {{'remark' | translate}}
                    input.inlineBlk.proposalRemark.form-control(style='width:400px;')

#modalPlayerBlacklistIpDetail.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog(style='width:50%;top:20%')
        .modal-content
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .tab-content
                            table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                                thead
                                    tr
                                        th(width="5%") {{'SEQUENCE_NO' | translate}}
                                        th(width="30%") {{'IP' | translate}}
                                        th(width="30%") {{'REMARK' | translate}}
                                        th(width="10%") {{'Operator_Name' | translate}}
                                tbody.well
                                    tr(ng-repeat='v in vm.blacklistIpDetail')
                                        td {{$index+1}}
                                        td {{v.ip}}
                                        td {{v.remark}}
                                        td {{v.adminName}}

                div(style='text-align:right')
                    button.btn.btn-primary.common-button(data-dismiss='modal') {{"OK" | translate}}
