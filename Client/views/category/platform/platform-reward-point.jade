.row
    .col-md-12
        button.btn.btn-primary.common-button(ng-class='{active: vm.selectedRewardPointTab === "rewardPointsRule"}', ng-click='vm.rewardPointsTabClicked("rewardPointsRule")')
            span {{"REWARD_POINTS_RULE" | translate}}
        button.btn.btn-primary.common-button(ng-class='{active: vm.selectedRewardPointTab === "loginRewardPoints"}', ng-click='vm.rewardPointsTabClicked("loginRewardPoints")')
            span {{"LOGIN_REWARD_POINTS" | translate}}
        button.btn.btn-primary.common-button(ng-class='{active: vm.selectedRewardPointTab === "topupRewardPoints"}', ng-click='vm.rewardPointsTabClicked("topupRewardPoints")')
            span {{"TOPUP_REWARD_POINTS" | translate}}
        button.btn.btn-primary.common-button(ng-class='{active: vm.selectedRewardPointTab === "gameRewardPoints"}', ng-click='vm.rewardPointsTabClicked("gameRewardPoints")')
            span {{"GAME_REWARD_POINTS" | translate}}
        button.btn.btn-primary.common-button(ng-class='{active: vm.selectedRewardPointTab === "rewardPointsRanking"}', ng-click='vm.rewardPointsTabClicked("rewardPointsRanking")')
            span {{"REWARD_POINTS_RANKING" | translate}}
        button.btn.btn-primary.common-button(ng-class='{active: vm.selectedRewardPointTab === "rewardPointsLog"}', ng-click='vm.rewardPointsTabClicked("rewardPointsLog")')
            span {{"REWARD_POINTS_LOG" | translate}}

    .col-md-12
        .panel.panel-primary
            .panel-heading.panel-heading-sm
                label {{"rewardPoint" | translate}}
            .panel-body.common-right-sub-panel-body(ng-if="!vm.curPlatformText")
            .panel-body.common-right-sub-panel-body(ng-if="vm.curPlatformText")
                .text-center(ng-if='!vm.selectedRewardPointTab')
                    label.text-danger {{'Please select a type' | translate}}

                // Tab - rewardPointsRule
                div#createPromoCodePage(ng-if='vm.selectedRewardPointTab=="rewardPointsRule" && checkViewPermission("Platform", "rewardPoints", "rewardPointsRule")')
                    .full-width-input-block
                        label {{"intervalPeriod" | translate}}
                        select.form-control(ng-model='vm.rewardPointsLvlConfig.intervalPeriod' ng-options="+(i) as v | translate for (i,v) in constRewardPointsIntervalPeriod" ng-disabled='!vm.isRewardPointsLvlConfigEditing', required)
                    .full-width-input-block
                        label {{"applyMethod" | translate}}
                        select.form-control(ng-model='vm.rewardPointsLvlConfig.applyMethod' ng-options="+(i) as v | translate for (i,v) in constRewardPointsApplyMethod" ng-disabled='!vm.isRewardPointsLvlConfigEditing', required)
                    br
                    br
                    table.simple-table(style="width:100%")
                        thead
                            tr
                                th {{'playerLevel' | translate}}
                                th {{'dailyMaxPoints' | translate}}
                                th {{'pointToCreditManualRate (N points : 1 Credit)' | translate}}
                                th {{'pointToCreditManualMaxPoints' | translate}}
                                th {{'pointToCreditAutoRate (N points : 1 credit)' | translate}}
                                th {{'pointToCreditAutoMaxPoints' | translate}}
                                th {{'spendingAmountOnReward' | translate}}
                                th {{'providerGroup' | translate}}
                        tbody
                            tr(ng-repeat='(idx,val) in vm.rewardPointsLvlConfig.params')
                                td(ng-repeat='(k,v) in vm.allPlayerLvl' ng-if='val.levelObjId==v._id') {{v.name}}
                                td
                                    input.form-control(type='number' ng-model='val.dailyMaxPoints' ng-disabled='!vm.isRewardPointsLvlConfigEditing')
                                td
                                    input.form-control(type='number' ng-model='val.pointToCreditManualRate' ng-disabled='!vm.isRewardPointsLvlConfigEditing')
                                td
                                    input.form-control(type='number' ng-model='val.pointToCreditManualMaxPoints' ng-disabled='!vm.isRewardPointsLvlConfigEditing')
                                td
                                    input.form-control(type='number' ng-model='val.pointToCreditAutoRate' ng-disabled='!vm.isRewardPointsLvlConfigEditing')
                                td
                                    input.form-control(type='number' ng-model='val.pointToCreditAutoMaxPoints' ng-disabled='!vm.isRewardPointsLvlConfigEditing')
                                td
                                    input.form-control(type='number' ng-model='val.spendingAmountOnReward' ng-disabled='!vm.isRewardPointsLvlConfigEditing')
                                td
                                    select.form-control(ng-model="val.providerGroup" ng-options="v._id as v.name | translate for (i,v) in vm.gameProviderGroup" ng-disabled='!vm.isRewardPointsLvlConfigEditing')

                    br
                    .pull-right
                        button.btn.btn-danger.common-button(ng-if='vm.isRewardPointsLvlConfigEditing' ng-click='vm.isRewardPointsLvlConfigEditing=false;vm.rewardPointsTabClicked("rewardPointsRule")') {{'CANCEL' | translate}}
                        button.btn.btn-primary.common-button(ng-if='vm.isRewardPointsLvlConfigEditing' ng-click='vm.rewardPointsLvlConfigSubmit()') {{'CONFIRM' | translate}}
                        button.btn.btn-primary.common-button(ng-if='!vm.isRewardPointsLvlConfigEditing' ng-click='vm.isRewardPointsLvlConfigEditing=true;')
                            text {{'EDIT' | translate}}
                            img.img-edit


                // Tab - loginRewardPoints
                div#createLoginRewardPoints(ng-if='vm.selectedRewardPointTab=="loginRewardPoints" && checkViewPermission("Platform", "rewardPoints", "loginRewardPoints")')
                    table.simple-table(style="width:100%")
                        thead
                            tr
                                th {{'rewardPointsCategory' | translate}}
                                th {{'refreshPeriod' | translate}}
                                th {{'displayOrder' | translate}}
                                th {{'userAgent' | translate}}
                                th {{'targetDestination' | translate}}
                                th {{'consecutiveCount' | translate}}
                                th {{'rewardPoints' | translate}}
                                th {{'rewardTitle' | translate}}
                                th {{'rewardContent' | translate}}
                                th
                        tbody
                            tr(ng-repeat='(idx,val) in vm.rewardPointsEvent' id="rewardPointsEvent-{{idx}}")
                                td {{'loginRewardPoints' | translate}}
                                td(style="max-width:150px;")
                                    select.form-control(ng-model='val.period' ng-change='vm.rewardPointsEventPeriodChange(idx,val)' ng-options="+(i) as v | translate for (i,v) in constRewardPointsIntervalPeriod" ng-disabled='!val.isEditing')
                                    br
                                    div.dateTimePicker(id="rewardPointsEventStartDate-{{idx}}" style="display: inline-block" ng-if="val.period==6")
                                    span(ng-if="val.period==6") {{ 'to' | translate}}
                                    div.dateTimePicker(id="rewardPointsEventEndDate-{{idx}}" style="display: inline-block" ng-if="val.period==6")
                                td(style="max-width:60px;")
                                    input.form-control(type='number' ng-model='val.index' ng-disabled='!val.isEditing')
                                td
                                    select.form-control(ng-model='val.userAgent' ng-options="+(i) as v | translate for (i,v) in constPlayerRegistrationInterface" ng-disabled='!val.isEditing')
                                td
                                    select.spicker.form-control(ng-model="val.target.targetDestination" multiple, data-width='100%' data-actions-box='true' ng-disabled='!val.isEditing')
                                        option(style="display: inline-block" ng-repeat='(i,v) in vm.allGameProviders', value='{{v._id}}') {{v.name}}
                                td(style="max-width:60px;")
                                    input.form-control(type='number' ng-model='val.consecutiveCount' ng-disabled='!val.isEditing')
                                td(style="max-width:80px;")
                                    input.form-control(type='number' ng-model='val.rewardPoints' ng-disabled='!val.isEditing')
                                td(style="max-width:150px;")
                                    input.form-control(type='text' ng-model='val.rewardTitle' ng-disabled='!val.isEditing')
                                td
                                    input.form-control(type='text' ng-model='val.rewardContent' ng-disabled='!val.isEditing')
                                td(style="max-width:200px;")
                                    button.btn.btn-primary(ng-if='val.isEditing && !val._id' ng-click='vm.createRewardPointsEvent(val);vm.endLoadWeekDay();' style='margin: 0 5px;') {{'CONFIRM' | translate}}
                                    button.btn.btn-primary(ng-if='val.isEditing && val._id' ng-click='vm.updateRewardPointsEvent(idx,val);' style='margin: 0 5px;') {{'CONFIRM' | translate}}
                                    button.btn.btn-danger(ng-if='val.isEditing' ng-click='vm.rewardPointsTabClicked("loginRewardPoints");' style='margin: 0 5px;') {{'CANCEL' | translate}}
                                    button.btn.btn-primary(ng-if='!val.isEditing' ng-click='vm.rewardPointsEventSetDisable(idx,val,false);' style='margin: 0 5px;') {{'EDIT' | translate}}
                                    button.btn.btn-danger(ng-if='!val.isEditing' data-toggle="modal", data-target='#modalDeleteRewardPointsEvent' ng-click="vm.deletingRewardPointsEvent=val" style='margin: 0 5px;') {{'DELETE' | translate}}
                                    button.btn.btn-warning(ng-if='!val.isEditing' ng-click='val.status = !val.status; vm.updateRewardPointsEvent(idx,val);' style='margin: 0 5px;') {{val.status? 'CLOSE':'OPEN' | translate}}

                    br
                    .pull-right
                        button.btn.btn-primary.common-button(ng-click='vm.rewardPointsEvent.push({category:constRewardPointsTaskCategory.LOGIN_REWARD_POINTS, isEditing: true});vm.endLoadWeekDay();')
                            text {{'ADD' | translate}}
                            img.img-create


                //Tab - topupRewardPoints
                div(ng-if='vm.selectedRewardPointTab=="topupRewardPoints" && checkViewPermission("Platform", "rewardPoints", "topupRewardPoints")')
                    table.simple-table(style="width:100%")
                        thead
                            tr
                                th {{'rewardPointsCategory' | translate}}
                                th {{'intervalPeriod' | translate}}
                                th {{'displayOrder' | translate}}
                                th {{'userAgent' | translate}}
                                th {{'topupType' | translate}}
                                th {{'OnlineTopUpType' | translate}}
                                th {{'depositMethod' | translate}}
                                th {{'ToBankTypeId' | translate}}
                                th {{'dailyTopupAmount' | translate}}
                                th {{'consecutiveCount' | translate}}
                                th {{'rewardPoints' | translate}}
                                th {{'rewardTitle' | translate}}
                                th {{'rewardContent' | translate}}
                                th
                        tbody
                            tr(ng-repeat='(idx,val) in vm.topupRewardPoints')
                                td {{'TOPUP_REWARD_POINTS' | translate}}
                                td(style="max-width:100px;")
                                    select.form-control(ng-model='val.intervalPeriod' ng-options="+(i) as v | translate for (i,v) in constRewardPointsIntervalPeriod" ng-disabled='!val.isEditing')
                                td(style="max-width:80px;")
                                    input.form-control(type='number' ng-model='val.displayOrder' ng-disabled='!val.isEditing')
                                td
                                    select.form-control(ng-model='val.userAgent' ng-options="+(i) as v | translate for (i,v) in userAgentType" ng-disabled='!val.isEditing')
                                td
                                    select.form-control(ng-model='val.merchantTopupMainType' ng-options="+(i) as v | translate for (i,v) in merchantTopupMainTypeJson" ng-disabled='!val.isEditing')
                                td
                                    select.form-control(ng-model='val.merchantTopupType' ng-options="+(i) as v | translate for (i,v) in merchantTopupTypeJson" ng-disabled='!val.isEditing')
                                td
                                    select.form-control(ng-model='val.depositMethod' ng-options="+(i) as v | translate for (i,v) in depositMethod" ng-disabled='!val.isEditing')
                                td
                                    select.form-control(ng-model='val.bankType' ng-options="+(i) as v | translate for (i,v) in vm.allBankTypeList" ng-disabled='!val.isEditing')
                                td(style="max-width:80px;")
                                    input.form-control(type='number' ng-model='val.dailyTopupAmount' ng-disabled='!val.isEditing')
                                td(style="max-width:80px;")
                                    input.form-control(type='number' ng-model='val.consecutiveCount' ng-disabled='!val.isEditing')
                                td(style="max-width:80px;")
                                    input.form-control(type='number' ng-model='val.rewardPoints' ng-disabled='!val.isEditing')
                                td(style="max-width:150px;")
                                    input.form-control(type='text' ng-model='val.rewardTitle' ng-disabled='!val.isEditing')
                                td
                                    input.form-control(type='text' ng-model='val.rewardContent' ng-disabled='!val.isEditing')
                                td(style="max-width:200px;")
                                    button.btn.btn-primary(ng-if='val.isEditing' ng-click='vm.loginRewardPointsSubmit(val);vm.endLoadWeekDay();') {{'CONFIRM' | translate}}
                                    button.btn.btn-primary(ng-if='!val.isEditing' ng-click='val.isEditing=true;vm.endLoadWeekDay();') {{'EDIT' | translate}}
                                    button.btn.btn-danger(ng-if='!val.isEditing' ng-click='vm.loginRewardPointsDelete($index,val)') {{'DELETE' | translate}}
                                    button.btn.btn-warning(ng-if='!val.isEditing') {{'CLOSE' | translate}}

                    br
                    .pull-right
                        button.btn.btn-primary.common-button(ng-click='vm.topupRewardPoints.push({isEditing: true});vm.endLoadWeekDay();')
                            text {{'ADD' | translate}}
                            img.img-create

                // Tab - gameRewardPoints
                div(ng-if='vm.selectedRewardPointTab=="gameRewardPoints" && checkViewPermission("Platform", "rewardPoints", "gameRewardPoints")')

                // Tab - rewardPointsRanking
                div(ng-if='vm.selectedRewardPointTab=="rewardPointsRanking" && checkViewPermission("Platform", "rewardPoints", "rewardPointsRanking")')


                // Tab - rewardPointsLog
                div(ng-if='vm.selectedRewardPointTab=="rewardPointsLog" && checkViewPermission("Platform", "rewardPoints", "rewardPointsLog")')

#modalDeleteRewardPointsEvent.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog(style='width:80%;')
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"DELETE_REWARD_POINTS" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .row
                            .col-md-12
                                .well
                                    label {{"Are you sure you want to delete reward points event"|translate}}
                                    strong.text-danger &nbsp;{{vm.deletingRewardPointsEvent.rewardTitle}}
                                    label ?
            .modal-footer
                button.btn-sm.margin-right-5.btn.btn-primary.col-md-2(data-dismiss='modal' ng-click='vm.deleteRewardPointsEvent(vm.deletingRewardPointsEvent)') {{"DELETE" | translate}}
                button.btn-sm.margin-right-5.btn.btn-warning.col-md-2(data-dismiss='modal') {{"CANCEL" | translate}}