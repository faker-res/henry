form(name="form_edit_partner_commission_type", novalidate)
    div
        table.common-table(style='width:auto;min-width:99.9%')
            thead
                tr
                    th {{'PARTNER_NAME' | translate}}
                    th(colspan=4) {{'bonusAmount1' | translate}}
                    th {{'Spent Amount' | translate}}
                    th {{'CLOSED_COMMISSION' | translate}}
            tbody
                tr
                    td(style="text-align:center;border: 1px solid #0099CC")
                        text {{newPartner.partnerName}}
                    td(style="text-align:center;border: 1px solid #0099CC")
                        label.radio-inline {{'DAILY_BONUS_AMOUNT' | translate}}
                            input.pull-left.relative(type='radio', ng-model='newPartner.commissionType', value='1' ng-click="selectedCommissionTab('DAILY_BONUS_AMOUNT');")
                    td(style="text-align:center;border: 1px solid #0099CC")
                        label.radio-inline {{'WEEKLY_BONUS_AMOUNT' | translate}}
                            input.pull-left.relative(type='radio', ng-model='newPartner.commissionType', value='2' ng-click="selectedCommissionTab('WEEKLY_BONUS_AMOUNT');")
                    td(style="text-align:center;border: 1px solid #0099CC")
                        label.radio-inline {{'BIWEEKLY_BONUS_AMOUNT' | translate}}
                            input.pull-left.relative(type='radio', ng-model='newPartner.commissionType', value='3' ng-click="selectedCommissionTab('BIWEEKLY_BONUS_AMOUNT');")
                    td(style="text-align:center;border: 1px solid #0099CC")
                        label.radio-inline {{'MONTHLY_BONUS_AMOUNT' | translate}}
                            input.pull-left.relative(type='radio', ng-model='newPartner.commissionType', value='4' ng-click="selectedCommissionTab('MONTHLY_BONUS_AMOUNT');")
                    td(style="text-align:center;border: 1px solid #0099CC")
                        label.radio-inline {{'WEEKLY_CONSUMPTION' | translate}}
                            input.pull-left.relative(type='radio', ng-model='newPartner.commissionType', value='5' ng-click="selectedCommissionTab('WEEKLY_CONSUMPTION');")
                    td(style="text-align:center;border: 1px solid #0099CC")
                        label.radio-inline {{'CLOSED_COMMISSION' | translate}}
                            input.pull-left.relative(type='radio', ng-model='newPartner.commissionType', value='0' ng-click="selectedCommissionTab('CLOSED');")
        br
    div(ng-if="partnerCommission.isCustomized")
        .col-md-12.panel.panel-body.panel-primary
            .panel-body.common-right-panel-body
                div.tab-content
                    h4 {{'Customize commission rate' | translate}}
                    table.simple-table(ng-if="!partnerCommission.isGameProviderIncluded" style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th(colspan=6) {{'Total'| translate}}{{'Commission'| translate}}:{{commissionSettingTab | translate}}
                            tr
                                th(colspan=2) {{playerConsumptionTableHeader | translate}}
                                th(colspan=2) {{activePlayerTableHeader | translate}}
                                th(rowspan=2) {{'Commission Rate' | translate}}
                                th(rowspan=2) {{'ACTION_BUTTON' | translate}}
                            tr
                                th {{'From' | translate}}
                                th {{'To' | translate}}
                                th {{'From' | translate}}
                                th {{'To' | translate}}
                        tbody
                            tr(ng-repeat='(idx,val) in partnerCommission.showConfig.commissionSetting')
                                td
                                    input.form-control(type='number', ng-model='val.playerConsumptionAmountFrom' ng-disabled='!val.isEditing')
                                td
                                    input.form-control(type='number', ng-model='val.playerConsumptionAmountTo' ng-disabled='!val.isEditing')
                                td
                                    input.form-control(type='number', ng-model='val.activePlayerValueFrom' ng-disabled='!val.isEditing')
                                td
                                    input.form-control(type='number', ng-model='val.activePlayerValueTo' ng-disabled='!val.isEditing')
                                td
                                    span.percentage
                                        input(type='number', percentage, style="display: inline-block", ng-model='val.commissionRate' ng-disabled='!val.isEditing')
                                td
                                    a(href="" ng-if="!val.isEditing" ng-click="vm.commissionSettingEditRow(idx, vm.partnerCommission.showConfig.commissionSetting)", style="cursor:pointer") {{'Edit' | translate}}
                                    a(href="" ng-if="val.isEditing && !val.isCreateNew" ng-click="vm.commissionSettingCancelRow(idx, vm.partnerCommission.showConfig.commissionSetting)", style="cursor:pointer") {{'CANCEL' | translate}}

                    div(ng-repeat="gpg in partnerCommission.gameProviderGroup track by $index" ng-if="partnerCommission.isGameProviderIncluded")
                        table.simple-table(style='width:auto;min-width:99.9%')
                            thead
                                tr
                                    th(colspan=6) {{gpg.name | translate}}{{'Commission'| translate}}:{{commissionSettingTab | translate}}
                                tr
                                    th(colspan=2) {{playerConsumptionTableHeader | translate}}
                                    th(colspan=2) {{activePlayerTableHeader | translate}}
                                    th(rowspan=2) {{'Commission Rate' | translate}}
                                    th(rowspan=2) {{'ACTION_BUTTON' | translate}}
                                tr
                                    th {{'From' | translate}}
                                    th {{'To' | translate}}
                                    th {{'From' | translate}}
                                    th {{'To' | translate}}
                            tbody
                                tr(ng-repeat='commissionSetting in gpg.showConfig.commissionSetting track by $index')
                                    td
                                        input.form-control(type='number', ng-model='commissionSetting.playerConsumptionAmountFrom' disabled)
                                    td
                                        input.form-control(type='number', ng-model='commissionSetting.playerConsumptionAmountTo' disabled)
                                    td
                                        input.form-control(type='number', ng-model='commissionSetting.activePlayerValueFrom' disabled)
                                    td
                                        input.form-control(type='number', ng-model='commissionSetting.activePlayerValueTo' disabled)
                                    td
                                        span.percentage(ng-style='commissionSetting.isCustomized ? {color: "red"} : {}')
                                            input(type='number', percentage, style="display: inline-block", ng-model='commissionSetting.commissionRate' ng-disabled='!commissionSetting.isEditing')
                                    td
                                        a(href="" ng-if="!commissionSetting.isEditing" ng-click="commissionSettingEditRow($index, gpg.showConfig.commissionSetting)", style="cursor:pointer") {{'Edit' | translate}}
                                        a(href="" ng-if="commissionSetting.isEditing && !commissionSetting.isCreateNew" ng-click="commissionSettingCancelRow($index, gpg.showConfig.commissionSetting, gpg.srcConfig.commissionSetting)", style="cursor:pointer") {{'CANCEL' | translate}}
                                        text(ng-if="!commissionSetting.isCreateNew") /
                                        a(href="" ng-if="commissionSetting.isEditing" ng-click="customizeCommissionRate($index, gpg, gpg.showConfig.commissionSetting, gpg.srcConfig.commissionSetting)", style="cursor:pointer") {{'Customize' | translate}}
                                        a(href="" ng-if="!commissionSetting.isEditing" ng-click="commissionSettingEditRow($index, gpg.showConfig.commissionSetting)", style="cursor:pointer") {{'Reset default' | translate}}
                            br
                    br
                    .pull-right
                        button.btn.btn-primary.common-button(ng-if="!vm.partnerCommission.isGameProviderIncluded && vm.partnerCommission.isEditing" ng-click='vm.createUpdatePartnerCommissionConfig()') {{'SUBMIT' | translate}}
                        button.btn.btn-primary.common-button(ng-if="vm.partnerCommission.isGameProviderIncluded" ng-click='vm.submitPartnerCommissionConfigWithGameProviderGroup()') {{'SUBMIT' | translate}}

        .col-md-12.panel.panel-body.panel-primary.common-right-panel-body(style="min-height: 450px;")
            div
                h4 {{'Partner Rate Setting' | translate}}
                table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                    thead
                        tr
                            th {{'NAME' | translate}}
                            th {{'VALUE' | translate}}
                    tbody
                        tr
                            td {{'Rate After Rebate Promo' | translate}}
                            td
                                span.percentage
                                    input(style="display: inline-block", ng-model='rateAfterRebatePromo', ng-change='vm.validateNumber(vm.rateAfterRebatePromo, "rateAfterRebatePromo")')
                        tr
                            td {{'Rate After Rebate Platform' | translate}}
                            td
                                span.percentage
                                    input(style="display: inline-block", ng-model='rateAfterRebatePlatform', ng-change='vm.validateNumber(vm.rateAfterRebatePlatform, "rateAfterRebatePlatform")')

                        tr(ng-repeat='(idx,val) in rateAfterRebateGameProviderGroup')
                            td {{val.name | translate}}
                            td
                                span.percentage
                                    //input(type='number', percentage, style="display: inline-block", ng-model='val.rate', ng-disabled='!vm.isCommissionRateEditing')
                                    input(style="display: inline-block", ng-model='val.rate', ng-change='vm.validateNumber(val.rate, "rateAfterRebateGameProviderGroup", idx)', ng-disabled='!vm.isCommissionRateEditing')
                        tr
                            td {{'Rate After Rebate Total Deposit' | translate}}
                            td
                                span.percentage
                                    //input(type='number', percentage, style="display: inline-block", ng-model='vm.rateAfterRebateTotalDeposit', ng-disabled='!vm.isCommissionRateEditing')
                                    input(style="display: inline-block", ng-model='rateAfterRebateTotalDeposit', ng-change='vm.validateNumber(vm.rateAfterRebateTotalDeposit, "rateAfterRebateTotalDeposit")', ng-disabled='!vm.isCommissionRateEditing')
                        tr
                            td {{'Rate After Rebate Total Withdrawal' | translate}}
                            td
                                span.percentage
                                    //input(type='number', percentage, style="display: inline-block", ng-model='vm.rateAfterRebateTotalWithdrawal', ng-disabled='!vm.isCommissionRateEditing')
                                    input(style="display: inline-block", ng-model='rateAfterRebateTotalWithdrawal', ng-change='vm.validateNumber(vm.rateAfterRebateTotalWithdrawal, "rateAfterRebateTotalWithdrawal")', ng-disabled='!vm.isCommissionRateEditing')
                br
                .pull-right
                    button.btn.btn-primary.common-button(ng-if='vm.isCommissionRateEditing' ng-click='vm.cancelPartnerRateSetting()') {{'CANCEL' | translate}}
                    button.btn.btn-primary.common-button(ng-if='!vm.isCommissionRateEditing' ng-click='vm.editPartnerRateSetting()') {{'Edit' | translate}}
                    button.btn.btn-primary.common-button(ng-if='vm.isCommissionRateEditing' ng-click='vm.createUpdateCommissionRateSetting()') {{'SUBMIT' | translate}}
    .pull-right
        button.btn.btn-warning.common-button(data-dismiss='dialog') {{"CANCEL" | translate}}
        button.dialogEditPartnerSubmitBtn.btn.btn-primary.common-button(data-dismiss='dialog', ng-disabled='form_edit_partner_commission_type.$invalid || form_edit_partner_commission_type.$pristine', ng-click="updateEditedPartner();") {{"SUBMIT_CHANGES" | translate}}
        button.btn.btn-danger.common-button(ng-click="partnerCommission.isCustomized = true;") {{"Customize commission rate" | translate}}