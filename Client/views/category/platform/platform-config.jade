.row
    .col-md-3
        .panel.panel-primary
            .panel-heading.panel-heading-sm
                .fa.fa-wrench
                label &nbsp;{{"CONFIGURATION" | translate}}
            .panel-body.common-left-sub-panel-body
                p(ng-if="!vm.curPlatformText")
                    label.text-danger {{"NO_PLATFORM_MESSAGE" | translate}}
                ul.list-group.treeview(style="height: 430px; overflow-y: auto;", ng-if="vm.curPlatformText")
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "player"}', ng-click='vm.configTabClicked("player")')
                        span {{"PLAYER_LEVEL" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "partner"}', ng-click='vm.configTabClicked("partner")')
                        span {{"PARTNER_LEVEL" | translate}}
                    //li.list-group-item(ng-class='{active: vm.selectedConfigTab === "trust"}', ng-click='vm.configTabClicked("trust")')
                    //    span {{"TRUST_LEVEL" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "validActive"}', ng-click='vm.configTabClicked("validActive")')
                        span {{"VALID_ACTIVE" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "partnerCommission"}', ng-click='vm.configTabClicked("partnerCommission")')
                        span {{"Partner Commission" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "partnerBasic"}', ng-click='vm.configTabClicked("partnerBasic")')
                        span {{"Partner Basic" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "platformBasic"}', ng-click='vm.configTabClicked("platformBasic")')
                        span {{"Platform Basic" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "bonusBasic"}', ng-click='vm.configTabClicked("bonusBasic")')
                        span {{"Bonus Basic" | translate}}
                    //li.list-group-item(ng-class='{active: vm.selectedConfigTab === "announcement"}', ng-click='vm.configTabClicked("announcement")')
                        span {{"ANNOUNCEMENTS" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "autoApproval"}', ng-click='vm.configTabClicked("autoApproval")')
                        span {{"Auto Approval Setting" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "monitor"}', ng-click='vm.configTabClicked("monitor")')
                        span {{"Payment Monitor Setting" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "playerValue"}', ng-click='vm.configTabClicked("playerValue")')
                        span {{"Player Value" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "credibility"}', ng-click='vm.configTabClicked("credibility")')
                        span {{"Player Credibility" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "providerGroup"}', ng-click='vm.configTabClicked("providerGroup")')
                        span {{"Lock Lobby Group" | translate}}
                    li.list-group-item(ng-class='{active: vm.selectedConfigTab === "smsGroup"}', ng-click='vm.configTabClicked("smsGroup")')
                        span {{"sms group setting" | translate}}

    .col-md-9(style="padding-left:0;padding-right:15px")
        .panel.panel-primary
            .panel-heading.panel-heading-sm
                label {{"CONFIGURATION_DETAIL" | translate}}
            .panel-body.common-right-sub-panel-body(ng-if="!vm.curPlatformText")
            .panel-body.common-right-sub-panel-body(ng-if="vm.curPlatformText")
                .text-center(ng-if='!vm.selectedConfigTab')
                    label.text-danger {{'Please select a type' | translate}}

                div(ng-if='vm.selectedConfigTab=="player" && !vm.configPlayerLevelTableHasDefaultLevel()')
                    label.text-danger {{'PLAYER_LEVEL_NOTE' | translate}}
                div(ng-if='vm.selectedConfigTab=="player"')
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'NAME' | translate}}
                                th {{'VALUE' | translate}}
                        tbody
                            tr
                                td {{'Auto Check Player Level Up' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit')
                                    input(type='checkbox', ng-model='vm.autoCheckPlayerLevelUp', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'PLAYER_SELF_LEVELUP' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit')
                                    input(type='checkbox', ng-model='vm.manualPlayerLevelUp', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'PLAYER_LEVEL_UP_PERIOD' | translate}}
                                td(style='width:25%')
                                    text(ng-if='!vm.configTableEdit') {{ vm.playerLevelPeriod.levelUpPeriodName | translate }}
                                    select.form-control(style='width:30%;margin:auto' ng-change='vm.playerLevelPeriod.levelUpPeriodName = vm.getPlayerLevelUpPeriodName(vm.playerLevelPeriod.playerLevelUpPeriod); vm.changeLevelPeriodAllField()'
                                    ng-if='vm.configTableEdit', ng-model='vm.playerLevelPeriod.playerLevelUpPeriod', ng-options='v as i | translate for (i,v) in vm.allPlayerLevelUpPeriod',required)
                            tr
                                td {{'PLAYER_LEVEL_DOWN_PERIOD' | translate}}
                                td(style='width:25%')
                                    text(ng-if='!vm.configTableEdit') {{ vm.playerLevelPeriod.levelDownPeriodName | translate }}
                                    select.form-control(style='width:30%;margin:auto' ng-change='vm.playerLevelPeriod.levelDownPeriodName = vm.getPlayerLevelUpPeriodName(vm.playerLevelPeriod.playerLevelDownPeriod); vm.changeLevelPeriodAllField()'
                                    ng-if='vm.configTableEdit', ng-model='vm.playerLevelPeriod.playerLevelDownPeriod', ng-options='v as i | translate for (i,v) in vm.allPlayerLevelUpPeriod', required)

                    br
                    br
                    div(ng-if='vm.allGameTypes' style="margin-bottom:5px")
                        form(name="formPlatformConfigPlayerLevel")
                            table.common-table.playerLvlTable.stronger-top.stronger-bottom(style='width:auto;min-width:99.9%')
                                mixin playerLevelConfigHeader
                                    tr
                                        th(rowspan='2', ng-if='vm.configTableEdit')
                                        th(rowspan='2') {{"LEVEL" | translate}}
                                        th(rowspan='2') {{"VALUE" | translate}}
                                        th(rowspan='2', ng-if='vm.configTableEdit')
                                        th(colspan='2') {{"TOP_UP" | translate}}
                                        th(colspan='2') {{"CONSUMPTION" |  translate}}
                                        //th(colspan='{{vm.allGameTypeslength}}') {{"CONSUMPTION" | translate}}
                                        th(rowspan='2') {{'ALL_CONDITIONS_MUST_MATCH_SHORT' | translate}}
                                        th(rowspan='2', ng-if='vm.configTableEdit')
                                        th(colspan='4') {{"REWARD" | translate}}
                                        th(rowspan='2', ng-if='vm.configTableEdit')
                                    tr
                                        th {{'Limit' | translate}}
                                        th {{'PERIOD' | translate}}
                                        th {{'Limit' | translate}}
                                        th {{'PERIOD' | translate}}
                                        th {{'CREDIT' | translate}}
                                        th {{'Lock Provider Group' | translate}}
                                        th {{'FREE_TRIAL_SPENDING_TIMES' | translate}}
                                        th {{'ApplyConsumptionReturn' | translate}}
                                        //th(ng-repeat='(key,title) in vm.allGameTypes', ng-click='vm.playerTableShowCol[key]=!vm.playerTableShowCol[key]')
                                            .fa.fa-plus(ng-if='vm.playerTableShowCol[key]')
                                            text(ng-if='!vm.playerTableShowCol[key]') {{title | translate}}
                                thead
                                    +playerLevelConfigHeader

                                tbody(ng-repeat='(i,level) in vm.allPlayerLvl')
                                    tr.stronger-top
                                        td(ng-if='vm.configTableEdit', rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            div
                                                text(ng-if='i === 0') &nbsp;
                                                a.fa.fa-arrow-circle-up(ng-click='vm.movePlayerLevel(i, -1)', title='{{"REDUCE_THIS_PLAYER_LEVEL" | translate}}', ng-if='i > 0')
                                            div
                                                a.fa.fa-arrow-circle-down(ng-click='vm.movePlayerLevel(i, +1)', title='{{"INCREASE_THIS_PLAYER_LEVEL" | translate}}', ng-if='i < vm.allPlayerLvl.length - 1')
                                                text(ng-if='i >= vm.allPlayerLvl.length - 1') &nbsp;
                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            input.form-control(ng-if='vm.configTableEdit', type='text', ng-model='level.name', required)
                                            text(ng-if='!vm.configTableEdit') {{level.name | translate}}
                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}', align="center")
                                            text(style="width: 60px") {{level.value}}
                                        td.static(colspan='{{vm.configTableEdit ? 7 : 5}}')
                                            text {{"Level Up Conditions" | translate}}
                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            input.form-control(ng-show='vm.configTableEdit', type='number', ng-model='level.reward.bonusCredit')
                                            text(ng-show='!vm.configTableEdit') {{level.reward.bonusCredit | number}}
                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            div(ng-if='vm.selectedPlatform.data.useProviderGroup')
                                                select(ng-show='vm.configTableEdit', ng-model='level.reward.providerGroup')
                                                    option(value='free') {{"LOCAL_CREDIT"|translate}}
                                                    option(ng-repeat="(groupId, groupName) in vm.gameProviderGroupNames", value='{{groupId}}') {{groupName}}
                                                text(ng-show='!vm.configTableEdit') {{vm.gameProviderGroupNames[level.reward.providerGroup] || ("LOCAL_CREDIT" | translate)}}

                                            div(ng-if='!vm.selectedPlatform.data.useProviderGroup')
                                                text {{"LOCAL_CREDIT" | translate}}
                                            //input(ng-show='vm.configTableEdit', type='checkbox', ng-model='level.reward.isRewardTask')
                                            //i.fa.fa-square-o(ng-show='!vm.configTableEdit && !level.reward.isRewardTask')
                                            //i.fa.fa-check-square-o(ng-show='!vm.configTableEdit && level.reward.isRewardTask')
                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            input(ng-show='vm.configTableEdit', type='number', style='width:100px', ng-model='level.reward.requiredUnlockTimes', ng-change='vm.playerLevelChangeIsRewardTask(level)')
                                            text(ng-show='!vm.configTableEdit') {{level.reward.requiredUnlockTimes | number}}
                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            input(ng-show='vm.configTableEdit', type='checkbox', ng-model='level.canApplyConsumptionReturn')
                                            i.fa.fa-square-o(ng-show='!vm.configTableEdit && !level.canApplyConsumptionReturn')
                                            i.fa.fa-check-square-o(ng-show='!vm.configTableEdit && level.canApplyConsumptionReturn')
                                        td(ng-if='vm.configTableEdit', rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            a.fa.fa-trash(ng-click='vm.configTableDeleteLevelConfirm("player", level)', title='{{"DELETE_THIS_PLAYER_LEVEL" | translate}}')

                                    tr(ng-repeat='(j,oneConfig) in level.levelUpConfig')
                                        td(ng-if='vm.configTableEdit && j == 0', rowspan='{{level.levelUpConfig.length}}')
                                            a.fa.fa-plus-circle(ng-click='level.levelUpConfig.push({andConditions: true})', title='{{"ADD_NEW_LEVEL_UP_CONDITION" | translate}}')
                                        td(ng-style="{borderLeft: vm.configTableEdit ? '0px' : ''}")
                                            input.form-control(ng-if='vm.configTableEdit', type='number', min='0', ng-model='oneConfig.topupLimit', required)
                                            text(ng-if='!vm.configTableEdit') {{oneConfig.topupLimit | number : 2}}
                                        td
                                            text {{"LEVEL"+oneConfig.topupPeriod | translate}}
                                            //select.form-control(ng-if='vm.configTableEdit', ng-model='oneConfig.topupPeriod', required)
                                            //    option(ng-repeat='(i,j) in vm.playerLvlPeriod', value='{{j}}') {{"LEVEL"+i | translate}}
                                        td
                                            input.form-control(ng-if='vm.configTableEdit', type='number', min='0', ng-model='oneConfig.consumptionLimit', required)
                                            text(ng-if='!vm.configTableEdit') {{oneConfig.consumptionLimit | number : 2}}
                                        td
                                            text {{"LEVEL"+oneConfig.consumptionPeriod | translate}}
                                            //select.form-control(ng-if='vm.configTableEdit', ng-model='oneConfig.consumptionPeriod', required)
                                            //    option(ng-repeat='(i,j) in vm.playerLvlPeriod', value='{{j}}') {{"LEVEL"+i | translate}}
                                        td
                                            input(type='checkbox', ng-model='oneConfig.andConditions', ng-disabled='!vm.configTableEdit')
                                        td(ng-if='vm.configTableEdit')
                                            a.fa.fa-times-circle(ng-if='level.levelUpConfig.length > 1', ng-click='level.levelUpConfig.splice(j,1)', title='{{"REMOVE_THIS_LEVEL_UP_CONDITION" | translate}}')

                                    tr
                                        td.static(colspan='{{vm.configTableEdit ? 7 : 5}}', ng-class='{hidden: i === 0}')
                                            text {{"Level Down Conditions" | translate}}
                                    tr(ng-repeat='(j,oneConfig) in level.levelDownConfig', ng-class='{hidden: i === 0}')
                                        td(ng-if='vm.configTableEdit && j == 0', rowspan='{{level.levelDownConfig.length}}')
                                            //a.fa.fa-plus-circle(ng-click='level.levelDownConfig.push({})', title='{{"ADD_NEW_LEVEL_UP_CONDITION" | translate}}')
                                        td(ng-style="{borderLeft: vm.configTableEdit ? '0px' : ''}")
                                            //input.form-control(ng-if='vm.configTableEdit', type='number', min='0', ng-model='oneConfig.topupMinimum', ng-change="vm.playerLvlDownChange(i,j,'topupMinimum')", required)
                                            input.form-control(ng-if='vm.configTableEdit', type='number', min='0', ng-model='oneConfig.topupMinimum', required)
                                            text(ng-if='!vm.configTableEdit') {{oneConfig.topupMinimum | number : 2}}
                                        td
                                            text {{"LEVEL"+oneConfig.topupPeriod | translate}}
                                            //select.form-control(ng-if='vm.configTableEdit', ng-model='oneConfig.topupPeriod', ng-disabled="oneConfig.consumptionMinimum", required)
                                            //select.form-control(ng-if='vm.configTableEdit', ng-model='oneConfig.topupPeriod', required)
                                            //    option(ng-repeat='(i,j) in vm.playerLvlPeriod', ng-if='oneConfig.topupMinimum && j!=="NONE"', value='{{j}}') {{"LEVEL"+i | translate}}
                                        td
                                            //input.form-control(ng-if='vm.configTableEdit', type='number', min='0', ng-model='oneConfig.consumptionMinimum', ng-change="vm.playerLvlDownChange(i,j,'consumptionMinimum')", required)
                                            input.form-control(ng-if='vm.configTableEdit', type='number', min='0', ng-model='oneConfig.consumptionMinimum', required)
                                            text(ng-if='!vm.configTableEdit') {{oneConfig.consumptionMinimum | number : 2}}
                                        td
                                            text {{"LEVEL"+oneConfig.consumptionPeriod | translate}}
                                            //select.form-control(ng-if='vm.configTableEdit', ng-model='oneConfig.consumptionPeriod', ng-disabled="oneConfig.topupMinimum", required)
                                            //select.form-control(ng-if='vm.configTableEdit', ng-model='oneConfig.consumptionPeriod', required)
                                            //    option(ng-repeat='(i,j) in vm.playerLvlPeriod', ng-if='oneConfig.consumptionMinimum && j!=="NONE"', value='{{j}}') {{"LEVEL"+i | translate}}
                                        //- TAG_MIX_PERIOD_OR_TOO_COMPLEX
                                        td(ng-class='{warning: vm.levelDownConditionIsTooComplex(oneConfig)}', title='{{vm.levelDownConditionIsTooComplex(oneConfig) ? "OR operation with daily and weekly requirements is not currently supported" : "" | translate}}')
                                            input(type='checkbox', ng-model='oneConfig.andConditions', ng-disabled='!vm.configTableEdit')
                                        td(ng-if='vm.configTableEdit')
                                            a.fa.fa-times-circle(ng-if='level.levelDownConfig.length > 1', ng-click='level.levelDownConfig.splice(j,1)', title='{{"REMOVE_THIS_LEVEL_DOWN_CONDITION" | translate}}')

                                tbody(ng-if='vm.configTableAdd')
                                    tr.stronger-top
                                        td(colspan='10')
                                            text &nbsp;
                                thead(ng-if='vm.configTableAdd')
                                    tr.stronger-top.stronger-bottom
                                        td.static(colspan='10')
                                            label {{"createPlayerLevel" | translate}}
                                    +playerLevelConfigHeader
                                tbody(ng-if='vm.configTableAdd')
                                    tr.stronger-top
                                        td(rowspan='4')
                                            input#newPlayerLevelFirstInput.form-control(type='text', ng-model='vm.newPlayerLvl.name', placeholder="{{'NAME' | translate}}", required)
                                        td(rowspan='4')
                                            input.form-control(type='number', min='0', ng-model='vm.newPlayerLvl.value', required, disabled)
                                        td.static(colspan='5')
                                            text {{"Level Up Conditions" | translate}}
                                        td(rowspan='4')
                                            input.form-control(type='number', min=0, ng-model='vm.newPlayerLvl.reward.bonusCredit', required)
                                        td(rowspan='4')
                                            //input(type='checkbox', ng-model='vm.newPlayerLvl.reward.isRewardTask', required)
                                            div(ng-if='vm.selectedPlatform.data.useProviderGroup')
                                                select(ng-model='vm.newPlayerLvl.reward.providerGroup')
                                                    option(value='free') {{"LOCAL_CREDIT"|translate}}
                                                    option(ng-repeat="(groupId, groupName) in vm.gameProviderGroupNames", value='{{groupId}}') {{groupName}}

                                            div(ng-if='!vm.selectedPlatform.data.useProviderGroup')
                                                text {{"LOCAL_CREDIT" | translate}}
                                        td(rowspan='4')
                                            input.form-control(type='number', ng-model='vm.newPlayerLvl.reward.requiredUnlockTimes')
                                    tr
                                        td
                                            input.form-control(type='number', min='0', ng-model='vm.newPlayerLvl.levelUpConfig[0].topupLimit', required)
                                        td
                                            text {{vm.newPlayerLvl.levelUpConfig[0].topupPeriod | translate}}
                                            //select.form-control(ng-model='vm.newPlayerLvl.levelUpConfig[0].topupPeriod', required)
                                            //    option(ng-repeat='(i,j) in vm.playerLvlPeriod', value='{{j}}') {{"LEVEL"+i | translate}}
                                        td
                                            input.form-control(type='number', min='0', ng-model='vm.newPlayerLvl.levelUpConfig[0].consumptionLimit', required)
                                        td
                                            text {{vm.newPlayerLvl.levelUpConfig[0].consumptionPeriod | translate}}
                                            //select.form-control(ng-model='vm.newPlayerLvl.levelUpConfig[0].consumptionPeriod', required)
                                            //    option(ng-repeat='(i,j) in vm.playerLvlPeriod', value='{{j}}') {{"LEVEL"+i | translate}}
                                        td
                                            input(type='checkbox', ng-model='vm.newPlayerLvl.levelUpConfig[0].andConditions')
                                        //td(ng-repeat='(key,title) in vm.allGameTypes')
                                            input.form-control(type='number', ng-model='vm.newPlayerLvl.consumption[key]')
                                        //td
                                            text {{level.reward}}
                                        //-td
                                    tr
                                        td.static(colspan='5')
                                            text {{"Level Down Conditions" | translate}}
                                    tr
                                        td
                                            //input.form-control(type='number', min='0', ng-model='vm.newPlayerLvl.levelDownConfig[0].topupMinimum', ng-change="vm.playerLvlDownChange(-1,j,'topupMinimum')", required)
                                            input.form-control(type='number', min='0', ng-model='vm.newPlayerLvl.levelDownConfig[0].topupMinimum', required)
                                        td
                                            //select.form-control(ng-model='vm.newPlayerLvl.levelDownConfig[0].topupPeriod',ng-disabled="vm.newPlayerLvl.levelDownConfig[0].consumptionMinimum", required)
                                            text {{vm.newPlayerLvl.levelDownConfig[0].topupPeriod | translate}}
                                            //select.form-control(ng-model='vm.newPlayerLvl.levelDownConfig[0].topupPeriod', required)
                                            //    option(ng-repeat='(i,j) in vm.playerLvlPeriod', ng-if='vm.newPlayerLvl.levelDownConfig[0].topupMinimum && i!=="NONE"', value='{{j}}') {{"LEVEL"+i | translate}}
                                        td
                                            //input.form-control(type='number', min='0', ng-model='vm.newPlayerLvl.levelDownConfig[0].consumptionMinimum', ng-change="vm.playerLvlDownChange(-1,j,'consumptionMinimum')", required)
                                            input.form-control(type='number', min='0', ng-model='vm.newPlayerLvl.levelDownConfig[0].consumptionMinimum', required)
                                        td
                                            //select.form-control(ng-model='vm.newPlayerLvl.levelDownConfig[0].consumptionPeriod',ng-disabled="vm.newPlayerLvl.levelDownConfig[0].topupMinimum", required)
                                            text {{vm.newPlayerLvl.levelDownConfig[0].consumptionPeriod | translate}}
                                            //select.form-control(ng-model='vm.newPlayerLvl.levelDownConfig[0].consumptionPeriod', required)
                                            //    option(ng-repeat='(i,j) in vm.playerLvlPeriod', ng-if='vm.newPlayerLvl.levelDownConfig[0].consumptionMinimum && i!=="NONE"',value='{{j}}') {{"LEVEL"+i | translate}}
                                        td
                                            input(type='checkbox', ng-model='vm.newPlayerLvl.levelDownConfig[0].andConditions')
                    .pull-right
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && !vm.configTableAdd && checkViewPermission('Platform', 'Config', 'PlayerLevelCreate')", ng-click='vm.configTableAdd=true; vm.initNewPlayerLvl(); vm.focusNewPlayerLevelUI();')
                            text {{'ADD_LEVEL' | translate}}
                            img.img-create
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && !vm.configTableAdd && checkViewPermission('Platform', 'Config', 'PlayerLevelUpdate')", ng-click='vm.configStartEdit("player")')
                            text {{'EDIT' | translate}}
                            img.img-edit
                        button.btn.btn-danger.common-button(ng-if='vm.configTableEdit || vm.configTableAdd', ng-click='vm.configCancelEditOrAdd("player")')
                            text {{"CANCEL" | translate}}
                            .fa.fa-ban
                        button.btn.btn-primary.common-button(ng-if="vm.configTableAdd", ng-disabled='formPlatformConfigPlayerLevel.$invalid || !vm.configAddPlayerLevelValid()', ng-click='vm.configTableAdd=false; vm.submitAddPlayerLvl()')
                            text {{"SUBMIT" | translate}}
                            .fa.fa-check
                        button.btn.btn-primary.common-button(ng-if="vm.configTableEdit", ng-disabled='formPlatformConfigPlayerLevel.$invalid || !vm.configPlayerLevelTableIsValid()', ng-click='vm.configTableEdit=false; vm.configSubmitUpdate("player")')
                            text {{"CONFIRM" | translate}}
                            .fa.fa-check

                div(ng-if='vm.selectedConfigTab=="partner"')
                    div(ng-if='vm.allGameTypes' style="margin-bottom:5px")
                        table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                            thead
                                tr
                                    th {{"PARTNER" | translate}}
                                    th.narrowTableCol {{'VALUE' | translate}}
                                    th.narrowTableCol {{"NO_OF_RECOMMANDATION" | translate}}
                                    th.narrowTableCol {{"DEMOTION_PERIOD" | translate}}
                                    th.narrowTableCol {{"CONSUMPTION_AMOUNT" | translate}}
                                    th.narrowTableCol {{"CONSUMPTION_RETURN" | translate}}
                            tbody
                                tr(ng-repeat='(key,partner) in vm.allPartner')
                                    td
                                        text {{partner.name | translate}}
                                    td
                                        input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.allPartner[key].value')
                                        text(ng-if='!vm.configTableEdit') {{partner.value}}
                                    td
                                        input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.allPartner[key].limitPlayers')
                                        text(ng-if='!vm.configTableEdit') {{partner.limitPlayers}}
                                    td
                                        input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.allPartner[key].demoteWeeks')
                                        text(ng-if='!vm.configTableEdit') {{partner.demoteWeeks}}
                                    td
                                        input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.allPartner[key].consumptionAmount')
                                        text(ng-if='!vm.configTableEdit') {{partner.consumptionAmount}}
                                    td
                                        input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.allPartner[key].consumptionReturn')
                                        text(ng-if='!vm.configTableEdit') {{partner.consumptionReturn}}
                                tr(ng-if='vm.configTableAdd')
                                    td
                                        input(type='text' , ng-model='vm.newPartnerLvl.name')
                                    td
                                        input(type='number', min='0' , ng-model='vm.newPartnerLvl.value')
                                    td
                                        input(type='number', min='0' , ng-model='vm.newPartnerLvl.limitPlayers')
                                    td
                                        input(type='number', min='0' , ng-model='vm.newPartnerLvl.demoteWeeks')
                                    td
                                        input(type='number', min='0' , ng-model='vm.newPartnerLvl.consumptionAmount')
                                    td
                                        input(type='number', min='0' , ng-model='vm.newPartnerLvl.consumptionReturn')
                    .pull-right
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && !vm.configTableAdd && checkViewPermission('Platform', 'Config', 'PartnerLevelCreate')", ng-click='vm.configTableAdd=!vm.configTableAdd;vm.newPartnerLvl={};')
                            text {{'ADD_LEVEL' | translate}}
                            img.img-create
                        button.btn.btn-primary.common-button(ng-if='vm.configTableAdd', ng-click='vm.configTableAdd=!vm.configTableAdd;vm.submitAddPartnerLvl()') {{"SUBMIT" | translate}}
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && !vm.configTableAdd && checkViewPermission('Platform', 'Config', 'PartnerLevelUpdate')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                            text {{'EDIT' | translate}}
                            img.img-edit
                        button.btn.btn-danger.common-button(ng-if='vm.configTableEdit || vm.configTableAdd', ng-click='vm.configTableEdit=false;vm.configTableAdd=false') {{"CANCEL" | translate}}
                        button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("partner")') {{"CONFIRM" | translate}}

                div(ng-if='vm.selectedConfigTab=="trust"')
                    div(ng-if='vm.allGameTypes' style="margin-bottom:5px")
                        table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                            thead
                                tr
                                    th {{'NAME' | translate}}
                                    th {{'VALUE' | translate}}
                            tbody
                                tr(ng-repeat='(i,v) in vm.allPlayerTrustLvl')
                                    td {{v.name}}
                                    td {{v.value}}
                    .pull-right
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'Trust')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                            text {{'EDIT' | translate}}
                            img.img-edit
                        button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;') {{"CANCEL" | translate}}
                        button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("trust")') {{"CONFIRM" | translate}}

                div(ng-if='vm.selectedConfigTab=="validActive"')
                    div(ng-if='vm.allGameTypes' style="margin-bottom:5px")
                        form(name="formValidActivePlayer", novalidate)
                            table.simple-table.validActiveTable(style='width:auto;min-width:99.9%')
                                thead
                                    tr
                                        th {{'MIN_REQUIREMENT' | translate}}
                                        th {{'TOP_UP_TIMES' | translate}}
                                        th {{'TOP_UP_AMOUNT' | translate}}
                                        th {{'CONSUMPTION' | translate}}
                                tbody
                                    tr
                                        td {{'ACTIVE_PLAYER' | translate}}
                                        td
                                            text(ng-if='!vm.configTableEdit') {{vm.partnerLevelConfig.activePlayerTopUpTimes}}
                                            input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.partnerLevelConfigEdit.activePlayerTopUpTimes')
                                        td
                                            text(ng-if='!vm.configTableEdit') {{vm.partnerLevelConfig.activePlayerTopUpAmount}}
                                            input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.partnerLevelConfigEdit.activePlayerTopUpAmount')
                                        td
                                            text(ng-if='!vm.configTableEdit') {{vm.partnerLevelConfig.activePlayerConsumptionTimes}}
                                            input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.partnerLevelConfigEdit.activePlayerConsumptionTimes')
                                    tr
                                        td {{'VALID_PLAYER' | translate}}
                                        td
                                            text(ng-if='!vm.configTableEdit') {{vm.partnerLevelConfig.validPlayerTopUpTimes}}
                                            input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.partnerLevelConfigEdit.validPlayerTopUpTimes')
                                        td
                                            text(ng-if='!vm.configTableEdit') {{vm.partnerLevelConfig.validPlayerTopUpAmount}}
                                            input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.partnerLevelConfigEdit.validPlayerTopUpAmount')
                                        td
                                            text(ng-if='!vm.configTableEdit') {{vm.partnerLevelConfig.validPlayerConsumptionTimes}}
                                            input(ng-if='vm.configTableEdit', type='number', min='0' , ng-model='vm.partnerLevelConfigEdit.validPlayerConsumptionTimes')
                    .pull-right
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'ValidActiveUpdate')", ng-click='vm.configTableEdit=!vm.configTableEdit;vm.partnerLevelConfigEdit=vm.partnerLevelConfig')
                            text {{'EDIT' | translate}}
                            img.img-edit
                        button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;') {{"CANCEL" | translate}}
                        button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-disabled="formValidActivePlayer.$invalid", ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("validActive")') {{"CONFIRM" | translate}}

                div(ng-if='vm.selectedConfigTab=="partnerCommission"')
                    form(name="formPartnerCommission", novalidate)
                        .col-md-12(ng-if='vm.partnerCommission.showConfig')
                            h4 {{"Foundation Config" | translate}}
                            table.common-table.paddingTbl(style='width:100%')
                                thead
                                    tr
                                        th(rowspan=2) {{'platformFeeRate' | translate}}
                                        th(rowspan=2) {{'serviceFeeRate' | translate}}
                                        th(rowspan=2) {{'rewardRate' | translate}}
                                        th(rowspan=2) {{'Settlement Period' | translate}}
                                        th(rowspan=2) {{'minCommissionAmount' | translate}}
                                        th(rowspan=2) {{'resetPeriod' | translate}}
                                        th(colspan=2) {{'Historical Bonus' | translate}}
                                    tr
                                        th {{'CommissionHistoryTimes' | translate}}
                                        th {{'RATIO' | translate}}
                                tbody
                                    tr(ng-if='vm.partnerCommission.isEditing')
                                        td
                                            span.percentage
                                                input.form-control(percentage, style='min-width:80px;display:inline-block', ng-model='vm.partnerCommission.showConfig.platformFeeRate')
                                        td
                                            span.percentage
                                                input.form-control(percentage, style='min-width:80px;display:inline-block', ng-model='vm.partnerCommission.showConfig.serviceFeeRate')
                                        td
                                            span.percentage
                                                input.form-control(percentage, style='min-width:80px;display:inline-block', ng-model='vm.partnerCommission.showConfig.rewardRate')
                                        td
                                            select.form-control(ng-model='vm.partnerCommission.showConfig.commissionPeriod', required， ng-options='a as a | translate for (a,b) in vm.partnerCommissionPeriodConst')
                                        td
                                            input.form-control(type='number', ng-model='vm.partnerCommission.showConfig.minCommissionAmount')
                                        td
                                            input.form-control(type='number', min="0" step="1", ng-model='vm.partnerCommission.showConfig.resetPeriod',ng-pattern="/^[0-9]+$/")
                                        td
                                            input.form-control(type='number', ng-model='vm.partnerCommission.showConfig.bonusCommissionHistoryTimes')
                                        td
                                            span.percentage
                                                input.form-control(percentage, style='min-width:80px;display:inline-block', ng-model='vm.partnerCommission.showConfig.bonusRate')
                                    tr(ng-if='!vm.partnerCommission.isEditing')
                                        td
                                            span.percentage
                                                input.form-control(disabled, style='min-width:80px;display:inline-block', percentage, ng-model='vm.partnerCommission.showConfig.platformFeeRate')
                                        td
                                            span.percentage
                                                input.form-control(disabled, style='min-width:80px;display:inline-block', percentage, ng-model='vm.partnerCommission.showConfig.serviceFeeRate')
                                        td
                                            span.percentage
                                                input.form-control(disabled, style='min-width:80px;display:inline-block', percentage, ng-model='vm.partnerCommission.showConfig.rewardRate')
                                        td
                                            label.form-control(disabled) {{vm.partnerCommission.showConfig.commissionPeriod | translate}}
                                        td
                                            label.form-control(disabled) {{vm.partnerCommission.showConfig.minCommissionAmount}}
                                        td
                                            label.form-control(disabled) {{vm.partnerCommission.showConfig.resetPeriod}}
                                        td
                                            label.form-control(disabled) {{vm.partnerCommission.showConfig.bonusCommissionHistoryTimes}}
                                        td
                                            span.percentage
                                                input.form-control(disabled, style='min-width:80px;display:inline-block', percentage, ng-model='vm.partnerCommission.showConfig.bonusRate')
                        .col-md-12(ng-if='vm.partnerCommission.showConfig')
                            h4 {{'commissionLevelConfig' | translate}}
                            table.common-table.paddingTbl.border-cell
                                thead
                                    tr
                                        th(rowspan=2) {{'VALUE' | translate}}
                                        th(colspan=2) {{'Profit Amount' | translate}}
                                        th(rowspan=2) {{'Min Active Player' | translate}}
                                        th(rowspan=2) {{'Commission Rate' | translate}}
                                        th(rowspan=2, ng-if='vm.partnerCommission.isEditing') {{'Delete' | translate}}
                                    tr
                                        th {{'Qty_Min' | translate}}
                                        th {{'Qty_Max' | translate}}
                                thead
                                    tr(ng-if='!vm.partnerCommission.isEditing', ng-repeat='(i,v) in vm.partnerCommission.showConfig.commissionLevelConfig')
                                        td {{v.value}}
                                        td {{v.minProfitAmount}}
                                        td {{v.maxProfitAmount}}
                                        td {{v.minActivePlayer}}
                                        td
                                            .percentage
                                                input.form-control.inlineBlk(percentage, disabled, ng-model='v.commissionRate')
                                    tr(ng-if='vm.partnerCommission.isEditing', ng-repeat='(i,v) in vm.partnerCommission.showConfig.commissionLevelConfig')
                                        td {{vm.setValue(v,'value',i+1)}}
                                        td
                                            input.form-control(type='number', min=0, ng-model='v.minProfitAmount')
                                        td
                                            input.form-control(type='number', min=0, ng-model='v.maxProfitAmount')
                                        td
                                            input.form-control(type='number', min=0, ng-model='v.minActivePlayer')
                                        td
                                            .percentage
                                                input.form-control.inlineBlk(type='number', percentage, min=0, ng-model='v.commissionRate')
                                        td
                                            a.fa.fa-times-circle.text-danger(ng-click='vm.removePartnerCommissionLevel("commissionLevelConfig","value",v)')
                            button.btn.btn-info.margin-top-5(ng-if='vm.partnerCommission.isEditing', ng-click='vm.addCommissionLevel("commissionLevelConfig")') {{'ADD_LEVEL' | translate}}
                        .col-md-12(ng-if='vm.partnerCommission.showConfig')
                            h4 {{'childrenCommissionRate' | translate}}
                            table.common-table.paddingTbl.border-cell
                                tbody
                                    tr
                                        td(style='max-width:80px') {{"LEVEL" | translate}}
                                        td(ng-if='vm.partnerCommission.showConfig.childrenCommissionRate.length==0') {{'NULL' | translate}}
                                        td(ng-repeat='(i,v) in vm.partnerCommission.showConfig.childrenCommissionRate')
                                            text {{vm.setValue(v,'level',i+1)}}
                                    tr(ng-if='!vm.partnerCommission.isEditing')
                                        td(style='max-width:80px') {{"RATIO" | translate}}
                                        td(ng-if='vm.partnerCommission.showConfig.childrenCommissionRate.length==0') {{'NULL' | translate}}
                                        td(ng-repeat='(i,v) in vm.partnerCommission.showConfig.childrenCommissionRate')
                                            span.percentage
                                                input.inlineBlk.form-control(type='number', disabled, percentage, style='max-width:60px', ng-model='v.rate')
                                    tr(ng-if='vm.partnerCommission.isEditing')
                                        td(style='max-width:80px') {{"RATIO" | translate}}
                                        td(ng-if='vm.partnerCommission.showConfig.childrenCommissionRate.length==0') {{'NULL' | translate}}
                                        td(ng-repeat='(i,v) in vm.partnerCommission.showConfig.childrenCommissionRate')
                                            span.percentage.form-control-sm
                                                input.inlineBlk.form-control(type='number', percentage, style='max-width:60px', ng-model='v.rate')
                                    tr(ng-if='vm.partnerCommission.isEditing && vm.partnerCommission.showConfig.childrenCommissionRate.length>0')
                                        td {{'Delete' | translate}}
                                        td(ng-repeat='(i,v) in vm.partnerCommission.showConfig.childrenCommissionRate')
                                            a.fa.fa-times-circle.text-danger(ng-click='vm.removePartnerCommissionLevel("childrenCommissionRate","level",v)')
                            button.btn.btn-info.margin-top-5(ng-if='vm.partnerCommission.isEditing', ng-click='vm.addCommissionLevel("childrenCommissionRate")') {{'ADD_LEVEL' | translate}}
                        .col-md-12(ng-if='vm.partnerCommission.showConfig')
                            h4 {{'PARTNER_COMMISSION_SETTLEMENT_MODE' | translate}}
                            label.form-control(ng-if='!vm.partnerCommission.isEditing', disabled) {{vm.partnerCommissionSettlementModeConst[vm.partnerCommission.showConfig.settlementMode] | translate}}
                            select.form-control(ng-if='vm.partnerCommission.isEditing', ng-model='vm.partnerCommission.showConfig.settlementMode', ng-options='i as v | translate for (i,v) in vm.partnerCommissionSettlementModeConst', required)
                        .col-md-12.margin-top-10(ng-if='vm.partnerCommission.showConfig')
                            .pull-right
                                button.btn.btn-primary.margin-right-5(ng-if='!vm.partnerCommission.isEditing', ng-click='vm.partnerCommission.isEditing=true') {{'Edit' | translate}}
                                button.btn.btn-info.margin-right-5(ng-if='vm.partnerCommission.isEditing', ng-click='vm.submitUpdatePartnerCommision()', ng-disabled="formPartnerCommission.$invalid") {{'SUBMIT' | translate}}
                                button.btn.btn-warning.margin-right-5(ng-if='vm.partnerCommission.isEditing', ng-click='vm.partnerCommission.isEditing=false;vm.partnerCommission.showConfig=vm.partnerCommission.srcConfig') {{'CANCEL' | translate}}
                        .col-md-12(ng-if='vm.partnerCommission.showConfig===false')
                            h4 {{'This platform has no commission config. Create one?' | translate}}
                            button.btn.btn-success.margin-left-5(ng-click='vm.addPartnerCommissionConfig()') {{'Create' | translate}}
                        .col-md-12(ng-if='vm.partnerCommission.loading')
                            h4.blink {{'Loading' | translate}}...

                div(ng-if='vm.selectedConfigTab=="platformBasic"')
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'NAME' | translate}}
                                th {{'VALUE' | translate}}
                        tbody
                            tr
                                td {{'playerNameMaxLength' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.platformBasic.playerNameMaxLength}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.platformBasic.playerNameMaxLength')
                            tr
                                td {{'playerNameMinLength' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.platformBasic.playerNameMinLength}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.platformBasic.playerNameMinLength')
                            tr
                                td {{'minTopUpAmount' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.platformBasic.showMinTopupAmount}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.platformBasic.showMinTopupAmount')
                            tr
                                td {{'allowSameRealNameToRegister' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.showAllowSameRealNameToRegister', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'allowSamePhoneNumberToRegister' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.showAllowSamePhoneNumberToRegister', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'samePhoneNumberRegisterCount' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.platformBasic.samePhoneNumberRegisterCount}}
                                    input(type='number', ng-show='vm.configTableEdit && vm.platformBasic.showAllowSamePhoneNumberToRegister', min=1, ng-model='vm.platformBasic.samePhoneNumberRegisterCount')
                            tr
                                td {{'Whitelisting Phone Number' | translate}}
                                td
                                    textarea(ng-model='vm.platformBasic.whiteListingPhoneNumbers$', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'PLAYER_MULTIPLE_REWARD' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.canMultiReward', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'SMS_VERIFICATION' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.requireSMSVerification', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'SMS_VERIFICATION_FOR_PASSWORD_UPDATE' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.requireSMSVerificationForPasswordUpdate', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'SMS_VERIFICATION_FOR_PAYMENT_UPDATE' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.requireSMSVerificationForPaymentUpdate', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'SMS_EXPIRED_TIME' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.platformBasic.smsVerificationExpireTime}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.platformBasic.smsVerificationExpireTime')
                            tr
                                td {{'CAPTCHA_VERIFICATION_FOR_LOGIN' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.requireLogInCaptcha', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'CAPTCHA_VERIFICATION_FOR_SMS' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.requireCaptchaInSMS', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'ONLY_NEW_USER_CAN_LOGIN' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.onlyNewCanLogin', ng-disabled='!vm.configTableEdit')
                            //tr
                            //    td {{'USE_LOCK_CREDIT' | translate}}
                            //    td
                            //        input(type='checkbox', ng-model='vm.platformBasic.useLockedCredit', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'Use Provider Group' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.useProviderGroup', ng-disabled='!vm.configTableEdit', ng-change='vm.showUnlockProviderModal()')
                            tr
                                td {{'Use Point System' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.usePointSystem', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'Use Phone Number Two Steps Verification' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.platformBasic.usePhoneNumberTwoStepsVerification', ng-disabled='!vm.configTableEdit')

                            br
                    button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'platformBasic')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                        text {{'EDIT' | translate}}
                        img.img-edit
                    button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("platformBasic")') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("platformBasic")') {{"CONFIRM" | translate}}

                    /// start of 投注记录收录报告

                    br
                    br
                    <label class="ng-binding">投注记录收录报告</label>
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th(width="40%") {{'Provider Delay Duration' | translate}}
                                th(width="40%") {{'COLOR_CODE' | translate}}
                                th(width="20%") {{'INLINE_EDIT' | translate}}
                        tbody
                            // before edit enabled
                            tr(ng-repeat='config in vm.durationGroupConfig', ng-if='!vm.delayDurationGroupInlineEdit')
                                td(style="background-color:{{config.color}}", ng-click="vm.selectedDelayDurationGroup=config;") {{config.duration}}
                                td(style="background-color:{{config.color}}") {{config.color}}
                                td(style="background-color:{{config.color}}")
                                    button.btn.btn-primary.common-button(ng-click="vm.delayDurationGroupInlineEdit=true")
                                        i.fa.fa-pencil-square-o
                                        text {{'EDIT' | translate}}
                                    button.btn.btn-danger.common-button(ng-click=" vm.durationGroupConfig.splice($index, 1);vm.saveDelayDurationGroup();")
                                        i.fa.fa-trash
                                        text {{'DELETE' | translate}}
                            // after edit enabled
                            tr(ng-repeat='config in vm.durationGroupConfig', ng-if='vm.delayDurationGroupInlineEdit')
                                td(style="background-color:{{config.color}}", ng-click="vm.selectedDelayDurationGroup=config;")
                                    input.form-control(type="text", ng-model="config.duration")
                                td(style="background-color:{{config.color}}")
                                    input.form-control(colorpicker="rgb", type="text", ng-model="config.color")
                                td(style="background-color:{{config.color}}")
                                    button.btn.btn-success.common-button(ng-click="vm.delayDurationGroupInlineEdit=false; vm.saveDelayDurationGroup();")
                                        i.fa.fa-floppy-o
                                        text {{'SAVE' | translate}}
                                    button.btn.btn-danger.common-button(ng-click="vm.delayDurationGroupInlineEdit=false; vm.saveDelayDurationGroup();")
                                        i.fa.fa-times
                                        text {{'CANCEL' | translate}}
                            tr(ng-if='vm.delayDurationGroupEdit')
                                td(colspan="3")
                                    strong {{'Add Provider Delay Duration' | translate}}
                            tr(ng-if='vm.delayDurationGroupEdit')
                                td
                                    input(type='number' , ng-model='vm.newDelayDurationGroup.duration')
                                td
                                    input(colorpicker="rgb", style="background-color:{{vm.newDelayDurationGroup.color}}", type="text", ng-model="vm.newDelayDurationGroup.color")
                                td(colspan="2")
                                    i.fa.fa-plus(ng-click='vm.durationGroupConfig.push(vm.newDelayDurationGroup); vm.newDelayDurationGroup={};')
                    .pull-right
                        button.btn.btn-primary.common-button(ng-if="!vm.delayDurationGroupEdit", ng-click='vm.delayDurationGroupEdit=!vm.delayDurationGroupEdit')
                            text {{'EDIT' | translate}}
                            img.img-edit
                        button.btn.btn-danger.common-button(ng-if='vm.delayDurationGroupEdit', ng-click='vm.delayDurationGroupEdit=!vm.delayDurationGroupEdit;') {{"CANCEL" | translate}}
                        button.btn.btn-primary.common-button(ng-if='vm.delayDurationGroupEdit', ng-click='vm.delayDurationGroupEdit=!vm.delayDurationGroupEdit;vm.saveDelayDurationGroup()') {{"CONFIRM" | translate}}

                /// end of 投注记录收录报告
                div(ng-if='vm.selectedConfigTab=="partnerBasic"')
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'NAME' | translate}}
                                th {{'VALUE' | translate}}
                        tbody
                            tr
                                td {{'partnerNameMaxLength' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.partnerBasic.partnerNameMaxLength}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.partnerBasic.partnerNameMaxLength')
                            tr
                                td {{'partnerNameMinLength' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.partnerBasic.partnerNameMinLength}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.partnerBasic.partnerNameMinLength')
                            br
                    button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'platformBasic')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                        text {{'EDIT' | translate}}
                        img.img-edit
                    button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("partnerBasic")') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("partnerBasic")') {{"CONFIRM" | translate}}


                div(ng-if='vm.selectedConfigTab=="bonusBasic"')
                    //bonus basic

                    br
                    div(ng-if='vm.allGameTypes' style="margin-bottom:5px")
                        form(name="formPlatformConfigPlayerLevel")
                            table.common-table.playerLvlTable.stronger-top.stronger-bottom(style='width:auto;min-width:99.9%')
                                mixin playerLevelConfigHeader
                                    tr
                                        th(rowspan='2') {{"LEVEL" | translate}}
                                        th(colspan='2') {{"Bonus Basic" | translate}}
                                    tr
                                        th {{'Percentage Charge %' | translate}}
                                        th {{'Apply without charge' | translate}}

                                thead
                                    +playerLevelConfigHeader

                                tbody(ng-repeat='(i,level) in vm.bonusSetting')
                                    tr.stronger-top
                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            text {{level.value}} ({{level.name | translate}})
                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            div(style='display:inline-block')
                                                text(ng-show='!vm.configTableEdit') {{level.bonusPercentageCharges | number}}
                                            div(style='display:inline-block')
                                                input.form-control(ng-show='vm.configTableEdit', type='number', ng-model='level.bonusPercentageCharges')
                                            div(style='display:inline-block')
                                                span %

                                        td(rowspan='{{level.levelUpConfig.length + level.levelDownConfig.length + 2}}')
                                            input.form-control(ng-show='vm.configTableEdit', type='number', ng-model='level.bonusCharges')
                                            text(ng-show='!vm.configTableEdit') {{level.bonusCharges | number}}


                                tbody(ng-if='vm.configTableAdd')
                                    tr.stronger-top
                                        td(colspan='10')
                                            text &nbsp;

                            br
                            button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'bonusBasic')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                                text {{'EDIT' | translate}}
                                img.img-edit
                            button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("bonusBasic")') {{"CANCEL" | translate}}
                            button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("bonusBasic")') {{"CONFIRM" | translate}}

                div(ng-if='vm.selectedConfigTab=="autoApproval"')
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'NAME' | translate}}
                                th {{'VALUE' | translate}}
                        tbody
                            tr
                                td {{'Player Bonus Auto Approval' | translate}}
                                td
                                    input(type='checkbox', ng-model='vm.autoApprovalBasic.enableAutoApplyBonus', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'Auto Approval Retry Count' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.showAutoApproveRepeatCount}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.showAutoApproveRepeatCount')
                            tr
                                td {{'Auto Approval Interval' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.showAutoApproveRepeatDelay}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.showAutoApproveRepeatDelay')
                            tr
                                td {{'Single Withdrawal Limit' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.showAutoApproveWhenSingleBonusApplyLessThan}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.showAutoApproveWhenSingleBonusApplyLessThan')
                            tr
                                td {{'Single Day Withdrawal Limit' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.showAutoApproveWhenSingleDayTotalBonusApplyLessThan}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.showAutoApproveWhenSingleDayTotalBonusApplyLessThan')
                            tr
                                td {{'Lost Threshold' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.lostThreshold}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.lostThreshold')
                            tr
                                td {{'Consumption Offset' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.consumptionOffset}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.consumptionOffset')
                            tr
                                td {{'Profit Times' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.profitTimes}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.profitTimes')
                            tr
                                td {{'Profit Times Minimum Amount' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.profitTimesMinAmount}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.profitTimesMinAmount')
                            tr
                                td {{'Abnormal Profit Offset' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.autoApprovalBasic.bonusProfitOffset}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.autoApprovalBasic.bonusProfitOffset')
                    br
                    button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'autoApproval')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                        text {{'EDIT' | translate}}
                        img.img-edit
                    button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("autoApproval")') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("autoApproval")') {{"CONFIRM" | translate}}
                div(ng-if='vm.selectedConfigTab=="monitor"')
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'NAME' | translate}}
                                th {{'VALUE' | translate}}
                                th {{'SOUND_NOTIFICATION' | translate}}
                                th {{'SOUND_NOTIFICATION_CHOICE' | translate}}
                        tbody
                            tr
                                td {{'PAYMENT_MONITOR_MERCHANT_COLOR_CHANGE_COUNT' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.monitorBasic.monitorMerchantCount}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.monitorBasic.monitorMerchantCount')
                                td
                                    input(type='checkbox', ng-disabled="!vm.configTableEdit" ng-model='vm.monitorBasic.monitorMerchantUseSound')
                                td
                                    select.form-control(ng-disabled="!vm.configTableEdit", ng-model="vm.monitorBasic.monitorMerchantSoundChoice", required, ng-change="vm.testSound(vm.monitorBasic.monitorMerchantSoundChoice)")
                                        option(ng-repeat='(i,j) in vm.soundChoice', value='{{j}}') {{i}}
                            tr
                                td {{'PAYMENT_MONITOR_PLAYER_COLOR_CHANGE_COUNT' | translate}}
                                td
                                    text(ng-show='!vm.configTableEdit') {{vm.monitorBasic.monitorPlayerCount}}
                                    input(type='number', ng-show='vm.configTableEdit', min=0, ng-model='vm.monitorBasic.monitorPlayerCount')
                                td
                                    input(type='checkbox', ng-disabled="!vm.configTableEdit" ng-model='vm.monitorBasic.monitorPlayerUseSound')
                                td
                                    select.form-control(ng-disabled="!vm.configTableEdit", ng-model="vm.monitorBasic.monitorPlayerSoundChoice", required, ng-change="vm.testSound(vm.monitorBasic.monitorPlayerSoundChoice)")
                                        option(ng-repeat='(i,j) in vm.soundChoice', value='{{j}}') {{i}}
                    br
                    button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'Monitor')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                        text {{'EDIT' | translate}}
                        img.img-edit
                    button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("monitor")') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("monitor")') {{"CONFIRM" | translate}}

                div(ng-if='vm.selectedConfigTab=="playerValue"')
                    h4 {{'General Settings' | translate}}
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'criteria' | translate}}
                                th {{'VALUE' | translate}}
                        tbody
                            tr
                                td {{'Default Credibility Score' | translate}}
                                td
                                    input.form-control(type='number', ng-model='vm.playerValueBasic.credibilityScoreDefault', ng-disabled='!vm.configTableEdit')

                    br
                    h4 {{'Player Score Ratio' | translate}}
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'criteria' | translate}}
                                th {{'ratio' | translate}}
                        tbody
                            tr
                                td {{'TOP_UP_TIMES' | translate}}
                                td.percentage
                                    input.form-control.inlineBlk(type='number', ng-model='vm.playerValueBasic.criteriaScoreRatio.topUpTimes', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'Game Type Count Score' | translate}}
                                td.percentage
                                    input.form-control.inlineBlk(type='number', ng-model='vm.playerValueBasic.criteriaScoreRatio.gameTypeCount', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'Player Credibility' | translate}}
                                td.percentage
                                    input.form-control.inlineBlk(type='number', ng-model='vm.playerValueBasic.criteriaScoreRatio.credibilityRemark', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'Player Level' | translate}}
                                td.percentage
                                    input.form-control.inlineBlk(type='number', ng-model='vm.playerValueBasic.criteriaScoreRatio.playerLevel', ng-disabled='!vm.configTableEdit')
                            tr
                                td {{'Win Ratio' | translate}}
                                td.percentage
                                    input.form-control.inlineBlk(type='number', ng-model='vm.playerValueBasic.criteriaScoreRatio.winRatio', ng-disabled='!vm.configTableEdit')

                    br
                    h4 {{'Top Up Times Score' | translate}}
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'MIN_TOPUP_TIMES' | translate}}
                                th {{'Score' | translate}}
                                th(ng-if='vm.configTableEdit')
                        tbody
                            tr(ng-repeat='score in vm.playerValueBasic.topUpTimesScores')
                                td
                                    input.form-control(type='number', ng-model='score.name', ng-disabled='!vm.configTableEdit')
                                td
                                    input.form-control(type='number', ng-model='score.score', ng-disabled='!vm.configTableEdit')
                                td(ng-if='vm.configTableEdit')
                                    i.fa.fa-minus(ng-click='vm.updatePlayerValueConfigInEdit("remove", vm.playerValueBasic.topUpTimesScores, $index)')

                            //Placeholder for new entry
                            tr(ng-if='vm.configTableEdit')
                                td(colspan=3) {{'ADD' | translate}}
                            tr(ng-if='vm.configTableEdit')
                                td
                                    input.form-control(type='number', ng-model='vm.tempNewTopUpScoreEntry.minTopUpTimes')
                                td
                                    input.form-control(type='number', ng-model='vm.tempNewTopUpScoreEntry.score')
                                td
                                    i.fa.fa-plus(ng-click='vm.updatePlayerValueConfigInEdit("add", "topUpScore", vm.tempNewTopUpScoreEntry);vm.tempNewTopUpScoreEntry={}')
                    br
                    h4 {{'Game Type Count Score' | translate}}
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'Game Type Count Score' | translate}}
                                th {{'Score' | translate}}
                                th(ng-if='vm.configTableEdit')
                        tbody
                            tr(ng-repeat='score in vm.playerValueBasic.gameTypeCountScores')
                                td
                                    input.form-control(type='number', ng-model='score.name', ng-disabled='!vm.configTableEdit')
                                td
                                    input.form-control(type='number', ng-model='score.score', ng-disabled='!vm.configTableEdit')
                                td(ng-if='vm.configTableEdit')
                                    i.fa.fa-minus(ng-click='vm.updatePlayerValueConfigInEdit("remove", vm.playerValueBasic.gameTypeCountScores, $index)')

                            //Placeholder for new entry
                            tr(ng-if='vm.configTableEdit')
                                td(colspan=3) {{'ADD' | translate}}
                            tr(ng-if='vm.configTableEdit')
                                td
                                    input.form-control(type='number', ng-model='vm.tempGameTypeScores.name')
                                td
                                    input.form-control(type='number', ng-model='vm.tempGameTypeScores.score')
                                td
                                    i.fa.fa-plus(ng-click='vm.updatePlayerValueConfigInEdit("add", "gameTypeScore", vm.tempGameTypeScores);vm.tempGameTypeScores={}')

                    br
                    h4 {{'Player Level Score' | translate}}
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'Player Level' | translate}}
                                th {{'Score' | translate}}
                        tbody
                            tr(ng-repeat='playerLevel in vm.allPlayerLvl')
                                td {{ playerLevel.name }}
                                td
                                    input.form-control(type='number', ng-model='playerLevel.playerValueScore', ng-disabled='!vm.configTableEdit')

                    br
                    h4 {{'Win Ratio Score' | translate}}
                    table.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{'Win Ratio' | translate}}
                                th {{'Score' | translate}}
                                th(ng-if='vm.configTableEdit')
                        tbody
                            tr(ng-repeat='score in vm.playerValueBasic.winRatioScores')
                                td.percentage
                                    input.form-control.inlineBlk(type='number', ng-model='score.name', ng-disabled='!vm.configTableEdit')
                                td
                                    input.form-control(type='number', ng-model='score.score', ng-disabled='!vm.configTableEdit')
                                td(ng-if='vm.configTableEdit')
                                    i.fa.fa-minus(ng-click='vm.updatePlayerValueConfigInEdit("remove", vm.playerValueBasic.winRatioScores, $index)')

                            //Placeholder for new entry
                            tr(ng-if='vm.configTableEdit')
                                td(colspan=3) {{'ADD' | translate}}
                            tr(ng-if='vm.configTableEdit')
                                td.percentage
                                    input.form-control.inlineBlk(type='number', ng-model='vm.tempWinRatioScores.name')
                                td
                                    input.form-control(type='number', ng-model='vm.tempWinRatioScores.score')
                                td
                                    i.fa.fa-plus(ng-click='vm.updatePlayerValueConfigInEdit("add", "WinRatio", vm.tempWinRatioScores);vm.tempWinRatioScores={}')

                    br
                    button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'PlayerValue')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                        text {{'EDIT' | translate}}
                        img.img-edit
                    button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("PlayerValue")') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("PlayerValue")') {{"CONFIRM" | translate}}

                div(ng-if='vm.selectedConfigTab=="credibility"')
                    button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'Credibility')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                        text {{'EDIT' | translate}}
                        img.img-edit
                    button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("credibility")') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configSubmitUpdate("credibility")') {{"CONFIRM" | translate}}
                    div.row(style="overflow-x: auto; white-space: nowrap;")
                        div.col-md-6(style="display: inline-block; float:none;margin-left:8px; width:325px")
                            .well.row
                                label {{"REDUCE_SCORE" | translate}}
                                table.paddingTbl(style='min-width:100%')
                                    thead
                                        tr
                                            th {{"CREDIBILITY_NAME" | translate}}
                                            th(style="width:65px;") {{"score" | translate}}
                                            th {{"ACTION" | translate}}
                                    tbody
                                        tr(ng-repeat='(i, data) in vm.negativeRemarks')
                                            td
                                                text(ng-if="!vm.configTableEdit") {{data.name}}
                                                input.form-control(ng-show='vm.configTableEdit', ng-model='data.name', ng-change='vm.updateRemarkInEdit("negative", "update", data._id)')
                                            td
                                                text(ng-if="!vm.configTableEdit") {{data.score}}
                                                input.form-control(ng-show='vm.configTableEdit', ng-model='data.score', ng-change='vm.updateRemarkInEdit("negative", "update", data._id)')
                                            td.text-center
                                                i.fa.fa-minus.text-danger(ng-show='vm.configTableEdit', ng-click='vm.updateRemarkInEdit("negative", "remove", data._id)')
                                        tr.text-center
                                            td.text-center(colspan=3)
                                                i.fa.fa-plus.text-success(ng-show='vm.configTableEdit', ng-click='vm.updateRemarkInEdit("negative", "add", {})')

                        div.col-md-6(style="display: inline-block; float:none; width:325px;")
                            .well
                                label {{"ADD_SCORE" | translate}}
                                table.paddingTbl(style='min-width:100%')
                                    thead
                                        tr
                                            th {{"CREDIBILITY_NAME" | translate}}
                                            th(style="width:65px;") {{"score" | translate}}
                                            th {{"ACTION" | translate}}
                                    tbody
                                        tr(ng-repeat='(i, data) in vm.positiveRemarks')
                                            td
                                                text(ng-if="!vm.configTableEdit") {{data.name}}
                                                input.form-control(ng-show='vm.configTableEdit', ng-model='data.name', ng-change='vm.updateRemarkInEdit("positive", "update", data._id)')
                                            td
                                                text(ng-if="!vm.configTableEdit") {{data.score}}
                                                input.form-control(ng-show='vm.configTableEdit', ng-model='data.score', ng-change='vm.updateRemarkInEdit("positive", "update", data._id)')
                                            td.text-center
                                                i.fa.fa-minus.text-danger(ng-show='vm.configTableEdit', ng-click='vm.updateRemarkInEdit("positive", "remove", data._id)')
                                        tr.text-center
                                            td.text-center(colspan=3)
                                                i.fa.fa-plus.text-success(ng-show='vm.configTableEdit', ng-click='vm.updateRemarkInEdit("positive", "add", {})')
                        div.col-md-6(style="display: inline-block; float:none; width:325px;")
                            .well
                                label {{"REMINDER" | translate}}
                                table.paddingTbl(style='min-width:100%')
                                    thead
                                        tr
                                            th {{"CREDIBILITY_NAME" | translate}}
                                            th(style="width:65px;") {{"score" | translate}}
                                            th {{"ACTION" | translate}}
                                    tbody
                                        tr(ng-repeat='(i, data) in vm.neutralRemarks')
                                            td
                                                text(ng-if="!vm.configTableEdit") {{data.name}}
                                                input.form-control(ng-show='vm.configTableEdit', ng-model='data.name', ng-change='vm.updateRemarkInEdit("neutral", "update", data._id)')
                                            td
                                                text(ng-if="!vm.configTableEdit") {{data.score}}
                                                input.form-control(ng-show='vm.configTableEdit', ng-model='data.score', ng-change='vm.updateRemarkInEdit("neutral", "update", data._id)')
                                            td.text-center
                                                i.fa.fa-minus.text-danger(ng-show='vm.configTableEdit', ng-click='vm.updateRemarkInEdit("neutral", "remove", data._id)')
                                        tr.text-center
                                            td.text-center(colspan=3)
                                                i.fa.fa-plus.text-success(ng-show='vm.configTableEdit', ng-click='vm.updateRemarkInEdit("neutral", "add", {})')

                div(ng-if='vm.selectedConfigTab=="providerGroup"')
                    table#providerGroupTable.common-table.playerLvlTable(style='width:auto;min-width:99.9%')
                        thead
                            tr
                                th {{"Provider Group Name" | translate}}
                                th(width="600px") {{"Provider" | translate}}
                                th(ng-if='vm.configTableEdit') {{"add to group" | translate}}
                        tbody
                            tr(ng-repeat='group in vm.gameProviderGroup')
                                td
                                    input.form-control(disabled, ng-model='group.name')
                                td
                                    select.spicker.form-control(disabled, ng-model='group.providers', multiple data-width="600px")
                                        option(ng-repeat='(i,v) in vm.platformProviderList', value='{{v._id}}' ng-init="$last && vm.endLoadWeekDay()" ng-disabled="vm.checkProviderGrouped(v._id, group.providers)") {{v.name}}
                                td(ng-if='vm.configTableEdit')
                                    button.btn.btn-danger.common-button(ng-click='vm.deleteProviderGroup($index,group)') {{"Delete" | translate}}
                            tr(ng-if='vm.configTableEdit')
                                td
                                    input.form-control(ng-model='vm.newProviderGroup.name')
                                td
                                    select.spicker.form-control(ng-model='vm.newProviderGroup.providers', multiple, data-actions-box='true' data-width="600px" ng-change="$scope.safeApply();" data-dropup-auto='false')
                                        option(ng-repeat='(i,v) in vm.platformProviderList', value='{{v._id}}' ng-init="$last && vm.endLoadWeekDay()" ng-disabled="vm.checkProviderGrouped(v._id, group.providers)") {{v.name}}
                                td
                                    i.fa.fa-plus(ng-click='vm.gameProviderGroup.push(vm.newProviderGroup); vm.newProviderGroup={};')
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'providerGroup')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                            text {{'EDIT' | translate}}
                            img.img-edit
                        button.btn.btn-danger.common-button(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("providerGroup")') {{"CANCEL" | translate}}
                        button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-click='vm.configSubmitUpdate("providerGroup")') {{"CONFIRM" | translate}}
                        label(ng-if="vm.providerGroupConfig.showWarning") {{"There are unallocated providers" | translate}}
                div(ng-if='vm.selectedConfigTab=="smsGroup"')
                    .col-md-4
                        table.common-table.playerLvlTable
                            thead
                                tr
                                    th {{"no group sms setting" | translate}}
                                    th {{"add to group" | translate}}
                            tbody
                                tr(ng-repeat='(i, v) in vm.noGroupSmsSetting')
                                    td
                                        span {{v.name | translate}}
                                    td
                                        select.form-control(ng-disabled='!vm.configTableEdit' ng-model='v.group' style='width:80%;display:inline-block')
                                            option(ng-repeat="(k, t) in vm.smsGroups | filter: {smsParentSmsId: -1}", value="{{t.smsId}}") {{t.smsName | translate}}
                                        i.fa.fa-plus(ng-if='vm.configTableEdit' ng-click='vm.addSmsSettingToGroup(v,i);')
                    .col-md-8
                        table.common-table.playerLvlTable
                            thead
                                tr
                                    th {{"sms group" | translate}}
                                    th {{"sms group settings" | translate}}
                                    th {{"Function" | translate}}
                            tbody
                                tr(ng-repeat='(i, v) in vm.smsGroups | filter: {smsParentSmsId: -1}')
                                    td
                                        input.form-control(type='text' ng-if='vm.configTableEdit' ng-model='v.smsName')
                                        span(ng-if='!vm.configTableEdit') {{v.smsName}}
                                    td
                                        div(ng-repeat='(ii, vv) in vm.smsGroups | filter: {smsParentSmsId: v.smsId}')
                                            span {{ vv.smsName | translate}}
                                            i.fa.fa-minus(ng-if='vm.configTableEdit' ng-click='vm.removeSmsSettingFromGroup(vv);')
                                    td
                                        button.btn.common-btn.btn-primary(ng-if='vm.configTableEdit' data-toggle="modal", data-target='#modalDeleteSmsGroup' ng-click="vm.deletingSmsGroup=v") {{'DELETE' | translate}}
                        br
                        button.btn.btn-primary.common-button.pull-right(ng-if='vm.configTableEdit' ng-click='vm.addNewSmsGroup()')
                            text {{"ADD GROUP" | translate}}
                            img.img-edit

                    button.btn.btn-primary.common-button.pull-right(ng-if="!vm.configTableEdit && checkViewPermission('Platform', 'Config', 'smsGroup')", ng-click='vm.configTableEdit=!vm.configTableEdit')
                        text {{'EDIT' | translate}}
                        img.img-edit
                    button.btn.btn-danger.common-button.pull-right(ng-if='vm.configTableEdit', ng-click='vm.configTableEdit=!vm.configTableEdit;vm.configTabClicked("smsGroup")') {{"CANCEL" | translate}}
                    button.btn.btn-primary.common-button.pull-right(ng-if='vm.configTableEdit', ng-click='vm.configSubmitUpdate("smsGroup")') {{"CONFIRM" | translate}}

                //div(ng-if='vm.selectedConfigTab=="announcement"')
                    div(style="height:265px;overflow:auto;margin-bottom:5px")
                        form(name="platformAnnouncementsForm")
                            table.simple-table(style='width:auto;min-width:99.9%')
                                thead
                                    tr
                                        th(width="20%") {{'TITLE' | translate}}
                                        th(width="45%") {{'CONTENT' | translate}}
                                        th(width="15%") {{'REACH' | translate}}
                                        th(width="20%") {{'DATE' | translate}}
                                tbody
                                    tr(ng-if="!vm.configTableAdd", ng-repeat="(i,ann) in vm.allPlatformAnnouncements", sn-selectable-model="vm.selectedPlatformAnnouncement", sn-selectable-value="ann", ng-click="vm.currentlyFocusedAnnouncement = ann; vm.previewPlatformAnnouncement()")
                                        td
                                            input.form-control(type="text", ng-disabled="!vm.configTableEdit", ng-model="ann.title", required, title="{{ann.title}}")
                                        td
                                            textarea.form-control.expand-on-focus(ng-disabled="!vm.configTableEdit", ng-model="ann.content", required, ng-focus="vm.currentlyFocusedAnnouncement = ann; vm.previewPlatformAnnouncement()", ng-change="vm.previewPlatformAnnouncement()", ng-blur="vm.currentlyFocusedAnnouncement = null; vm.previewPlatformAnnouncement()", title="{{ann.content}}")
                                        td
                                            select.form-control(ng-disabled="!vm.configTableEdit", ng-model="ann.reach", required, title="{{ann.reach}}")
                                                option(value="all") {{"ALL" | translate}}
                                                option(value="players") {{"PLAYERS_ONLY" | translate}}
                                                option(value="conditional") {{"CUSTOM" | translate}}
                                        td
                                            input.form-control(type="datetime", date-time, ng-disabled="!vm.configTableEdit", ng-model="ann.date", title="{{ann.date | date:'medium'}}")
                                    tr(ng-if="vm.configTableAdd")
                                        td
                                            input.form-control(type="text", ng-model="vm.newAnn.title", required)
                                        td
                                            textarea.form-control.expand-on-focus(ng-model="vm.newAnn.content", required, ng-change="vm.previewPlatformAnnouncement()")
                                        td
                                            select.form-control(ng-model="vm.newAnn.reach", required)
                                                option(value="all") {{"ALL" | translate}}
                                                option(value="players") {{"PLAYERS_ONLY" | translate}}
                                                option(value="conditional") {{"CUSTOM" | translate}}
                                        td
                                            input.form-control(type="datetime", date-time, ng-model="vm.newAnn.date")
                    .pull-right
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && !vm.configTableAdd && checkViewPermission('Platform', 'Config', 'PlatformAnnouncementCreate')", ng-click="vm.configTableAdd=true; vm.newAnn={}; vm.currentlyFocusedAnnouncement = vm.newAnn")
                            text {{'CREATE' | translate}}
                            img.img-create
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && !vm.configTableAdd && checkViewPermission('Platform', 'Config', 'PlatformAnnouncementUpdate')", ng-disabled="!vm.selectedPlatformAnnouncement", ng-click='vm.configStartEdit("announcement")')
                            text {{'EDIT' | translate}}
                            img.img-edit
                        button.btn.btn-primary.common-button(ng-if="!vm.configTableEdit && !vm.configTableAdd && checkViewPermission('Platform', 'Config', 'PlatformAnnouncementDelete')", ng-disabled="!vm.selectedPlatformAnnouncement", ng-click='vm.configTableDeleteSelectedPlatformAnnouncement()')
                            text {{'DELETE' | translate}}
                            img.img-delete
                        button.btn.btn-danger.common-button(ng-if='vm.configTableEdit || vm.configTableAdd', ng-click='vm.configCancelEditOrAdd("announcement")')
                            text {{"CANCEL" | translate}}
                            .fa.fa-ban
                        button.btn.btn-primary.common-button(ng-if='vm.configTableAdd', ng-disabled="platformAnnouncementsForm.$invalid", ng-click='vm.configTableAdd=false; vm.submitAddAnnouncement()')
                            text {{"SUBMIT" | translate}}
                            .fa.fa-check
                        button.btn.btn-primary.common-button(ng-if='vm.configTableEdit', ng-disabled="platformAnnouncementsForm.$invalid", ng-click='vm.configTableEdit=false; vm.configSubmitUpdate("announcement")')
                            text {{"CONFIRM" | translate}}
                            .fa.fa-check
                    .clearfix
                    label {{"PREVIEW" | translate}}
                    .well(style="margin-bottom: 0px; padding-top: 15px; padding-bottom: 15px", ng-non-bindable)
                        .announcementPreview.html(style="max-height: 185px; overflow: auto; background-color: white")
#modalUnlockProvider.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog(style='width:80%;')
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"turn off Use Provider Group" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .row
                            .col-md-12
                                .well
                                    label {{"all provider group will force unlock"|translate}}
            .modal-footer
                button.btn-sm.margin-right-5.btn.btn-primary.col-md-2(data-dismiss='modal') {{"CONFIRM" | translate}}
                button.btn-sm.margin-right-5.btn.btn-warning.col-md-2(data-dismiss='modal' ng-click='vm.platformBasic.useProviderGroup = vm.selectedPlatform.data.useProviderGroup') {{"CANCEL" | translate}}

#modalDeleteSmsGroup.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', keyboard=false,aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog(style='width:80%;')
        .modal-content
            .modal-header
                a.fa.fa-times.close(type='button', data-dismiss='modal')
                h4.modal-title {{"DELETE_SMS_GROUP" | translate}}
            .modal-body
                .panel.panel-primary
                    .panel-body
                        .row
                            .col-md-12
                                .well
                                    label {{"Are you sure you want to delete sms setting group"|translate}}
                                    strong.text-danger &nbsp;{{vm.deletingSmsGroup.smsName}}
                                    label ?
            .modal-footer
                button.btn-sm.margin-right-5.btn.btn-primary.col-md-2(data-dismiss='modal' ng-click='vm.deleteSmsGroup(vm.deletingSmsGroup)') {{"DELETE" | translate}}
                button.btn-sm.margin-right-5.btn.btn-warning.col-md-2(data-dismiss='modal') {{"CANCEL" | translate}}

.row(ng-if="checkViewPermission('Platform', 'Config', 'DownloadTranslationCSV')")
    .col-md-3
    .col-md-9(style="padding-left:0;padding-right:15px")
        .panel.panel-primary
            .panel-heading.panel-heading-sm
                label {{"CHINESE_TRANSLATION_CSV" | translate}}
            .panel-body
                button.btn.btn-primary.common-button(type='button', ng-show='!vm.prepareTranslationCSV', ng-click='vm.downloadTranslationCSV()')
                    i.fa.fa-cog
                    text {{"PREPARE_CSV" | translate}}
                button.btn.btn-success.common-button(type='button', ng-show='vm.prepareTranslationCSV', ng-click='vm.prepareTranslationCSV=!vm.prepareTranslationCSV', ng-csv='vm.exportTranslationCSV', filename='{{vm.fileNameCSV}}.csv')
                    i.fa.fa-download
                    text {{"DOWNLOAD_CSV" | translate}}